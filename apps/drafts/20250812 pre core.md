write the core function for a single page web app. it's a markdown based presentation app. 

- the props is a string of markdown. the output should be an array of html. each item of the array is a page.
- the markdown file should be splitted based on headers and horizontal rules. whenever you read one of them, start a new page. horizontal rules should not appear in the output.
- import opensource libraries on cdn to convert markdown to html.

dont give me the code now. tell me how to render themed code blocks, and math expressions (latex). and your choice of libraries, your reason.

