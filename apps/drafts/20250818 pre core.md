write the core function for a single page web app. it's a markdown based presentation app.

- the only param is a string of markdown. the output should be an array of html. each item is a page.
- the markdown file should be splitted by headers and horizontal rules. whenever you read one of them, start a new page. horizontal rules should not appear in the output.
- import opensource libraries to convert markdown to html.
  - use markdown-it for markdown to html
  - use prism for code rendering
  - use mathjax for math expressions
  - give me the cdn links, they will be loaded before this script
- the slides should be already processed with prism and mathjax
  - the array of slides can be copied elsewhere without these libraries
- do not use web worker

tell me if you have any suggestions!
