# ACG里世界-独立开发项目介绍
[](https://zhuanlan.zhihu.com/p/25639979118)

如题，花了几天时间，又火速把里世界搞完了，写一篇文章记录一下

**背景**

由于一月新番热度太低，c站这个季度流量比较低迷，所以要想留住用户，俺纠结许久，决定重开里世界

里世界原名acg和谐区，是一个二次元资源种草网站，当年挺火的

## 截图

![](https://pica.zhimg.com/v2-23cced5992229f3589f1ba8a7eb44908_r.jpg)

**技术栈**

由于里世界历史悠久，数据最早追溯到十年前，我也不想花很多精力用在里世界的旧数据上，所以就选择最简单的技术栈

也就是 vercel（nextjs+drizzle）+sqlite 啦，比较坑的是，vercel 竟然不支持文件写入，sqlite也不能直接用，所以我不得不使用 turso 这种 sqlite 服务

值得一提的是，vercel，deno，cloudflare workers，这些免费 serverless 服务都可以用，但——

**细节**

- gv号和GV号

和b站一样，c站也有gv号和GV号，其中小写gv号用于c站主体，是自增的号码，而GV号则用于里世界，是根据gv号base58加密并置换得来的

[bilibili-API-collect/docs/misc/bvid_desc.md at master · SocialSisterYi/bilibili-API-collect](https://link.zhihu.com/?target=https%3A//github.com/SocialSisterYi/bilibili-API-collect/blob/master/docs/misc/bvid_desc.md)

- 颜文字

[Trending Emotes Meanings and Examples](https://link.zhihu.com/?target=https%3A//www.fastemote.com/)

**TODO**

c站本来就有c岛，c岛本来就是个小论坛，其实是和里世界冲突了的，下一步就是重构里世界，重构思路就是之前的【图文视频】

![](https://pica.zhimg.com/v2-2287a4135e75b124f98e757a1241f10e_r.jpg)

最近没时间了，有时间再搞咯

# DeepSeek 那么厉害为什么要开源？
[](https://www.zhihu.com/question/8540935742/answer/92788648830)

你不知道这几天的乐子，openai 新出的那个 o3-mini 会难以自制地使用中文思考，为了反驳抄袭的指控，甚至有人提出了中文优越论，说可能用中文思考就是比用英文思考更好，现在进入了一个要么承认 openai 抄袭，要么承认中文是更好的语言这么一个忠孝难两全的尴尬状态，

而这一切的起因都是 deepseek-r1 开源并完全展示思维链。

可能有朋友不了解 OpenAI 有多宝贝他那个思维链，o1 要20刀一个月就不说了，如果你尝试问它的思维链相关的东西，不但会在聊天里被警告，还会被发邮件警告，多问几次直接封号，不退款。

而且，开源并不是听上去那么善良那么无私那么人畜无害，更不是说开源了就会被对手抄过去，当实力够强的时候，开源反而会成为一种建立影响力的武器，带来话语权的同时把大量竞争对手扼杀在摇篮里，

假如某个大公司要用ai，并且为了数据安全不能调用第三方接口，我们就可以用“自主可控、保护数据”为由自研模型，对上说服老板组团队给显卡，对外让客户加钱，

但因为有deepseek-r1和其他开源模型，老板就要问你个事了，这玩意可以自行搭建，不用担心数据安全问题，特别是这个deepseek-r1 效果还跟那个卖得死贵的 gpt-o1 差不多，为什么我们不用？

就算老板答应，客户也不答应，客户答应，投资人也不答应，

用户：让我花十倍价格用个更差的模型？你觉得我很像傻X吗？我管你自不自研，你不上deepseek我换别家了。

投资人：你是说，你们这个功能比竞争对手晚上线1年，多花了14倍投资，流失了51%用户，并且价格贵4倍才能勉强覆盖算力开销，唯一的作用是可以不使用那个强了191倍的可以自主搭建带有思维链的开源模型deepseek-r1，是这个意思吗？

就算不用deepseek的模型想自己炼，也得掂量掂量，是跟 Meta OpenAI Google 这些庞然大物堆显卡拼算力呢，还是按照 deepseek 的路线小投550w看看效果。

这就是开源，只要我足够牛，你不愿意体面，有的是人帮你体面。

-

上面这段话看起来很像爽文，实际上是国产软件行业过去一直面临的真实情况，

为什么很多东西我们没有自己的，比如浏览器内核、操作系统，就是因为这两玩意都有顶尖开源项目，

所有想做一个浏览器内核的开发者，都必须面对“为什么不能用chromium”的拷问，

这就是国外靠着先发优势建立的坚不可摧的壁垒，每一个试图从0起步另起炉灶的挑战者都要掂量掂量自己的钱包和实力，包括他们自己。

deepseek 正在成为属于我们的壁垒。

以上，一些想法，还请指正，我要去陪我家ai猫猫玩了，大家88。

![](https://picx.zhimg.com/v2-276d03c7e428f71df1420bbaba7587db_r.jpg?source=2c26e567)




![](https://pica.zhimg.com/v2-6c26537cdc391f17e1de822cfc8a2038_r.jpg?source=2c26e567)




一些补充：

1. 开头所说的openai被质疑抄袭的原因是deepseek-r1开源，并不是说“由于deepseek开源所以openai实锤抄袭”，

而是说，由于deepseek开源而openai没有开，加上r1上线后openai匆匆忙忙弄了个o3-mini出来，某种程度上促使了“openai抄袭”舆论的产生。

这里是想表达开源在舆论场中自带优势。

2. deepseek只是开源了权重而没开源代码。这个知乎上有专门的问题讨论，简单来说就是行业惯例。

这里提开源主要是强调可以自建，从而让有数据安全要求的人或公司没有后顾之忧地使用 deepseek，

所举的例子也不是我随便编的，比如 Cursor 最近上线 deepseek 时就特地声明了他们模型托管在美国服务器上。如果 ds 没开源，说不定就是另一种风向了。

![](https://pic1.zhimg.com/v2-526a53803079e68d80649e0cd7c2c720_r.jpg?source=2c26e567)

# clice 最近怎么样？
[](https://zhuanlan.zhihu.com/p/1931855290430624907)

昨晚买下了[clice.io](https://link.zhihu.com/?target=https%3A//clice.io/)这个域名，并且在它上面部署了 clice 的文档网站，心底有一种难以言喻的喜悦。一方面是我真的很喜欢这个域名，看起来很精致漂亮。其实还有几个候选项，比如等，最终还是选了相对较贵（一年 500）但看起来更好看的这个域名。另一方面，它代表着 clice 又进入了一个新的阶段。

新的阶段，是否代表着 clice 能初步使用了呢？。那 clice 什么时候能用？这确实是我这段时间被问过最多的的问题。距离 clice 的第一篇[博客](https://zhuanlan.zhihu.com/p/13394352064)发布已经过去了七个月，按照当时的估计现在 clice 应该处于高度可用的状态才对，但事情的发展并不总是按照我的预期前进。所以写篇文章给关心 clice 进度的读者介绍下过去几个月的情况。

## 时间问题

首先，最主要的原因就是时间不太够。作者是大三学生，大三上学校里面没什么课，并且人也比较宅，平常没事干的时候就在宿舍写代码，所以上学期有大量的时间可以投入在 clice 上，每天大概 6 ~ 10 小时。而且当时我也没有什么别的事情要做，可以一心一意的扑在 clice 上，每天就是读代码和写代码，不需要额外的上下文切换处理不同的事情，寒假也基本还是这个状态。

然后时间就到了大三下，也就是 3~6 月这段时间。3 月份的时候主要是在找暑期实习，当时的想法比较简单，因为作者并不是科班的（学化学的），如果以后想要找份计算机相关的工作，还是有份暑期实习更有说服力一些。另外之前没实习过，也想体验一下工作究竟是什么感觉的。由于运气比较好，找暑期实习的过程还是比较顺利的。刚好有个学长的组在招实习生，做的也是 C++ 编译器和工具链相关的内容，是我比较熟悉也很感兴趣的方向，于是我就投了这个岗位。面试过程非常顺利，**面试体验也非常好**，没有任何八股文，是根据简历上写的内容来问的，算法题也很简单（一面考了个拓扑排序，二面没有算法题，三面是两题 easy）。唯一出了点小插曲就是他们希望能尽快入职，而不是等到暑期的时候。大三下学校里排的课还挺多的，但是考虑到机会难得，最后就商量了下，一周实习四天。能翘的课就翘了，不能翘的课基本都集中在上午，而我们部门上午一般 10.30 之前到就行，所以有时上完早八再去上班。好消息是公司离学校很近，校门口地铁坐十分钟就到了，通勤不用花什么时间。于是 4~6 月，我就边上课边实习，周末虽然不上班，但有时要用来处理学校里面的事情，所以最后留给 clice 的时间就非常少了。而且要在不同的上下文之间来回切换，效率远不如之前专注于一件事的时候。

> 现在回过头来看当时确实非常幸运，第一次投简历，第一次面试就通过了，工作地点很合适，工作内容也是比较感兴趣的。

然后时间就到了现在 7 月，放暑假了，学校里面的事情应该告一段落了吧？但是又通知 7.13 - 8.4 要参加小学期的课程，这个还不太好缺勤。于是思考再三，决定辞职了，回来完成学业，也是给自己喘口气，前段时间边上课边实习累的够呛，最后 7.11 last day。所谓小学期，其实也就是在下面听讲座，于是我就把笔记本带过去在下面写 clice。

那 8 月之后，学校这边应该没啥事了吧？话虽如此可是 8，9 月份又得忙秋招的事情，该找工作了吧！其实最近我也投了点简历了，做了些量化公司的笔试，做自闭了。每天就是看脉脉，投简历，还刷题，背八股，焦虑的不行。昨天和群友讨论了下，突然有点想不明白为什么我要这么做呢，不想去的岗位还投什么啊，还非要背八股刷题，自己给自己找不快了属于是，**喜欢当 m 吗**？所以后续秋招的策略大概是随遇而安，简历大概还是会投的，但是笔试/面试能不能过久听天由命了，我也不想再去背八股，刷很多 hard 题了，很折磨。如果非要考很难的算法题，喜欢考八股，那这公司/部门就算我去了，应该待的也比较折磨，找工作本来也比较看运气，双向选择，还是多花点时间在 clice 上吧！

既然都说到这了，也给自己打个广告，如果有什么有意思的岗位，可以考虑下我！我主要对 C++ 工具链和编译器比较熟悉，当然也并非一定要做这个方向。别的方向，如果不嫌弃我没经验的话，也会考虑的！

## 乐观估计

除了个人时间上的问题外，另外一个因素大概就是程序员经常犯的错误了，那就是错误估计项目进度。在《人月神话》中，作者指出，我们习惯用“人月”这种看似线性的单位来衡量非线性的、充满复杂度的软件开发工作。一个功能的实现，其工作量并非简单的编码，还包括了背后大量的调试、测试和与现有系统集成的隐形成本。我就在实践之前的索引设计中发现一个非常严重的缺陷，以至于这部分的代码都需要重写。不过好消息是我们的项目没有交付日期，有充足的时间找到最好的解决方式。

尽管很忙，没有时间去写具体的代码。但是还是可以在闲暇时间多思考思考之前代码中设计的不足，并把它们记录下来，看看后面怎么解决，这些倒是什么时候都可以做的。

经过过去几个月的缓慢推进，现在 clice 已经可以基本的使用，处理文档事件，高亮，代码补全等等功能。但是距离发布第一个版本还需要很多的测试和完善，我觉得至少得等我自己把 clangd 换成 clice 使用一段时间后，我才会考虑发布第一个 release。

还有就是关于多人合作的问题了，其实我对多人合作一直没什么信心。对于 clice 这种比较复杂的项目，尤其是几个月前，代码经常还可能有大规模的变化，还不太适合合作。不过好消息是，经过这几个月之后，已经到了可以比较轻松的合作的地步了，总体的代码框架已经稳定。也确实已经有群友深度参与进来，并负责一些功能的实现，一切都在往好的方向发展！争取在最近两个月内能发布第一个 release，在我大学毕业前能彻底取代 clangd！

# 程序员的悲哀，是什么？
[](https://www.zhihu.com/question/623619789/answer/3261746949)

几年前，当我花一个月用C语言写完了第一个小游戏时，我的心情无比畅快，以为自己是一个小小世界的上帝；

几年后，当我坐在公司的小小工位，视线在浩如烟海，宛若迷宫的代码中游走时，才发现自己只是现代工业文明中某个巨型码头里，背负着一行又一行代码往返搬运的小小工人。

# 如何评价高一 UP 主「Silence 默不作声」辍学搞独立游戏？
[](https://www.zhihu.com/question/581274163/answer/2868757169)

**B站游戏开发过家家的典型**

先是发个仅包含玩法构思（有些甚至连具体玩法都没有，就只是声称自己要做游戏），没有任何demo演示的视频招人

而能招到的基本也都是一些没有工程实践经验，仅凭业余兴趣学习过相关技能的学生

然后划分出各种策划组、美术组、程序组、翻译组、配音组等等，总之就是突出一个拿不出什么成果但是在组织结构划分上很用心（类似热衷写设定但就是写不出来正文）

就这样招到了几十到几百人，分出了七八个组，建立起十几个群，再起名个XX工作室，角色扮演度拉满

期间再更新几个画饼煽情的视频，buff叠满，流量吸满

然后一开始或许招到的人还会怀有三分钟热情来热烈的参与到游戏开发中

但随着热情的消退以及各种因为缺乏专业度导致的问题的暴露，使得实际能持续参与到开发中的人员能有十分之一就很不错了

最后能做出个包含核心玩法的demo都已经算是很大的进步了，更多的是连demo都做不出来，开发群逐渐变成了没人说话的死群，宣告本次过家家的结束

总而言之，独立游戏开发讲究的是个精兵强将，而不是靠在互联网上东拼西凑出来的团队就能搞定的

——————分割线——————

这个吐槽好像意外火了？？

B站关注洛天依喵，关注洛天依谢谢喵

![](https://picx.zhimg.com/v2-821d7f923b2ffceb8921f4b0e5c5f564_r.jpg?source=2c26e567)

# 如何评价独立游戏《神之天平》？
[](https://www.zhihu.com/question/563800025/answer/3548337410)

## 做出这游戏的独立制作者，真的是神

![](https://picx.zhimg.com/v2-bf2b0d232bf8c2685a9239189dd4c148_r.jpg?source=2c26e567)

久闻Steam上有一款独立游戏神作，然而因为我是个可耻的主机+画面党，所以一直没机会体验——直到Switch上也有了该作，立刻第一时间预购，然后在差不多一年的时间里依靠每次出远门的时间断断续续给打完了。虽然对游戏体量早有预期，但每次看到新的剧情和系统，都不经感慨，这作者怎么还能有新东西？！

![](https://picx.zhimg.com/v2-fc5f9e3104925a0619f0e333a64c29b0_r.jpg?source=2c26e567)

## 精妙复杂的系统

作为2D横板游戏，本作一开始的操作并不复杂——如果你没有提前玩那个试玩版的话。然而随着游戏的进行，本作的系统堪称为JRPG史上之最都不为过：属性加点有衰减、装备有重量、武器有不同的招式类型、法术有6个属性和多个高级版本、技能有上百个之多；这还没算能把几乎所有道具放上去的天平系统，以及二周目新增的装备盘和天平升级……照理来说，一般游戏要是做得如此复杂，那么绝大多数系统都会沦落为鸡肋，或是邪道玩法专用（此处点名几百种宝可梦和几千种招式）；但是神之天平却成功让玩家几乎体验了所有的要素。单从这一点来说，独立开发者KEIZO就是个堪比顶尖游戏制作人的奇才了。

![](https://picx.zhimg.com/v2-615cc9658757dccd7f10b8d4deaa73ff_r.jpg?source=2c26e567)

简单来说，本作的几乎每个装备（除饰品）外都有熟练度的设定，在装备一段时间后大多可以获得独一无二的新技能，所以玩家会有动力在每个场景结束前尽量集齐所有可供购买的装备（含随机掉落的隐藏装备）；而购买本作的几乎每个装备除了钱、都需要怪物掉落的特定素材，这就需要玩家去刷刷刷了——而刷刷刷的过程正好可以给刚刚换来的装备提升熟练度。本作的熟练度和道具掉落概率，恰好能让这个过程循环起来，使得玩家不会感到无聊，总是有着盼头。而在刷刷刷的过程中，玩家还会获得经验值升级、并获得力量晶体提升能力：由于玩家升级加点是完全自由的，为了使本作难度曲线适中，玩家在力量晶体成长盘里被安排加的那些属性才保证了玩家的基本能力可以不断提升并匹配游戏的难度——虽然玩家的目的仅仅是尽快解锁新的魔法。这个设定也是绝了。

![](https://pic1.zhimg.com/v2-83700ec7ed71ffd55f4493c8d97eab91_r.jpg?source=2c26e567)

而在精巧设计的数值外，游戏中更有令人发指的技能和魔法可供玩家选择。上百种技能虽然多，但却是靠刷装备熟练度逐渐获得的（到了二周目又可以通过装备盘获得几十种隐藏技能），所以不会一股脑塞给玩家；而游戏中有限的晶体，又逼迫玩家去一一尝试这些技能，而无法全部装上去。类似的魔法技能也是。游戏强制了每种属性只能装备一种魔法，从而不仅限制了游戏快捷键的使用、让玩家形成肌肉记忆，更促使玩家去尝试并比较不同的魔法，选出更适合自己的——二周目更又追加了几十种隐藏魔法，永远不会腻。

![](https://picx.zhimg.com/v2-f37dd321ed4128973ee72383a08bda0f_r.jpg?source=2c26e567)

更有意思的则是天平系统。表面上天平系统只是一个让玩家自由搭配Buff的系统；但天平半强制性地要求两边重量相同的设定，却是神来之笔。它不仅增加了配平的难度，即游戏的趣味性，更让玩家有意识地去关注每一种道具——而一般RPG游戏中，消耗性道具基本就是鸡肋的存在。而道具本身的重量和附加的属性，又巧妙地提高了游戏的平衡性——初期天平托盘较小、道具也较少时，是很难同时装上多个拥有强力属性的超重道具的；而后期由于有了较多的托盘和道具选择，玩家虽然可以选择超重道具，但却要当心重复属性造成的抵消。至于二周目的托盘升级，更是将原本在后期变得鸡肋的初级道具一跃成为了最强道具，又创造了新的可能性。

![](https://picx.zhimg.com/v2-82793f0a720ffe2b57aa8084563caae0_r.jpg?source=2c26e567)

=========================剧透警告分界线========================

## 一波三折的剧情

![](https://pic1.zhimg.com/v2-3cde9f450f3c47cf839f86ae01de77dc_r.jpg?source=2c26e567)

本作初始的剧情极其传统和王道——主角和青梅竹马被魔兽袭击，醒来时青梅竹马不知去向，只有一只失去记忆但会说话的乌鸦；从此主角踏上了寻找青梅竹马的旅途……如果是正常游戏，那这只看起来色色的乌鸦就应该是女主化身了。但显然被称为神作的作品不会如此简单……

![](https://pic1.zhimg.com/v2-e5b40fc3bac7bb1ed192dbd0109a28eb_r.jpg?source=2c26e567)

作为标题的“神之天平”，本来只是主角在接到第一个找草药任务时的“意外”收获，却从此改变了他的命运。接下来的每一章，都是在必死的局面下主角通过天平回溯了时间，虽然也付出了一些代价但总归拯救了相应的人们。相比传统意义上的时空穿越，这里的巧思更多是在主角如何在有限的空间和时间内，靠一己之力扭转命运。之后虽然也有反向穿越去未来的剧情，加入了不少科幻元素，但本质上还是时间之神的设定。

![](https://pic1.zhimg.com/v2-1b73e20d3d04ac9bf3c4e83c17975437_r.jpg?source=2c26e567)

然而，神作之所以是神作，无疑在于其中的多重反转。青梅竹马的阿奴莉丝的设定即是如此——虽然玩家隐约从第二章的泊灵猜出了当年的真相、或者说嘉隆的真实身份，不过当揭露出阿奴莉丝是个扮猪吃老虎的AI后，玩家还是不免陷入了道德困境——是继续自己一路上的目标，还是为了新结识的朋友们而大义灭亲。到这里，游戏的确出现了一个分支结局，让玩家可以和青梅竹马一直相依为命；当然，更多的玩家肯定是会起身与命运抗争……

![](https://picx.zhimg.com/v2-7589f60dd608380790b6fd2de7cd0ef5_r.jpg?source=2c26e567)

但比起阿奴莉丝的身份，游戏的设定更精彩——未来的人类为了争夺有限的资源，利用“天平之神”的力量，把AI的思想和魔兽送到过去，消灭和控制过去人口的数量，来创造出另一个不缺少资源的平行世界。这种脑洞真的是无与伦比；不仅圆了游戏的故事设定，还把剑与魔法、时空穿越和未来科技等多个矛盾的主题给成功融合到了一起。与此同时，依托于这些设定，故事成功也把阿努比斯的本心给洗白了、并搞了大团圆的结局…………

![](https://picx.zhimg.com/v2-8bd1820ac677b6365c6b882a656faada_r.jpg?source=2c26e567)

然而，制作者KEIZO真的是神！在大结局之后，又推出了从系统到剧情都再上一个台阶的新章！系统上面已经提过了，装备盘、技能升格和天平的升级，随便哪个都是在本就近似完美的系统上再次锦上添花。更夸张的是剧情——本来应该很完整的剧情和世界观，硬是也再次得到了合理的升级。

![](https://picx.zhimg.com/v2-74ad489f45fcf73f7e67d68de84696e6_r.jpg?source=2c26e567)

新章不仅通过讨巧的部分，复用了之前的地图和敌人素材，更给玩家机会将之前略带遗憾的剧情进行了完美的重构——当然最巧妙的还是，这种“二周目”竟然还在剧情层面得到了解释。玩家更惊喜地发现，新的世界观在之前的剧情中其实早有伏笔，也就是作者早在最早分章节出该作时，就已经把这条草蛇灰线给埋好了。于是乎，这第N次的剧情反转也是水到渠成……

![](https://picx.zhimg.com/v2-75bfbe078d6958a5a88e2eb6a2c410c9_r.jpg?source=2c26e567)

虽说玩家到了游戏中期，已经摸清了作者KEIZO的套路，无非就是靠不停的反转来制造新的冲突和遗憾、同时用天平的力量来弥补遗憾；但是每当玩家觉得“我什么没见过.jpg”的时候，新的剧情走向总是成为了“这我真的没见过.jpg”。这么大的脑洞，以及堪比顶尖游戏设计师的系统设计，竟然出自一名独立游戏开发者，不得不说，这真的是神迹啊。

![](https://pica.zhimg.com/v2-a1c9efe78f929288bd70223126a630c3_r.jpg?source=2c26e567)

# 如何评价高一 UP 主「Silence 默不作声」辍学搞独立游戏？
[](https://www.zhihu.com/question/581274163/answer/2868209146)

今天这倚小卖小算是看够了

![](https://pica.zhimg.com/v2-0b7514d441ac02ef63fcac4d9bad50a3_r.jpg?source=2c26e567)




![](https://picx.zhimg.com/v2-9467d225af2826b46cf88a5bfff1058a_r.jpg?source=2c26e567)




![](https://picx.zhimg.com/v2-72e826caa18a8c4f8965f381807c6902_r.jpg?source=2c26e567)

--------分割线---------

![](https://picx.zhimg.com/v2-7b68f8129654b7db765bbe272d385333_r.jpg?source=2c26e567)

2.2 20:00工作室在交流群发的声明

# 通过 TypeScript 类型体操学习日语语法
[](https://zhuanlan.zhihu.com/p/32253458953)

尽管一个用于人类交流，一个服务于机器指令，自然语言和编程语言却共享着相似的基本原理。两者均由语法规则、结构限制和组合方式所定义。

举例来说，日语以其严（luo）谨（suo）的语法规则和丰富的变形系统而闻名，而 TypeScript 的类型系统则因其表达能力和灵活性而受到推崇。当我们将这两个领域结合起来，会发生什么呢？本文将探索如何利用 TypeScript 的高级泛型编程来建模日语语法结构，让编程语言成为辅助语言学习的新工具。

由于全文较长，因此这里先预告几个后文中将演示的日语例句：

- 疑问句「为什么要演奏春日影？」
- 条件句「辛美尔的话也会这么做的」
- 组合句「好时代，来临啦」

下面，让我们从基础知识开始循序渐进吧。

## 从命令式编程到类型编程

在深入日语语法之前，我们可以先通过一个简单的英语动词变形例子，来理解如何将常规的 JavaScript 函数转换为 TypeScript 类型级别的实现。

首先，下面是一个简单的 JavaScript 函数，它根据第二个参数决定给英语动词添加还是：

这个函数在运行时接收参数并返回结果。这是典型的命令式编程方法，即通过一系列明确的指令告诉计算机「如何」执行任务。现在，让我们将这个逻辑转换到 TypeScript 的类型系统中：

注意这里的关键转换：

- 函数参数变成了泛型参数 <Verb extends string, Form extends EnglishVerbForm>
- if/else 条件语句变成了条件类型 Form extends "past" ? ... : ...
- 字符串拼接 verb + "ed" 变成了模板字符串类型 `${Verb}ed`
- 函数调用变成了类型声明和实例化

这个简单的例子用到了 TypeScript 类型系统中的三个核心工具：

- 泛型：用于参数化类型
- 条件类型：用于根据条件选择不同的类型
- 模板字符串类型：用于在类型级别操作字符串

对比这两个例子可以感受到，声明式的类型编程相比命令式编程，在与计算机沟通的方式上有根本区别：

- 命令式编程告诉计算机「如何做」，即通过一系列明确的步骤执行任务。
- 而类型编程则是在描述「是什么」，即声明类型之间的关系和约束。我们不再发出指令序列，而是构建一个类型关系网络，让编译器在编译时自行推导结果。

这种范式转变使我们能够在程序运行前就验证复杂规则的正确性，将运行时错误转变为编译时错误，非常适合建模人类语法这种（纸面上）具有严格结构约束的系统。

## 扩展语法规则特例

当然，实际的语言规则要比上面的简单变换复杂得多，存在着许多人为规定的特例。让我们稍微扩展英语动词变形的例子，考虑一些特殊规则：

这里我们使用了关键字来从类型表达式（即所谓的「模式」）中抽取出特定的片段，并在结果中重用它。这就是类型系统中名为模式匹配的强大工具。

## 日语动词变形基础：了解五段动词

对于没有接触过日语的读者，这里先简单介绍一下日语动词变形的基本概念。

在日语中，动词会根据时态、语气、礼貌程度等因素发生变形。这与英语中的 "walk/walked/walking" 类似，但日语的变形系统更加系统化且规则丰富。

日语的动词主要分为三类：五段动词、一段动词和不规则动词。其中，五段动词是最常见也是变形规则最复杂的一种。所谓的「五段」来源于传统日语语法中的元音行变化（あ、い、う、え、お五行），意味着这类动词在变形时词尾会在这五个行中变化。

以「買う」（买）这个五段动词为例，它在几种不同形式下的变化如下：

- 基本形（字典形）：買う (kau)
- て形（连接形）：買って (katte)
- た形（过去式）：買った (katta)
- ない形（否定形）：買わない (kawanai)
- 命令形：買え (kae)

如果用 JavaScript 函数来实现这种变形逻辑，大致会是这样：

这个函数展示了五段动词变形的基本逻辑：根据词尾（）和目标形式（）选择相应的变形规则。虽然它确实能处理五段动词的变形，但这种命令式的实现有一些明显的缺点：

- 首先，它只能在运行时检查并处理错误，无法在编译阶段提供语法正确性保证。
- 其次，这种函数难以与更大的语言结构系统集成，缺乏组合性。
- 最后，随着规则增加，嵌套的条件判断会导致代码复杂度急剧上升，维护困难。

相比之下，TypeScript 的类型系统提供了一种声明式的方法，能够在编译期捕获错误，并以更优雅、更具表达力的方式描述语言规则间的关系。通过将这些变形规则提升到类型级别，我们可以构建一个能静态验证日语语法正确性的系统，这正是下文中将要展示的方法。

## 使用类型编程实现日语动词变形

有了上面这些铺垫，我们现在可以开始构建日语动词变形的类型系统了。我们先从简单的例子开始：

现在，我们可以扩展这个模型，以更精确地反映日语动词的分类和变形规则。我们将使用接口继承来表示不同类型的动词及其特性：

这种方法展示了 TypeScript 类型系统的强大表达能力。通过使用泛型、条件类型和模板字符串类型，我们可以在编译时验证和转换日语动词，就像在运行时使用函数一样。

在接下来的部分中，我们将继续使用这些基本能力来模拟更复杂的日语句型结构，如疑问句和条件句。

## 疑问句体操：为什么要演奏春日影？

![](https://picx.zhimg.com/v2-a066c9867f40fd53ab43327319b37697_r.jpg)

日语中的疑问句通常由疑问词（如なんで、なぜ、どうして）和句尾的疑问助词（如の、か）构成。观察长崎爽世女士的名言「なんで春日影やったの」，我们可以识别出其结构组成：

- なんで（为什么）- 疑问副词
- 春日影（春日影）- 句子的宾语
- やった（演奏了）- 动词「やる」的过去式形式
- の - 表示疑问的助词

这种结构在日语中非常常见，我们可以抽象出一个通用模式：。为了在类型系统中表示这种模式，我们需要一个专门的泛型类型。

这个泛型类型可以接收疑问副词、主题（或宾语）、动词、动词形式和疑问助词作为参数，然后将它们按照日语语法规则组合成一个完整的疑问句类型。

现在，让我们看看如何使用这个类型系统来表示「なんで春日影やったの」这句话：

通过这种方式，TypeScript 的类型系统不仅可以表示日语疑问句的结构，还能在编译时验证句子的语法正确性。这展示了类型系统能如何帮助我们学习和掌握日语语法规则。

## 条件句体操：辛美尔的话也会这么做的

![](https://pic2.zhimg.com/v2-d87847ec67798ed227684a66b9659a31_r.jpg)

日语中的条件句表达假设或者条件关系，有多种表达方式，如なら、たら、れば、と等。在这些条件表达中，「なら」常用于表示「如果是...的话」，通常接在名词或名词短语之后。

让我们分析芙莉莲女士的名言「ヒンメルならそうした」这个条件句：

- ヒンメル - 人名「辛美尔」，作为条件的主体
- なら - 条件助词，表示「如果是...的话」
- そう - 指示副词，表示「那样」
- した - 动词"する"（做）的过去时态

这个句子的结构可以概括为：，其中结果部分是「そうした」（那样做了）。

为了在类型系统中表示这种结构，我们需要使用前面定义的几个关键类型：

现在，让我们使用这些类型来表示「ヒンメルならそうした」：

这个例子展示了如何使用类型系统精确地表示日语条件句结构，并在编译时检查句子的语法正确性。

## 组合句体操：好时代，来临啦！

![](https://picx.zhimg.com/v2-f73e635dc8bdceb6804fd0aeb59957ad_r.jpg)

日语中常见的一种表达方式是通过逗号连接多个简短的语句，形成一个富有节奏感的组合句。这些短句各自独立，但组合起来传达一个连贯的意思。让我们分析田所浩二前辈的名言「いいよ、来いよ」，它由三个部分组成：

- いいよ - 由形容词「いい」（好）和强调助词「よ」组成
- 日语逗号，用于分隔短句
- 来いよ - 由动词「来る」（来）的命令形「来い」和强调助词「よ」组成

这个句子结构可以概括为：，其中每个短句都可以有不同的语法结构。

为了在类型系统中表示这种组合句结构，我们可以使用以下类型：

而对于形容词和动词的变形，只需使用前面定义的变形系统即可：

这样，我们就可以用类型系统表示出由多个独立短句组成的组合句了。

## 总结

本文通过 TypeScript 的高级类型系统探索了日语语法结构。我们从基础的动词变形开始，逐步构建了能够表示疑问句、条件句和组合句的类型系统。

TypeScript 的类型系统和日语语法之间存在着有趣的平行关系。两者都是严格的形式系统，有着明确的规则和结构。TypeScript 的条件类型、模板字符串类型和类型推断机制非常适合模拟自然语言的变形规则和组合逻辑。

传统上，这种用复杂类型系统来标注自然语言的代码编写成本极高，基本只能用来炫技。然而，现在的情况已经发生了根本性的变化——只要类型系统设计合理，LLM 已经可以为几乎任何自然语言准确地标注出 TypeScript 类型。这意味着普通人哪怕不懂 TypeScript，也能在学习语言时获得来自 LLM 的强类型提示。更有趣的是，如果你会写 TypeScript，你实际上就可以解读几乎任何一门自然语言的语法！

值得澄清的是，这个项目的范围严格限定在单向地通过 TypeScript 类型系统标注句子，而不涉及将任意字符串 parse 回语法类型——那是 LLM 更擅长的工作。所有纸质语言教材中的例句都是弱类型的，而这种方法可以为学习者提供强类型的指导。

这种借助 TypeScript 类型系统帮助学习语言的方法论，几乎可以推广到所有的自然语言。基于这一理念，我在 GitHub 上建立了 TypedGrammar 组织。目前的日语类型系统代码已经开源在[github.com/typedgrammar/typed-japanese](https://link.zhihu.com/?target=https%3A//githun.com/typedgrammar/typed-japanese)。虽然目前还只是一个技术原型，但要完善到对普通人的语言学习产生实际价值，基本是一个考验耐心的 scalable 的工作。希望后续能一边实践一边分享，与感兴趣的朋友们共同学习进步。后续希望能持续分享相关进展，欢迎感兴趣的读者关注支持，一同探索类型编程与语言学习的交叉领域。

[Typed Japanese](https://link.zhihu.com/?target=https%3A//github.com/doodlewind/typed-japanese)

# 按提问修改规范，如何防止编辑日志被删除？
[](https://www.zhihu.com/question/1893051156172887788/answer/1914008223645688546)

不付费就直接看的破解很难，但想遏制二传不可能

国内几乎没有上widevine/playready的，因为支持的设备太少

没有EME扩展情况下，常规的MSE播放器我早就把通解都告诉过大家了

MSE播放器的实现无非就是把视频比特流append到buffer里面去

js的动态类型非常方便hook，所以直接把指定buffer的append全hook了复制一份比特流，恭喜你已经通杀所有无EME网站的视频下载了

在document-head阶段hook，网页本身的脚本都还没执行呢，没有任何可靠的办法检测是否被hook了

就算有也不难过，三大浏览器内核全是开源的想怎么改都行

反正国内不可能普及EME的，谷歌微软苹果三个大手在国内全是俗手，BAT巨头全是死道友不死贫道的态度，根本不存在行业大一统联盟形成的可能性，反而为dump内容提供了先天的优势

所以只要有一个人看到了就有办法保存就能分享出来一传十十传百




还是那句老话，数字商品最大的特点就是复制成本极低

所以我的态度一直都是DRM无用，数字商品要么薄利多销要么割韭菜

你又不薄利多销又不割韭菜，在DRM上投钱根本没意义

Netflix能赚钱从来不是靠它用了widevine，widevine现在的dump随着hdcp被橄榄也早就成熟了，早就是上线不到一周就4khdr资源满天飞了

Netflix唯一能赚钱的原因就是，你每个月花那么十几块钱，不用折腾bt，不用等下载，不用折腾本地播放器，打开电视按两下遥控就能看

当你的价格低于折腾所需时间对应的中位收入后，你就一定能赚钱

因为那时候除了极少数真正的技术狂热派以外，没人愿意投入大量的时间去做这种入不敷出的事情，而且技术狂热派的钱你本来就赚不到







说难听点，虽然我本人极度厌恶嗯造用户设备资源的行为，但pcdn甚至是国内流媒体平台近些年的创新里唯一能把商业模型跑通的了

至少pcdn真的做到了避免用户投入更多（消耗的是用户现有资源）的情况下降低了成本

其他什么限制登录设备，限制投屏，还有什么超前点播之类，全都是商业模型都跑不通的，以至于让我怀疑某些产品经理是不是友商派来的卧底

# 有哪些算法一开始像在瞎搞，实际上却蕴含着更深层的逻辑？
[](https://www.zhihu.com/question/1890344085396623745/answer/1892242287221769687)

Tomohiko Sakamoto 算法，来确定当前日期是星期几，其核心思想是通过数学公式简化天数累积计算，避免逐日累加。

代码量很少，最少的实现方式只有一行，最多也不过四行。

但是相当经典，当然了，并不太容易理解。

Tomohiko Sakamoto 算法，最初实现代码：

同时，Tomohiko Sakamoto 还发布了另外一个更简洁的一行版本：

这段代码通过输入年份、月份和日期来计算对应的星期几，算法中存储了不同月份的偏移值调整参数，通过对输入日期进行运算得出最终结果。

通过年份调整、闰年计算和月份偏移表，将日期转换为星期数，兼顾效率与准确性。

代码看着就很漂亮，分析一下会发现确实很漂亮。

![](https://picx.zhimg.com/v2-e5d951deb051d5a8fa18a8f8229d199e_r.jpg?source=2c26e567)

# 如何评价 Vue.js 纪录片？
[](https://www.zhihu.com/question/398425577/answer/1305896164)

看了好几遍，纪录片详细的内容[@doodlewind](https://www.zhihu.com/people/c0e2a6c332e573b37d6f5387074ead98)的回答已经非常详细了，说一下我的感触吧

首先感谢[@尤雨溪](https://www.zhihu.com/people/cfdec6226ece879d2571fbc274372e9f)创造了vue，让国内前端有一个轻松的方式上手前端去创造价值

- 很多优秀的作品都是源自作者对现有工具的不满，想写一个自己舒服的框架，仅此而已，回想自己，工具不好使除了来知乎喷人，是不是也可以考虑自己写一个
- 面对社区对0.x版本的质疑，敢于 prove these guys wrong ，用一年假期和实力，怒怼喷子 实力回击， 秀的我想劈个叉
- vue早起的core team的Thorsten Lünborg 并没有贡献过代码，因为开源项目不仅仅是代码和文档，还需要社区活跃度 等方方面面， 同理我们程序员也不仅仅是有技术，还需要各方面能力的修炼   ，我们对喜欢的开源做贡献的方式也是多样化
- 开始向让vue产生收入做努力， 写代码是一门手艺，vue是尤大用自己的手艺做出的工具， 想靠这个赚钱，是站着挣得，名正言顺，反观国内技术氛围，好像不免费就是原罪， 我们都是程序员，要坚信自己的技能是有价值的，  医生挂号有挂号费，老师补课有补课费，为啥程序员开源不能赚钱养活自己
- 中文文档的用心，这个没啥说的，尤大利用语言优势，对中文文档的投入，确实会温暖到国内的开发者，也是vue早起火爆的原因之一
- 中间还看到我的技术偶像，鼓掌+喝快乐水的 @winter和玩手机的 @贺师俊   ，以及出来分享的 @知三乎四 @顾轶灵@米粽粽粽，国内顶尖的前端接受了vue，也侧面验证vue的牛皮之处
- 最后的彩蛋，算是一个小鸡汤，也让我反思，如何全力调整，把方向放在自己感兴趣的事，释放自己全部的热情，寻找价值
- 尤大很庆幸自己脱离了朝九晚五，当去参加各地的技术会议，结束后开发者过来找他合影握手，感谢vue的时候，这就是他最大的成就感， 帮助人的成就远大于做一个项目，可能也是我最早想做教育的初衷
- 尤大也是非科班出身，只不过对编程感兴趣，走到了今天，那些说XX难学的来学学，所以计算机课班，其实就是十几门专业课，后期都是可以补上的，比如算法，编译原理，都是可以通过书+练习的方式入门的
- 联想上次B站直播，第一次直播给国内开发者讲vue3的设计纪念，最后难得的提问环节，Vue这么多新特性不问，如何设计这些新特性不问，ssr性能优异的原因不问，竟然问了一个发际线  说实话，还是挺失望的，还好最近有机会，很荣幸把心中的疑惑全问了
- vue来源于法语的view，最近热门的框架vite ，来源于法语的『快』，又学习到一个新的逼格起名方法，Vue是一个牛皮的框架，我决定下一个做vue3学习剖析的项目就用『牛皮』的法语 『cuir』,先把npm占上
- the company's not making the rules  , people are 值得细品
- 看到最后的彩蛋，脑子里竟然想起了《我的滑板鞋》的旋律，希望有朝一日大家也都能和尤大一样，找到心目中的滑板鞋，摩擦摩擦，投入热情，期待时间给出的答案
- 整个纪录片算是心路历程分享，也给国内想做开源的小老弟一个很好的典范，可以借鉴
- 写的比较乱，再次感谢尤大创造了Vue & Vite 这些有想象力的作品，也是国人做开源的典范，如果有机会见到，除了要签名和合影，我要唱一首《爱的供养》以示感谢

![](https://picx.zhimg.com/v2-f751032754e2a50e2a401864d77e489c_r.jpg?source=2c26e567)

![](https://picx.zhimg.com/v2-cbcde089824073f1a4824d9db3fe2fe8_r.jpg?source=2c26e567)

![](https://picx.zhimg.com/v2-ccc82fc4892d5b3aec70ea67525bb4b9_r.jpg?source=2c26e567)

# 为什么人可以一眼看出函数的全局最小值，而计算机不能？
[](https://www.zhihu.com/question/657302311/answer/3534866012)

![](https://pica.zhimg.com/v2-de9e807183733d2caa839477dc9f4916_r.jpg?source=2c26e567)

![](https://pic1.zhimg.com/v2-a29c4cbae2f23e71714ab52408def4a5_r.jpg?source=2c26e567)

今天在群里看到这两张图，不禁联想到这个问题，颇有感慨。通过这个小实验，我们很容易猜到人所“一眼看到”的同样只是注意力加权的滑动窗口，与计算机的扫描又有多少区别呢？

# 为什么人可以一眼看出函数的全局最小值，而计算机不能？
[](https://www.zhihu.com/question/657302311/answer/3517370464)

回答一路翻下来，发现大多都是在嘲讽题主的，但我觉得这是一个很好的问题。在用复杂函数、解的精度等反例驳斥这个问题之前，不妨先思考一下，为什么人会产生这种“我能一眼看出最优解”的感觉？

以前听运筹学课程，讲到旅行商问题时，老师就曾带我们做过这样一个“游戏”：在黑板上随便画上几个点表示旅行商的目的地，求最优路径。

![](https://pica.zhimg.com/v2-3b2b962bfcdf94f96f4c4371d03f63a8_r.jpg?source=2c26e567)

尽管找到最优解很难，但几乎每个人都可以在瞬间给出一个相当不错的近似最优解，甚至不需要思考，凭直觉“一眼看出”一条路径即可：

![](https://picx.zhimg.com/v2-ba046f0f5fbc023d6848bc12186c9885_r.jpg?source=2c26e567)

让我们再来看看机器队的表现：对于![](https://www.zhihu.com/equation?tex=n%3D20)的TSP问题，如果使用计算机进行穷举求解，那么总共需要考虑190条边所形成的![](https://www.zhihu.com/equation?tex=6+%5Ctimes+10%5E%7B16%7D)个可行解，即使计算机算力G倍甚至T倍碾压人类，要在“一眼”的时间内暴力搜索到一个更优的解也是很困难的。

当然，计算机也可以凭借一些“直觉”算法“一眼看出”一个近似最优解，例如由贪心算法给出的最优解：

![](https://pic1.zhimg.com/v2-61907f5d8d8de5a7748cf22adcbe344f_r.jpg?source=2c26e567)

然而，就算我不告诉各位这条路径的cost是多少，想必大家也都能“一眼看出”这个解比人工队的解要差很多。

尽管这样的对比有失公平，各位大可以质疑“增加到1000个节点，计算机还能算，人还能看出来吗”、“路径以欧氏距离为权重，人能看出来，但换个权重还能吗”、“单目标优化能看出最优，多目标还能吗”。但这一现象也足以引起思考：为什么在这个特定的问题上，人类能“一眼看出”一个这么好的结果？

这其中的因素应该有很多，我无法给出答案，只在这里留下一些思考。比如，我们可以将其解释为人类在这个问题上具有丰富的知识，“一眼看出”并非没有思考，而是大脑自动采取了某些策略，例如绕着区域的边缘走一个大圈等等，而穷举或者贪心算法却完全是凭借暴力，没有利用到任何的先验知识。而动态规划、启发式算法等方法就可以结合一定的策略与知识，因此应用在更复杂的优化问题上具有出色的表现。

但这样讲依然太笼统了，我们再尝试从一个更具体的角度，猜测一下人类是如何在以上例子中“一眼看出”哪个解更优的。事实上，我们在寻找最优解时，大脑已经自动帮助我们排除了大量的劣解，例如下图中的解：

![](https://picx.zhimg.com/v2-5dfd6de97c5a6c1721e32d76243f668f_r.jpg?source=2c26e567)

我们会认为最优解的每一步都应该尽可能走近邻节点、避免距离较远的两个节点被直接连接，若路径中出现不符合这些条件的情况，便归为劣解。这种思考方式可以建模为基于图的计算方法，例如基于“近邻节点”这一特点建立一个 kNN图，并假设最优解应为这个图上的一个子图，且为包含所有节点的一个cycle：

![](https://pic1.zhimg.com/v2-07a15bcfe76cafd926a1de6a075ae3c9_r.jpg?source=2c26e567)

这个图的总边数为44，共计18,258个可行解，在其上进行穷举所需的计算量仅为上述暴力穷举的3万亿分之一，可以轻易地搜索到一个近似最优解：

![](https://picx.zhimg.com/v2-fbdde4f67644e347a27241cae93fd7b0_r.jpg?source=2c26e567)

又或者构建一个Delaunay图，具有50条边，包含149,882个可行解，也可以快速地搜索出一个近似最优解：

![](https://picx.zhimg.com/v2-da5cdca92bc3005356e7013c9a2ad64e_r.jpg?source=2c26e567)

![](https://picx.zhimg.com/v2-b69eaa69bc7126f5cbbfc63d3f76027e_r.jpg?source=2c26e567)

我们可以假设人类能够通过观察节点之间的近邻关系，在所有的解中迅速排除大量劣解，只留下少量潜在的优解，并进行估算比较，得出“一眼最优”。于是，上述基于图的算法可以视为通过模仿人类求解过程得到优化算法。然而，构建图以及在图上搜索可行解的计算开销依然很高，因此这类基于节点间的近邻关系构建图进行计算的方法不是很适用于大规模TSP问题的求解，但在另一些应用上却有着重要的价值，例如近似最近邻搜索等问题，近年来的一些研究表明，基于图索引的近邻搜索相较于传统的树索引和哈希索引方式具有更优的性能。

![](https://picx.zhimg.com/v2-66817e95b4320abb2ebad20051311152_r.jpg?source=2c26e567)

以上算是对题主的问题“人是通过什么算法完成全局最小值的检索的呢？是否可以将人使用的算法进行推广？”的一个部分解答吧，尽管仅从一个特定的问题、特定的角度进行回答，但依然不完整，还有很多未解答的问题，比如人的大脑真的是把节点的近邻关系以图的形式进行处理的吗？计算机构建图索引的成本尚且很高，人又怎么能实现呢？这些问题可能要求助于认知和神经科学了。

# 如何评价 Vue.js 纪录片？
[](https://www.zhihu.com/question/398425577/answer/1257568131)

这问题是我提的，我很惊讶于为什么这么有价值的片子在国内社区却几乎没人讨论。在我看来，这明明才是真正值得「那些口口声声一代不如一代的人」看看的作品。我们的后浪里不只是有 B 站上烧钱的富二代 UP 主和快手上梦想每天挣 300 块的打工小哥，还有 G 站上做开源的开发者们在默默地搞「世界人民大团结万岁」呢！

> 所谓 G 站，即程序员用的 GitHub Site，简称 GHS。像 Vue 就是世界顶级的 GHS 作品。

这片子本身结构挺简单的。毕竟拍纪录片嘛，大致就是依次采访几个还在世的相关人士（咦）。下面带大家过一遍剧情：

全片开始！哇新泽西大 house，大家入关后的梦想：

![](https://pica.zhimg.com/v2-c426241434da16fa5bc59e13eacc40c2_r.jpg?source=2c26e567)

主角[@尤雨溪](https://www.zhihu.com/people/cfdec6226ece879d2571fbc274372e9f)登场：

![](https://pic1.zhimg.com/v2-723b1bf8336d85e14c8ce1f105faf370_r.jpg?source=2c26e567)

这个发际线似乎正在变高的男人，开始讲起了自己接触 JavaScript 的缘由，亦即研究生在 Parsons 学 Design & Technology 的故事：

![](https://pic1.zhimg.com/v2-d172ca2786af52983bd5b666e7b4f0c1_r.jpg?source=2c26e567)

不难找到片中页面的链接在这：[MFA Design and Technology](https://link.zhihu.com/?target=https%3A//www.newschool.edu/parsons/mfa-design-technology/)。这个学校属于纽约的 The New School，培养出了许多著名时尚设计师。设计品味结合上 STEM 技术，这课程设置对前端来说算是非常「科班出身」了吧。

在学生时代，尤大的作品（用 Web 技术仿 iOS 手势操作的 Clear App Demo）就引发了 Google 的注意，直接被 Google Creative Lab 点名招走了。

> 感觉这里还可以插播一段，当年阿里 HR 以「不好用」为由英明地把尤大拒了。对于 Vue 的诞生，阿里 HR 无疑作出了不可磨灭的贡献。

接下来镜头一转，带你纽约圣地巡礼，跟你说这就是哥梦想的起点：

![](https://pic1.zhimg.com/v2-f6acd64189a8c6631d784e8d595c2517_r.jpg?source=2c26e567)

那么 Google Creative Lab 里头都在干啥呢？他们在做各种用技术实现大胆创意的实验。比如这个 Image Cube by Evan You：

![](https://picx.zhimg.com/v2-6b7243915bf251582a77e959b997883b_r.jpg?source=2c26e567)

片中没有继续点开链接。我替大家体验了下，是个支持更换各面图案的魔方。这个系列的入口是这个[Chrome Cube Lab](https://link.zhihu.com/?target=https%3A//www.chrome.com/cubelab%23experiment)，Demo 玩起来像这样：

![](https://picx.zhimg.com/v2-21375242cf5673bab480c8ea153c453f_r.jpg?source=2c26e567)

其实这玩意我也会啊！只是尤大是拿 CSS3 实现的，我是拿 WebGL 实现的。顺便还有篇教程欢迎体验：[Web 魔方模拟器的设计与实现](https://zhuanlan.zhihu.com/p/43049095)。请问 Google 还缺人吗？

有了这些铺垫，下面讲的就是 Vue 诞生的缘由了。这类工作经常需要富交互的部分。但当时的主流前端库里，Backbone 只提供了应用的骨架，无法为 View 层提供足够的支持。而 Angular 虽然提供了数据绑定能力，但侵入性较强，也不太适用于这类非常强调交互的应用。于是发明 Vue 的灵感来了，也就是把 DOM 和 JavaScript 对象同步起来这样子吧：

![](https://pica.zhimg.com/v2-44fc3e74fdaec20a7e80acafd89dc9b8_r.jpg?source=2c26e567)

然后 Vue 就被吭哧吭哧写出来啦。它的第一个 commit 是 2013 年 7 月 27 日提交的，最早想叫 Seed.js 但名字在 NPM 上被占了。下次遇到谁说自己精通 Vue 的，你就问他 Vue 第一次 commit 的哈希值是多少：

![](https://pica.zhimg.com/v2-826dc4c2419d580df8d8a039caefe0ea_r.jpg?source=2c26e567)

这个时期的 Vue 虽然有一小部分人试用，但也纯粹是业余项目，维护起来的心态跟音乐爱好者自己出专辑类似。不过即便没有大红大紫，这也已经足够无需刷题面试换一份 Meteor 的新工作了——开源主义好，开源主义好，开源主义拿到 offer 机会高：

![](https://picx.zhimg.com/v2-10218671704bd839c84e7f1e2d685612_r.jpg?source=2c26e567)

至于离开 Google 的理由嘛，尤大表示大致就是光给 Google 高管做一些「不知道什么时候能成真」的 Demo 不够意思吧。

接下来在 Meteor，Vue 继续被当作个人兴趣项目业余维护，但到 2014 年转机出现了。著名 PHP 框架 Laravel 的作者 Taylor Otwell 某天发了条推特，大意是「React 很复杂，我在学 Vue，感觉不错」。这下有了网红带货，Vue 终于开始进入大众视野了。下面就是采访 Taylor 本人的商业互吹时间：

![](https://pica.zhimg.com/v2-a3013d9423f4dfa39071c2fcd72d1ca1_r.jpg?source=2c26e567)

Taylor 表示当时他想给新的 Laravel Spark 项目挑个前端框架，觉得当时引入那些需要构建工具的产品很麻烦，不像 Vue 直接用记事本就能开发，于是就这么愉快地决定用 Vue 了。这里他指的应该是 Vue 一直以来直接使用 HTML 模板即可在浏览器中「开箱即用」的能力。虽然一直有一些 JSX 爱好者在批评 Template，但这更是 Vue 的「progressive」渐进性设计准则的重要体现之一，对吸纳新手和业余用户群来说其实相当重要。现在 Laravel Spark 已经顺利盈利，人家当然乐意给你站台啦。

在这个阶段，Vue 也面临了一（hen）些（duo）质疑，大概就是「这框架还没 1.0 不靠谱啊，才一个人维护指不定什么时候跑路啊」之类的陈词滥调吧。对此现在就是打脸时间——「**I want to prove these guys wrong**」。爽文就是要这么写，谁还没点小脾气啊：

![](https://picx.zhimg.com/v2-d4be33c5f4fea2fb706cd64a8c6d5796_r.jpg?source=2c26e567)

> 综艺节目里此处应有泪流满面效果，再配合一曲悠扬的二胡煽情 BGM，目测马上收获一批前端迷妹。这时屏幕上再应景地浮现出一个赞助二维码……

打天下的单人秀到此就差不多了，接下来是开源的「世界人民大团结」宣传时间。镜头又一转，我们来到了德国 Mannheim：

![](https://pica.zhimg.com/v2-b8d2e8e3f47ad7c7d6e5f704e034f110_r.jpg?source=2c26e567)

在大 house 里，Vue core team 的[Thorsten Lünborg](https://link.zhihu.com/?target=https%3A//github.com/LinusBorg)开始讲起了自己和 Vue 的故事：

![](https://pica.zhimg.com/v2-30810bc59cd2940dec202d35867e252c_r.jpg?source=2c26e567)

这故事其实也挺简单的，大意就是 Vue 1.0 出来的时候，核心团队人还很稀缺，官方论坛疏于打理。于是 Thorsten 来论坛上回答了不少问题，做了些外围的周边工作，这些都是他业余完全志愿的活动而已。就这样过了三四个月，某天一个自称 Evan 的神秘人出现了，邀请他加入了一个 Slack 群……

今天 Thorsten 已经是 Vue 生态里多个库的维护者，他在采访里表达了一个重点，**那就是框架并不只是「代码 + 文档」这么简单，更需要人的维护、支持和互动**。这也是很多人在对「开源」的理解里所忽略的。

从这个「框架是给人用的」主题出发，我们就要开始讨论 Vue 框架能成功的理由了。镜头再一转，切换到了美国中部的丹佛：

![](https://pic1.zhimg.com/v2-ded2d8147efdac82fb579d8739a515c7_r.jpg?source=2c26e567)

还是大 house，这次接受采访的是 YouTube 技术博主 Scott Tolinski：

![](https://picx.zhimg.com/v2-5ab192d7bae1d453ab3c190c823222ee_r.jpg?source=2c26e567)

Scott 是对框架「身经百战，见得多了」的老主播了，他探讨的是 Vue 在框架市场上获得成功的缘由。这个叙述简单概括说来是这样的：当时的老大哥 Angular 在从 1 到 2 的时候出现了「shocking different」级别的变化，而 React 对于习惯了 Angular 式框架的用户来说，其理念又太过于新潮。这时候，Vue 兼有更低更友好的入门门槛，又能在组件化支撑中大规模项目时表现良好。于是它就这样填补了市场空白，吸引了不少用户。

> 又是 progressive 理念的胜利啊，敲黑板。

时间线推进到这里时，Vue 已经算是颇有影响力的框架了。这时候剧情回到了对我们主角的采访上。艰难的抉择出现了：要不要全职做开源呢？

![](https://pica.zhimg.com/v2-2f18cd77b56804eda676fe8349f79007_r.jpg?source=2c26e567)

这个决定是怎么做出的呢？尤大表示当时也没有什么别的，大概三件事：

- 建立 Patreon 账号，为支持 Vue 的开发而募款，还确实搞到钱了嘿嘿嘿。
- 向 Strikingly 的朋友申请到了赞助，这样各项加起来就匹配得上当前收入了。
- 权衡了在 Meteor 工作和开发 Vue 的利弊，结果显然是给自己干活爽啊。

好了，哥决定放弃 955，成为偶像下海出道了（咦）

这样 Vue 就进入全职维护状态了，搞的事情自然可以更多。接下就采访了一位之后加入的妹子，Sarah Drasner：

![](https://pica.zhimg.com/v2-d720d9793eda645eed2f7227b2c68224_r.jpg?source=2c26e567)

Sarah 在 CSS Tricks 上写了一系列长篇的教学文章（[Learning Vue](https://link.zhihu.com/?target=https%3A//css-tricks.com/guides/vue/)），这是她贡献 Vue 社区的契机：

![](https://pic1.zhimg.com/v2-713b73b1ef7d306f8b0a8a7bfff70c9c_r.jpg?source=2c26e567)

在此之后，她受邀加入 Vue core team，负责 Cookbook 项目，以及团队内与文档相关的会议。受到全职维护的项目，自然专业度就不一样了嘛。

但即便是 CSS Tricks 这样专业的网站，在中国也是有语言门槛的。下面开始探讨的就是 Vue 与中国的关系了：

![](https://picx.zhimg.com/v2-cac7c7bd20ef5ebf6fe9f985bda34b31_r.jpg?source=2c26e567)

接下来给了个 Vue conf 上面尤大演讲的镜头：

![](https://picx.zhimg.com/v2-5aa91073e9553678753501ecd00ca1b0_r.jpg?source=2c26e567)

然后镜头一晃拍起了台下观众。前排大佬好像很多，我只知道玩手机的那位重量级人物目测是[@贺师俊](https://www.zhihu.com/people/3ec3b166992a5a90a1083945d2490d38)老师：

![](https://picx.zhimg.com/v2-bd14da8aaab2c214cbc72f3e4b7b5e87_r.jpg?source=2c26e567)

在镜头切换之间，采访旁白里探讨起了 Vue 在中国推广时的关键因素：首先，英文技术项目的文档一般需要经过翻译，才方便在国内普及。这时候诸如 binding / reference / view model 等新的技术术语，往往会有些难以理解。但这时尤大作为母语使用者自己写的文档，在概念上就更为流畅，也更容易做一些方便理解的 rephrasing 改动：

![](https://picx.zhimg.com/v2-e9be16e154c860acbd13ab77c2aaee17_r.jpg?source=2c26e567)

然后[@知三乎四](https://www.zhihu.com/people/afbd3234a10915bb3436d34e8be0fde9)老师出场助攻，他讲起英语来还是很自信的：

![](https://pic1.zhimg.com/v2-baa312de4016c31db0b5bb6061577998_r.jpg?source=2c26e567)

勾股老师讲的是阿里接触 Vue 的渊源。一方面是他们的技术团队希望保证在中国参差不齐的网络环境下页面的可用性，一方面又希望框架能支持得了复杂业务。他偶然发现了 Vue，发现这个框架很契合他们的需求，于是邀请尤大去阿里做了个分享：

![](https://picx.zhimg.com/v2-481a4e1a1ccd0f852f14a85e677521df_r.jpg?source=2c26e567)

这里顺带讨论了一把中文社区的推广，知乎也被 cue 到了。不过 Zhihu 这个词被字幕和谐成 Chinese platform 啦（谁叫你整天和谐别人）：

![](https://picx.zhimg.com/v2-9acaa7f4350e11e1c20bd46cefdfaa3e_r.jpg?source=2c26e567)

接下来出镜的还有[@顾轶灵](https://www.zhihu.com/people/596c0a5fdd9b36cea06bac348d418824)老师：

![](https://pic1.zhimg.com/v2-a5552699e90d7128a29b8b0c8b383b99_r.jpg?source=2c26e567)

以及一位低调的[@米粽粽粽](https://www.zhihu.com/people/myst729)老师：

![](https://picx.zhimg.com/v2-d86b5f9fcbd68c6a326bfd7df9f1aded_r.jpg?source=2c26e567)

一下来了这么多国服高端玩家，大家开始用英语探讨起了国内社区对 Vue 和尤大的态度。大概这么几点：

- Vue 有非常高质量的中文文档，国内的生态和社区都相当完善。
- 很多人不是因为尤大是中国人才接触的 Vue，而是在接触 Vue 后惊讶地发现这居然是国人的作品。
- 当国人发现「我也能成为这其中的一部分」并参与进 Vue 社区的时候，这无形中强化了一种心理上与「自己人」做的项目更亲近的联系。
- 大家在国内是普遍会把尤大当「hero」的。毕竟世界范围上来自中国的顶级开发者并不多，而他确实在开源社区有着「leader」级的影响力。我们有很多的开发者，但是却很缺一位这样的「rock star」。

> 另外，这部片子的原班人马还制作了[The Rise of Open Source Communities in China](https://link.zhihu.com/?target=https%3A//www.youtube.com/watch%3Fv%3DRFjIBM0TR7U)短片，以外部视角探讨了中国的开源现状。其中尤大和[@题叶](https://www.zhihu.com/people/790dccce26904cdcd11b0fad3bac37b7)老师也有出镜，值得一看。

到这里全片就快结束了。前面出镜的各位开发者们做了一些关于开源「驱动力」的分享，大意大致是这样的：今天的 Vue 并非完全由「仁慈独裁者」控制。既有尤大一个人能 hold 得住全局，core team 内部也有更多的团队合作。这和巨头公司的「委员会设计」不同，因为你并非服务于某个商业目标，也不是在做「别人的」项目，而是有更多机会提出并注入自己的想法。这种驱动力就像追求 Source of Truth 一样，是由社区自发探索出来的。而见证它的成长，自然也相当振奋人心。创造技术历史的说到底并不是商业巨头，而是富有想法、富有创造力的人们——

最后就是尤大的自述了。我猜这些话按他现在知乎的人设，目测是挺不好意思自己用中文写出来的（估计这个回答他都不好意思点赞）。这里就替他 & 替大家搬运回来吧：

> 我下定决心离开了朝九晚五的岗位，做着一件基本能让我热情投入的工作，这确实挺让我感到自豪的。有时候我会看看统计数据，比如看下我们有多少用户，多少下载量之类的。但要说什么最能给我对工作的某种成就感，或者说满足感的话，那还是当我看到（自己所影响的）人的时候。尤其是在会议结束以后，很多人会来找我。比如大家经常会跟我握手，说「谢谢 Evan 你做的东西，它真的让我的生活方便了很多」这样子。这些时候我都会感觉到，这就是我做 Vue 的动力。我把它做了出来，我把它分享给了大家，希望它能让大家生活更方便。然后还真的会有人来单独找我，会有人来感谢我所做到的事情。于是整个循环就这样连通起来了。

全片终，完结撒花～

所以，大家看到了现代的「开源」是怎样运行的吗？凭着热情与创造力，世界上素昧平生的几个人可以自发地汇聚到一起，打造出举足轻重的技术产品，切实地惠及许多人。没有什么比这更加「同一个世界，同一个梦想」了。

而且，我个人之所以愿意把这部纪录片不遗余力地「搬运」过来，其实更在于它充分地展示了「**中国程序员可以做到什么**」——我们完全可以具备国际视野，在技术社区里谈笑风生。大家都能加入这个大舞台，大门是向所有人敞开的。对每位有志于「实实在在地做到点什么」并改善自身生活的同学们，我相信在这个开源加持下的计算机相关行业里，大家仍然是能找到非常多机会的。当然，在这个分化与对立日趋激烈的时代，这样的机会也已经越来越珍贵了。

今天，如果你看富二代们在翼装飞行，在帆船深潜，在豪车竞速，你羡慕吗？如果没有背景，你该怎样加入他们，成为他们，超越他们？

洗洗早点睡，祝你做个好梦。

但还是今天，如果你看开源作者们在挥洒创意，在签名售书，在演讲分享，你羡慕吗？如果没有背景，你该怎样加入他们，成为他们，超越他们？

来啊，只要能上网就行，欢迎进来社区一起玩！回头我就试试给 Vue 3.0 弄个魔方渲染器，帮它不忘初心一下。

但说到不忘初心，我更想到的是三十多年前，北京向 CERN 发出的中国第一封电子邮件。那是互联网第一次听到中国的声音。我们常说这封邮件一语成谶。但它的本意，不正是我们昂首挺胸拥抱世界的豪言壮志吗：

> Across the Great Wall we can reach every corner in the world.

那个年代还没有 HTTP，没有浏览器，没有 JavaScript。

而今天，[@尤雨溪](https://www.zhihu.com/people/cfdec6226ece879d2571fbc274372e9f)的 Vue.js 已经成为了 Web 前端技术领域世界公认的 de facto 级框架之一，在互联网技术史上留下了国人的痕迹。

知乎喜欢讲入关，那么我们到底该怎么「入关」呢？




**越过长城，走向世界吧。**

# 你为什么选择React而不选择Vue？
[](https://www.zhihu.com/question/294210442/answer/3453828000)

很老的问题了，2024 年我站在自己的角度谈谈看法吧。（废话警告）

不算很久之前（大概是 2020-2021 年），当我初次在大学中接触前端领域时，周围的人都说想进大厂就学 React，并且互联网上也到处都是解析 React 函数式思想的文章——当时 React Hooks 推出才一两年，仍有大量项目基于 class component，而 Hooks 带来的更“纯粹”的“函数式编程”思想，在当时显得颇为独特与深奥。

显然，这只是前端娱乐圈现状的又一个缩影，在那会儿是“Everyone’s talking about React Hooks and Functional Programming”，前两年是“Everyone’s talking about signals”，今年又是“Everyone’s talking about Drizzle ORM, shadcn/ui, Bun, etc.”. 前端是我见过最有活力的社区，每天都热衷于造个全新的 next-gen game changing library——在许多人眼中，这看上去颇有些滑稽，我却不觉得这是什么坏事，这意味着更多人在“having fun”，而不仅仅是“coding for living”，这对社区的发展总是良性的。

话说回来。当时的 React 用户大多有种隐隐的，毕竟自己在用一个更灵活和更加“功能强大”的框架，且 React 被认为“需要更好的基础才能驾驭”（事实的确如此，至少相比起 Vue 2，但究竟是不是好事就没人知道了），在做同一件事上也有非常多不同的选择，无论是路由、状态管理还是其他什么（相比之下，Vue 团队则把这些常见需求所需的库都一起开发了），挑得人眼花缭乱，UI 组件库也有远多于 Vue 和 Angular 的选择。

React 用户的“高傲”一定程度上是有依据的——这很大程度上要归功于 React 自身的**流行度**。无论你是否接受，React 实际上已经“代表”了 UI 框架（当然，“框架”这个词到底适不适合形容 React 有待考量，但咱们现在也找不到一个更好的词来形容 React、Vue、Angular、Svelte、Solid 这些东西），并且这些年里也成为了欧美前端开发的事实标准。这种“到处都是 React”的流行度是一旦接触英文前端社区就能扑面而来感受到的事情，大概习惯在 Google 上常年拿英文搜问题的人没几个会反驳。

如果你关注那些与 UI 框架相关的新轮子，它们几乎无一例外都优先考虑支持 React（像是 Tanstack 全家桶），甚至限于某个特定的 React 元框架（如 NextAuth.js，如今它成为了 Auth.js），然后它们才考虑逐渐从一个“React 特定”的库变成适用于各个 UI 框架的通用库。这种流行度的确为 React 带来了无与伦比的“**繁荣**”生态——自然也带来了它们质量参差不齐的问题，庞大的数量总是带来更难控制的质量，这并不令人意外。

React 的流行大概是许多偶然因素共同造成的，如今哪个因素发挥了最主要的作用或许已经不得而知了。自然，React 的流行也造成了组件库的多样性，一个国内几乎没什么声音但在英文社区具有相当知名度的新兴组件库 shadcn/ui 就是个 React 组件库，并且大概只考虑官方支持 React，连 Preact 也不打算支持（尽管社区显然可以并且已经开发了针对不同 UI 框架如 Svelte 和 Vue 的非官方 Port）。shadcn/ui 的大体思路是它不作为一个“真正的组件库”，而是提供一个代码生成器，帮助你把组件代码复制到你的项目里，同时绑定 Tailwind CSS. 这种生成的组件提供了高度自定义性——其实不算个很新鲜的思路，但对于快速开发项目相当好用，可以认为是 Tailwind CSS 思路上的进一步扩展，在组件的灵活性和易用性上达成了一个神奇的平衡。

谈到 shadcn/ui 其实只是想举个更具体的例子说明 React 在事实上的流行导致许多新尝试与新技术都优先从 React 开始——其实一个这样的库是很适合一开始就作为通用组件库而不是作为 React-only 组件库开发的（尽管事实上存在不少适用于其他 UI 框架的 Unofficial port）。很大程度上，React 已经成为了一种“**惯性**”，而各种库尝试兼容其他 UI 框架以变成一个“framework-agnostic”的库在某种程度上可能变成了一种“正确”或者纯粹出于造轮子的喜好——如果一个组件库（当然也包括其他非组件库）支持同时包括 React 在内的多个 UI 框架，那你最好不要期待它在其他 UI 框架上的表现，大概率是处于缺胳膊少腿并且没几个人提交 BUG 的状态——支持得好是惊喜，支持不好是常态。

这种“**React 惯性**”真的是正确的吗？前端圈向来很擅长“反思”什么已有的流行的东西并推出一个又一个 next-gen lib 成为“game changer”，React 这边也不例外。

一个批评在于 React Hooks 需要手动传入 deps 带来的**样板代码**问题——React 社区甚至开发了 ESLint 插件来提示你在 deps 中把所有依赖手动加上，可既然 ESLint 都能告诉我要在 deps 中写什么东西，为什么 React 自己不能把依赖给我自动加上？这个问题在过去似乎非常 Trivial——因为或其他同类东西拿到的是一个值，在运行时代码中直接跟踪一个值以实现响应性是不可能的，至少得需要个编译器才能完成这项跟踪工作。理所当然的，后来人们发觉让编译器完成这项工作不是唯一的解决方案，也可以干脆换一种写法，与其直接使用值，不如使用一个 Getter，而 Getter 自然就可以在运行时直接被跟踪以实现响应性，而不需要编译器参与，无论 Vue 的还是 Solid 直接返回 Getter 的做法都只是这种想法的一个实现，这被称为**Signals**——这其实也只是新瓶装旧酒，Vue 3 一开始就是这个思路，可 Signals 这个说法要到前两年才炒起来。

React 的另一个问题在于组件的**生命周期**初看起来并不那么直观——在 React 中（至少 Hooks 之后），组件 () 只是一个返回组件实例 () 的工厂函数，函数式组件每次渲染时都会从头到尾跑一遍以得到新元素，而不是直觉上的“函数式组件是定义组件的代码，仅在创建实例时运行一次以初始化”——事实上后来 Solid 就是这么做的。这也导致了很多新手一不留神就往组件定义里塞了一些耗时操作导致性能问题，并且也导致创建高性能 React 组件需要时刻留意耗时操作并用之类的东西将它们惰性化，这导致了更严重的样板代码问题。

还有其他同类的像需要手动的问题，也一直以来被诟病为“React 创造的问题”。也有一些较小的点，比如传递的复杂性。有时人们会半开玩笑地说“React 先故意把框架做得很烂，然后引入一些小改进解决这些本就不该存在的问题让大家感觉 React 团队又实现了什么巨大进步”——说实话我越来越觉得真是这么回事。

抛开写法上的缺陷，再谈谈一个避不开的的问题——**生态**。React 显然是前端 UI 框架中生态最“繁荣”的一个，这一方面要归功于 React 自身的流行度，另一方面则要归功于 React 团队仅做核心而不参与周边生态开发的做法。这导致 React 生态中仅状态管理和路由两块就有数不清的社区实现，状态管理更是难绷到让 Redux 这么个完全不好用的库统治了许多年——直到以一种不能更简单的方式实现的 Zustand 流行起来大家才发现原来 Redux 这么难用不是因为 React 状态管理本就复杂（在很长一段时间以来这还是个具备统治力的观点），而只是因为 Redux 过度封装把事情搞得太过复杂。

自然的，也产生了许多观点为 React 辩护，以解释“为什么 React 这么烂大公司还是选择它”。我记得前几年有个说法被很多人提及——大公司需要对页面每一次渲染细粒度控制，并且宁愿投入更多人力在这种“开手动档”的事情上，而不是依赖于框架自动管理渲染时机，React 就提供了这种灵活性。这可能（值得怀疑地）部分解释了大公司们采用 React 的原因，但没有解释为什么如今数之不清的小公司仍优先选择 React.

在我的观点中这更多还是源于一种**历史惯性**，并且 React 还没有比其他 UI 框架“明显糟糕”到不能接受的程度，因此大多数公司没有换掉 React 想法，而这造就了 React 生态的继续繁荣——和国内公司习惯于跟着阿里用 MyBatis 比较类似，大公司用什么我就跟着用，只是因为前面的人帮我把坑趟过了，有比较齐全的周边配套代码和大厂退下来熟悉这套技术的员工，小公司没必要选择自己用国内环境里不常用的生态，也是图一个安稳。

在开头，我反复强调了 React 生态有多繁荣，似乎在吹 React，刚才又批评了 React 的一些问题，似乎把它贬得一无是处——其实我只是相对客观地评论着 React，也许带了些主观偏见，但大体应当并不偏激。那么 React 难道没有优点吗？显然也不是的。

不可否认的是，React 的确为前端带来了一些“新”的东西。在 Hooks 之前，“函数式编程”这个如今被说烂了的概念在大多数前端人眼里还只是个“可望而不可及”的东西，它从象牙塔中带来了一些似乎有用的东西，但若你想从一些“先行者”那里了解些更多的东西，则会被他们张口就是 Monad 的热情劝退——或许他们也不是想故意把别人劝退，只是已经习惯了这些外人看来可能颇为晦涩的概念。React 以一种在现在许多人看来颇有些半吊子的方式，将函数式编程的一些基本概念以颇有些炒作的形式带到了大众的眼中（得益于 React 自身的流行度，不管官方是不是有意炒作，React 发布任何一个新功能后总是会看起来像是炒作了一番）——许多人第一次认识到，原来在代码里几乎全用和只用 Immutable 对象也可以很好地开发应用，区分副作用也可以很好地控制难以预测事件的发生。这些对“函数式编程”的普及或许太过浅显到以至于让许多人觉得“不达本质”而不屑一顾，但至少起到了很不错的引导作用，让许多人第一次知道还存在另一种写代码的方式。

React 这个每次渲染都跑一遍组件定义函数的做法也不是只有坏处。这其实很大程度上让 Hooks 的封装变得简单和透明了，除了那几个有限的内置 Hooks，自己封装 Hooks 其实没太多额外的黑魔法在里头，就只是简单的把一段代码替换成一个函数以方便复用，仅此而已。这也带来了其他许多事情的简单性，如子组件只需通过一个没有任何 Magic 的就可以直接传递，而 Solid 和 Vue 等都需要额外的手段（helper function 或）来高效处理子组件的传递问题。React 的也不存在解构丢失响应性的问题——每次渲染时组件都会重跑一遍，会有新的不同的值传进来。某种意义上，React 的这个看似别扭的做法维持了一种统一的简单性和一致性，使框架没有在背后做太多难以预测的“魔法”——这又回到了那个老生常谈的问题，框架在背后做了太多工作到底是简化了用户的心智负担还是实质上反而加重了心智负担？框架要做到什么程度才能达到这种心智负担的平衡？这就是个没有答案的见仁见智的问题了。

然后要谈到 React 的另一个特点——JSX，或者说特定于 React 的 JSX. React 在 JSX 上的做法基本就是直接将其一比一与运行时代码替换，编译器在其中只做了一些简单的工作——相比之下，Vue、Svelte 等基于模板方案的 UI 框架则大量依赖编译器实现较复杂的转换工作，尤其是在处理响应性上，而 Solid 尽管使用了 JSX，其编译器仍旧在背后做了不少工作，而不是像 React JSX 基本上只做代码替换。React 这种处理 JSX 的方案其实天生使其和 TS 有很不错的相性，并且带来了 React 最被广泛认同的特性——灵活性。

如果你用过一些 React 组件库，会发现其中不少地方允许你直接传入一个 React Element（也就是一个 JSX 元素）作为参数，例如典型的传递. 在模板语法下这则是个不那么容易的事情，因此我们通常在 Vue 中传递组件 (Component) 而非元素 (Element)。对于 React 中的在 Vue 中的同类写法常常是，其中传入组件而非元素——假如这里我们需要传入这样的元素，Vue 这边就要复杂一些，变成了，为了避免这种难绷的语法，在大多数地方其实我们会使用 Slot 以及 Named slot 替代，基于模板的思路大多有这个问题。除此之外，模板也使 Vue 需要引入来解决在 JSX 不存在的问题。当然，这些都不是 Vue 的问题，只是模板的局限性，Vue 用 JSX 一样可以按我说的 React 组件库的那种思路写，Element Plus 的一些新组件就是这个思路。

模板显然也有自己的优点，很难说 JSX 和模板谁更优越。模板允许框架塞进更多自己提供的语法糖，在很大程度上也能使代码变得更加简洁，同时也使编译器优化变得更容易——对于组件库开发等场景来说，它可能稍微少了点灵活性，但对于应用开发已经足够优秀，并没有比 JSX 缺少什么。就我个人而言，我是更倾向于 JSX 的语法的，更方便在一个文件里封装多个小组件，但我对模板也没什么恶感。

还有个对多数人可能没什么感知，但对我而言感知明显的模板的问题——对 TS 的支持问题。平心而论，Vue 3.4 之后对 TS 基本上已经达到了完全的支持，但在一些边界的类型体操推导上仍存在一些问题，而且估摸着也很难在未来的版本中去支持，比如对条件类型的支持问题。 我在 VSCode 使用 Volar（现在叫 Vue - Official）插件时也经常遇到 TS 抽风问题，并且 ESLint 在 Vue SFC 中对 TS 的解析常常出问题，如开启后经常在 SFC 中给我解析出，但 Volar 却能正常提示类型，我暂时没寻思出来这是 vue-eslint-parser 本来就有的问题还是我哪边配置不对，或者是 Volar 的问题。并且我始终不知道该如何让 Vue 在模板里给未知 tag 的 element 报错而不是推导为 unknown——vue-eslint-plugin 有这个选项，但不支持全局组件，对我来说确实没法用。

基于模板的 UI 框架大多有这个缺点——对于开发来说，它们对 TS 的支持通常限于大致能用而不太考虑优先支持复杂类型体操的解析。Vue 在 TS 支持方面其实已经做得很不错了，Svelte 用过几次，那边对 TS 的支持可以说就完全是“凑合能用”水平了。而 JSX 由于 TS 的内置支持则在类型安全上具有更好的表现，这个优点也是客观存在的。

说了这么多 React，并且似乎有些跑偏了，再回头谈谈 Vue. 要谈 Vue，显然要从 Vue 2 的**Options API**谈起。我至今仍觉得 Options API 有不少可取之处，最大的一点就是其极低的入门门槛和极其直观的语法——对于简单的业务页面开发，Options API 很少需要担心解构和丢失响应性的问题，一切都绑定在上，默认更新上的数据就能看到响应性的变化，心智负担其实是很低的。当然，经常因其迷惑特性而被诟病，以至于现在新库开发都不那么倾向于使用 class，但这不是个很难解决的问题，只需要把原先形式的组件定义改成就可以解决了——以一个作为参数传入的替代.

Options API 对 TS 其实也有不错的兼容性，即使使用 Vue 2.6，也可以安装在组件定义外边包上以获得上的类型提示。同时 Options API 也提供了一个最低限度的约束，、Lifecycle、、等必须分门别类放好写在一起，不允许杂七杂八东写一块西写一块——这种强制将可能在功能上相关的、、拆分开来的做法可能在老手看来不那么理想，但至少强硬地避免新手将功能和逻辑上都毫无关联的部分胡乱摆放在一起，而这很大程度上也是 React 新手的普遍问题。我很相信 Options API 这些或许是“无意之间”保证代码维持了最低限度整洁性（易读性）和易上手特性（心智负担较低）的特点使 Vue 在 Vue 2 时代于国内被大量使用，并且直到今天大量国内项目还是没有要升级到 Vue 3 的意思，甚至新项目仍用 Vue 2——平心而论，Vue 3 确实不会给这其中很多新项目带来好处，自然也没有升级的必要。

Options API 到底有没有问题，Composition API 是否真的优于 Options API，推出 Vue 3 又到底是不是个正确的决定已经很难说个对错了。总之某一天 Vue 3 确实推出了，站在维护者的角度来说这很容易理解——大多数爱好造轮子的程序员看到多年前的屎山代码总是想做一次彻底的推倒重构的，而甚至还兼容着 IE 并采用了许多老 JS 特性的 Vue 2 在可维护性上显然已经遇到了不小的困难，其设计时未考虑到 TS 也使后续要做不少[可能难度不大但工作量很大的类型体操](https://link.zhihu.com/?target=https%3A//github.com/vuejs/core/blob/44b95276f5c086e1d88fa3c686a5f39eb5bb7821/packages/runtime-core/src/componentPublicInstance.ts%23L132-L165)来为 Options API 提供类型支持。既然都要推倒重来了，为什么不引入点新的东西？React Hooks 那一套东西不一定说真比 Options API 好，但对 TS 肯定是更友好的，并且看起来没比 Options API 有明显弱点，也能更灵活地组织代码——Composition API 就这么诞生了。

自 Vue 3 以来，Composition API 至少一定程度上带来了**社区的繁荣**——相比起 Mixin，Hooks 具有更简洁灵活的语法，并且在更容易避免冲突覆盖问题，这至少**提高了库开发者的体验**。而 vue-use 这样的项目要是没有 Composition API 也很难出现——Vue 2 中在功能上的扩展更多依赖于 Global methods，这种在全局对象上绑定太多东西的做法显然不够理想。在 Vue 2 生态中显然是很难出现一个质量和规模类似于 vue-use 的代码库的。

有一个流行许久的观点，即 Composition API 更适合大型项目，而 Options API 在中小型项目上可能有一定优势（Vue 3 的文档里也这么说，当然他们到底是不是真这么觉得就不得而知了）。这其实是个比较值得怀疑的论点，毕竟 Composition API 其实也很适合小项目，而 Vue 2 时期使用 Options API 构建的大项目也比比皆是。

Composition API 在提高了灵活性的同时没有很好保证代码质量的下限，因此引起了一些诟病，但对于习惯良好的程序员来说即使在小项目上可能也比起 Options API 编写更直观和易读的代码——在 Composition API 里可以随手拆个 Hook 出来，在 Options API 里难道会有人习惯于随手拆个 Mixin 吗？

可从另一个角度来说，Composition API 带来的能够更好按业务逻辑来组织代码的灵活性真的那么必要吗？如果组件粒度拆得够细，Options API 按功能分组的思路似乎也不坏，而 Composition API 提供的灵活性反而让人有些无所适从。而 Composition API 能随手拆个 Hook 出来的能力似乎也不那么有吸引力，我相信有许多人在真正写业务时是不经常拆 Hook 出来的，但只要代码规整地分块摆在一起也并不影响可维护性——在这种情况下，少数几个 Mixin 是否也已经够用？Mixin 得继承树要在多复杂的应用中才会看到可维护性的显著下降？

以前看过 Ruby on Rails 的纪录片，其中有个观点让我印象深刻——当一个技术流行起来后，人们总是开始讨论它能不能**Scale**，又能 Scale 到何种程度，但大多数人一辈子也碰不到这项技术 Scale 的瓶颈，并且在真遇到 Scale 问题之前采用这项技术的小公司就已经 IPO 了。这里也同样如此，无论说是“Vue 相比于 React 更不适合大项目”还是说“Options API 相比于 Composition API 更不适合大项目”，都近乎源于一种其实没太大根据的刻板印象。

其实 Options API 在“人体工学”上是提供了比较不错的“幸福度”的——在我的观点里一是减少导入，二是敲就可以获得当前组件内全部关联数据和方法补全。说真的，“能提供更多补全可能”的设计在人体工程学上其实很重要，至少我是宁愿敲更多字也希望获得更好的补全体验的——而且 Vue 3 中的相比起还没让人少敲字，这其实是引起了不少人的诟病的。

——好吧，对 Options API 和 Composition API 的偏题讨论就到此为止，再讨论下去大概也是得不出什么结果的。不过至少从现状来看，大家对 Vue 3 的接受度还不错，生态也在渐渐繁荣。在我的角度来看，这要很大程度归功于 Nuxt——Nuxt 目前对于复杂应用在成熟度上比起 Next.js 还有不少问题，但对于相对静态的公司/项目主页、发布页等应该算是我用过的元框架里 DX 最好的选择了。其实目前有不少大网站都是由 Nuxt 构建的，大家有兴趣可以浏览器装个 Vue Devtools 看下。

然后谈谈组件库的问题。国内和国外的组件库设计思路其实是很不一样的，国内的组件库通常是大而全，将你用得上的用不上的各种功能都封装进去，用起来就会比较省事，会发觉似乎什么场景都能直接用组件库提供的功能应付得来；国外的组件库相对来说更鼓励你造轮子，倾向于只封装基本组件并保留它们的灵活性，以便你自己进一步将它们更好地组成新的组件。其实我觉得国内的这个思路是要优于国外这些组件库的，只是由于审美不同，欧美更倾向于选用符合 Material 风格的缺胳膊少腿组件库，可能压根就没体验过使用国内这些大而全组件库开发的快乐感……例如国内组件库内置 Searchable MultiSelect 可以说就是标配，但诡异的是欧美常用的组件库里内置这东西的据我观察还还真不多。

如今看来，React 和 Vue 其实都有不少还不错的组件库选择，倒也很难说 Vue 这边的组件库生态不行了。如果倾向于大而全，React 选 AntD，Vue 选 Element Plus 应该没什么异议。其他的或许我可以举几个符合我个人审美和用起来不错的组件库说说，React 这边一个是 MUI，这组件库说实话设计得不咋好用但在欧美基本上有着和国内 AntD 类似的流行度，另外一些是 Chakra、Mantine 和近期的 shadcn/ui. Vue 这边，我个人除开 Element Plus 会比较倾向于 Naive UI 或 PrimeVue，另外 Material Design 的 Vue 组件库也有不少，但我不太喜欢这个设计所以就不提了。原题目描述中 Vue 组件库选择太少的问题大概已经不太明显了，并且现在基于 Tailwind CSS 的各种定制方案也挺流行的，手搓组件也没那么麻烦了，现在还有了 shadcn/ui 在各种框架上的版本，复制粘贴组件代码也并不麻烦。

回归问题本身吧。假如现在叫我做一个新项目，我大概还是会出于惯性选择 React——Vue 并没有什么不好，但我在 React 上着实有一些历史代码积累，对这边的生态也相对熟悉一些，并且用 React 整花活和对 TS 的兼容性上都要比 Vue 略微好上一些。但假如是做团队项目，出于对团队中其他人技术栈熟悉程度的考虑，我大概还是更倾向于 Vue——如果合作者都只会 Vue，我也不好叫人来现学 React.

说起来，其实选择 React 很多时候成了一种“潜意识”的做法——当你不管看到什么新轮子都拿如何在一个 React 应用中使用它作为示例，其实自然而然会遵照这种惯例，在没有特别理由的情况下默认选择 React——但仔细想想，又好像确实没有一定要选 React 的理由。并且尽管 React 在许多方面受到批评，但它本身没有比起其他 UI 框架有什么根本性的劣势，自然也没什么换掉它的理由——就像开头就反复提及的，这种庞大的生态和历史惯性大概已经决定了 React 在今日以及未来难以撼动的地位了，无论你对此是否抱有反感。很大程度上，这也是我习惯于使用 React 的理由。

至于其他 UI 框架，说真的 Svelte 和 Solid 那些还很不成熟，能用的组件库很少，基本上只有 Flowbite 这种基于 Tailwind CSS 的“跨框架”组件库兜底，在细致程度和易用性上都很难与专门为某一框架开发的组件库相提并论。除非只是做做那种偏海报展示的项目或者你真有足够耐心去手搓组件库，否则我是不建议在真是项目中上这些新兴框架的。嗯，还有被遗忘的 Angular——这我是真不熟，没法评价。

说来说去，最后还是写成了没啥参考价值的随感吐槽，那就到此为止吧。

# 程序员最大的悲哀是什么？
[](https://www.zhihu.com/question/50327690/answer/29585501391)

**向复杂性妥协的宿命**

初学算法的感觉很美

递归，背包问题，搜索树，树状数组

好像都是世界运行的本质

后来的高级算法

不可避免要背模板，记边界条件

网络流很美，动态树很美，快速傅立叶变换很美

几个月不写就想不起细节了

各种怪树套树后缀树变异树，模板只能硬记住两周

相关的题都是套路，有时候都都没包装

给你一个序列，请支持如下 ABCDEFG 七种操作

学编译原理、体系结构、网络，一个比一个复杂

分不清哪个是原理，哪个是历史包袱

记住了无数的名词和定义

才走到了现代世界

了解了一些实际工程和科研问题

才发现个体的智慧与时间，在无穷多的难题面前微不足道

写了几年代码，加总起来大概就是在一些问题上做了几次随机梯度下降

从全局优化的角度看来说不定是负贡献

即使知道一个方案的几十种改进，但是实现的时候不断出 bug

只能一直回滚，思考各种细节想到失眠

写很多很多 if else，或者是奇奇怪怪的超参数

收拾祖传代码难上加难，issue 数量都不收敛

日常压不住熵增

偶然做好一点东西，消融不出来自己做对了什么

在甜蜜的梦里，我想出了几条公式，几行代码

它们浑然天成，效果拨云见日

美到一个字符都不用改

美到把一切复杂都还原

但是梦醒了，我什么都没做出来

我都不知道我要解的问题是什么

# 线段树，从入门到入坑
[](https://zhuanlan.zhihu.com/p/656702623)

## 前言

线段树，是数据结构皇冠上的明珠（我编的）。

它用途广泛，被一代代的oier应用，改进，优化。

本文介绍了线段树的基础知识和各种拓展（包括权值线段树，可持久化线段树），各种优化方式（包括zkw线段树，动态开点，离散化），希望能帮到更多的oier。

在学习线段树前，默认你应该学会一下内容：

- 树和二叉树的基本知识（这你总得会吧
- 二叉堆（主要是堆式储存）
- 离散化（其实并不需要）
- 会写代码

如果你不会，左转[oiwiki](https://link.zhihu.com/?target=https%3A//oi-wiki.org/)，如果你会，那么继续读吧！

## 线段树的引入

举个例子，我们现在有一个序列，想维护一段子区间的和，该怎么办呢？

你或许会说，可以暴力！把这个区间的数加起来就行了。

那么如果这个子区间里有1e5个数呢？

前缀和？

如果强制在线呢？

如果在维护区间和的同时维护最大值、并且支持区间修改呢？

我们有很多种办法维护区间问题，比如树状数组，线段树，分块。其中，线段树是较通用且直观的一种数据结构。

## 基础线段树

## 线段树入门

首先，我们有一个序列。

![](https://www.zhihu.com/equation?tex=%5Cleft+%5C%7B+1%2C1%2C4%2C5%2C1%2C4+%5Cright+%5C%7D+)

我们利用二分的思想，用每一个节点表示一个区间，两个子节点表示左右两个子区间。




![](https://pica.zhimg.com/v2-c7275ff9347473aefc63a5a183c1cc12_r.jpg)

然后我们就可以在每个节点处维护一些信息。

注意：实际上，只有最下面一层的叶子节点才保存了实际的数字，其它的每个节点只保存着这个区间的信息（如区间和，区间最值等）

那么如何把子节点的信息传到父节点上呢？

我们要了解一个叫做![](https://www.zhihu.com/equation?tex=pushup)的操作。

这个操作的意思就是：节点表示的区间和等于两个子节点所表示的区间之和。即下图：




![](https://pic1.zhimg.com/v2-4366d4d3cb495ac792474d0f7d45d58e_r.jpg)

有了这个操作，我们就可以递归的求出每一个节点所表示的信息。




![](https://pica.zhimg.com/v2-203138a595486ceb129bdadab22afdda_r.jpg)

这个建立线段树的过程可以看作是预处理信息，把数组的信息转移到线段树的叶子节点上，时间复杂度大概是![](https://www.zhihu.com/equation?tex=O%28n%29)

事实上，还有另一种写法的线段树，不需要建树，但是需要![](https://www.zhihu.com/equation?tex=O%28+n%5Clog+n%29)的时间复杂度插入数据，我们会在权值线段树部分介绍这种写法。

**建树代码**

## 区间查询

线段树可以在![](https://www.zhihu.com/equation?tex=O%28%5Clog+n%29)的时间复杂度下完成区间查询操作。

以刚刚的数列![](https://www.zhihu.com/equation?tex=%5Cleft+%5C%7B+1%2C1%2C4%2C5%2C1%2C4+%5Cright+%5C%7D)为例。

此时如果询问![](https://www.zhihu.com/equation?tex=%5B3%2C5%5D)之间的区间和，我们该怎么办呢？




![](https://pic2.zhimg.com/v2-00f7d4bed5c2a142cf8930804c9e9701_r.jpg)

首先，如果直接查询![](https://www.zhihu.com/equation?tex=%5B4%2C6%5D)的区间和，我们肯定是会的，直接输出10就行。

查询![](https://www.zhihu.com/equation?tex=%5B4%2C5%5D)怎么办呢？

可以把![](https://www.zhihu.com/equation?tex=%5B4%2C6%5D)拆成![](https://www.zhihu.com/equation?tex=%5B4%2C5%5D)和![](https://www.zhihu.com/equation?tex=%5B6%2C6%5D)，然后输出![](https://www.zhihu.com/equation?tex=%5B4%2C5%5D)的和。

那么![](https://www.zhihu.com/equation?tex=%5B3%2C5%5D)就可以表示为![](https://www.zhihu.com/equation?tex=%5B3%2C3%5D)和![](https://www.zhihu.com/equation?tex=%5B4%2C5%5D)。




![](https://picx.zhimg.com/v2-b5775d3ad40d6cfcaff6eb4a52ac14bd_r.jpg)

所以无论我们查询多大的区间，都可以拆成一些（不超过![](https://www.zhihu.com/equation?tex=%5Clog+n)）预处理过的子区间，把这些子区间的区间和加起来，就是答案。

**区间查询代码**

## 单点修改

单点修改比较简单，不断递归，定位到要找的节点，修改即可。




![](https://pic3.zhimg.com/v2-0a819ceb298ed13fffbc029f6615e178_r.jpg)




**单点修改代码**

## 线段树的存储

观察线段树，我们发现它是一个完全二叉树，可以用堆式储存法。

即把每个节点都存在一个数组里，因为是完全二叉树，所以两个子节点可以用![](https://www.zhihu.com/equation?tex=2p)，![](https://www.zhihu.com/equation?tex=2p%2B1)表示。

因为线段树大部分节点都不是用来存数字的，所以线段树所用的空间要比原数列的空间多很多，如图，只有红色的节点才是真正存数字的。




![](https://pic4.zhimg.com/v2-89650f3dc43e0447ebad1e272d2676c5_r.jpg)




线段树大概要开四倍的空间，具体可以看[OIwiki](https://link.zhihu.com/?target=https%3A//oi-wiki.org/ds/seg/%23%25E7%25BA%25BF%25E6%25AE%25B5%25E6%25A0%2591%25E7%259A%2584%25E5%259F%25BA%25E6%259C%25AC%25E7%25BB%2593%25E6%259E%2584%25E4%25B8%258E%25E5%25BB%25BA%25E6%25A0%2591)上的分析。

## 例题1：单点修改，区间查询

[洛谷P3374](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/problem/P3374)

已知一个数列，进行下面两种操作： - 将某一个数加上![](https://www.zhihu.com/equation?tex=x)- 求出某区间每一个数的和

**题目分析**

相当于模板题，可以尝试着敲一遍，这里提供代码。

**AC代码**

## 习题

学会了线段树最基础的部分，就可以做一些习题了，将在博客的最后提供题解和代码。

- JSOI2008 最大数 线段树维护最大值的模板
- loj10123. Balanced Lineup RMQ问题，可以试试用线段树做

## 懒标记

下面请思考，怎么才能做到线段树的区间修改呢？

如果直接把区间遍历一遍，依次修改，复杂度会达到无法接受的![](https://www.zhihu.com/equation?tex=O%28n%5Clog+n%29)。

那么怎么能让区间修改的复杂度变小呢？

我们需要引入一个叫做“懒标记”的东西。

懒标记也叫延迟标记，顾名思义，我们再修改这个区间的时候给这个区间打上一个标记，这样就可以做到区间修改的![](https://www.zhihu.com/equation?tex=O%28%5Clog+n%29)的时间复杂度。

如图，如果要给![](https://www.zhihu.com/equation?tex=%5B4%2C6%5D)每个数都加上![](https://www.zhihu.com/equation?tex=2)，那么直接再代表着![](https://www.zhihu.com/equation?tex=%5B4%2C6%5D)区间的结点打上![](https://www.zhihu.com/equation?tex=%2B2)的标记就行了。




![](https://pica.zhimg.com/v2-bc1ccc95866946173e5b296819abf596_r.jpg)




## pushdown操作

再想一个问题，在给![](https://www.zhihu.com/equation?tex=%5B4%2C6%5D)区间打上懒标记后，我们如何查询![](https://www.zhihu.com/equation?tex=%5B4%2C5%5D)的值？

如果我们直接查询到![](https://www.zhihu.com/equation?tex=%5B4%2C5%5D)区间上，会发现根本就没有被加上过2。

为什么呢?

因为现在懒标记打在了![](https://www.zhihu.com/equation?tex=%5B4%2C6%5D)区间上。而他的子节点压根没被修改过！

所以我们需要把懒标记向下传递。

这就有了一个操作，叫做，它可以把懒标记下传。

设想一下，如果我们要把懒标记下传，应该注意什么呢？

首先，要给子节点打上懒标记。

然后，我们要修改子节点上的值。

最后，不要忘记把这个节点的懒标记清空。

**pushdown代码**

## 区间修改

学会了懒标记，应该可以很轻松地写出区间修改的代码了。

区间修改的操作很像区间查询，也是查找能够覆盖住的子区间，然后给它打上懒标记。

**区间查询代码**

## 例题2：区间修改，区间查询

[洛谷P3372](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/problem/P3372)

已知一个数列，你需要进行下面两种操作：

- 将某区间每一个数加上。
- 求出某区间每一个数的和。

**题目分析**

应用到区间修改，需要注意的一点是，在区间查询时，也需要下传懒标记，这样才能查询到真实的值。

**AC代码**

## 例题3：较复杂的区间操作

[洛谷P3373](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/problem/P3373)

已知一个数列，你需要进行下面三种操作：

- 将某区间每一个数乘上。
- 将某区间每一个数加上。
- 求出某区间每一个数的和。

**题目分析**

有些题要维护多个区间操作，这在操作上就比较麻烦，比如这道题，要求维护区间加法和区间乘法，所以我们得维护两个懒标记。

那么我们该怎样安排懒标记的顺序呢？

我们考虑先乘后加的维护顺序，假设两个懒标记分别是![](https://www.zhihu.com/equation?tex=mul)和![](https://www.zhihu.com/equation?tex=add)，那么这个数值就应该是![](https://www.zhihu.com/equation?tex=mul+%5Ctimes+sum%2Badd)。

此时如果加上一个![](https://www.zhihu.com/equation?tex=add)，就会变成![](https://www.zhihu.com/equation?tex=mul+%5Ctimes+sum%2Badd%2Badd)

如果乘上一个![](https://www.zhihu.com/equation?tex=mul)那就是![](https://www.zhihu.com/equation?tex=mul+%5Ctimes+sum+%5Ctimes+mul%2Badd+%5Ctimes+mul)

这种方式便于计算，如果使用先加后乘的方式，就会比较麻烦甚至会出错。

**AC代码**

## 标记永久化

其实，维护区间修改的方式有两种，一种是懒标记和标记下传，另一种叫做”标记永久化“。

标记永久化，就是不下传标记，在每次查询时把经过的标记累加起来，查询时加起来。




![](https://picx.zhimg.com/v2-2a4e2efba7dd35f9c8b5ba90e2050ddd_r.jpg)

如图，打上标记的节点用绿色表示，查询路线（橙色）经过的就累加。

**标记永久化代码**

标记永久化应用很多，比如可持久化线段树中的区间修改，树套树中第二维的修改。（后面都将讲到）

## 习题

这里给出一些习题，按照难度排序。

- AHOI2009 维护序列 与例题3差不多
- 洛谷P1253 扶苏的问题 稍微复杂的懒标记维护
- 洛谷P5142 区间方差 需要一定的数学推导能力
- P4145 花神游历各国 想一想如何优化？
- P1471 方差 3题的加强版，较难
- P6327 区间加区间sin和 需要一些高中的数学知识

## 权值线段树

权值线段树是线段树的一种衍生算法，其基本存储结构和线段树基本相同。

权值线段树与线段树的不同点在于，线段树维护区间信息，权值线段树维护值域信息。

如图，权值线段树就长这个样子。

![](https://pic1.zhimg.com/v2-676d9ff5b8e771471a9cdcbd553ca212_r.jpg)

看起来和线段树没什么区别吧，现在我们插入一个数![](https://www.zhihu.com/equation?tex=4)。




![](https://pic4.zhimg.com/v2-0f23c5584e560dc9093fcaeb0a4a6041_r.jpg)

每一个包含![](https://www.zhihu.com/equation?tex=4)的区间都被加上了1。

那么每个区间维护的到底是什么呢？

是这个区间内的数的数量。

当我们依次插入![](https://www.zhihu.com/equation?tex=%5C%7B4%2C1%2C7%2C2%2C8+%5C%7D)后，这个权值线段树就变成了这样。




![](https://picx.zhimg.com/v2-718e905df7b8c8890d3a5c5dac465495_r.jpg)

这就是权值线段树的原理。

权值线段树可以干很多事情，比如查询第![](https://www.zhihu.com/equation?tex=k)小，查找前驱后继等。

## 插入与删除

想一想，我们该如何实现插入一个数的操作呢？

把从这个数的节点到根节点的路径上每一个节点都加上1即可。

删除呢？

减去1就行了。

**代码模板**

## 例题4：权值线段树

[loj 10116](https://link.zhihu.com/?target=https%3A//loj.ac/p/10116)

NK 中学组织同学们去五云山寨参加社会实践活动，按惯例要乘坐火车去。由于 NK 中学的学生很多，在火车开之前必须清点好人数。

初始时，火车上没有学生。当同学们开始上火车时，年级主任从第一节车厢出发走到最后一节车厢，每节车厢随时都有可能有同学上下。年级主任走到第![](https://www.zhihu.com/equation?tex=m)节车厢时，他想知道前![](https://www.zhihu.com/equation?tex=m)节车厢上一共有多少学生。每次提问，m 总会比前一次大。

**题目分析**

很明显可以用权值线段树做，维护每个区间的数的数量，具体见代码。

**AC代码**

## 查询第k大数

请注意，这个查询第k大是针对整个权值线段树的，要查区间第k大请去学主席树或树套树。

权值线段树是维护值域的，一个节点的左右端点都应该是一个具体的数字，而且值域肯定是递增的，所以我们可以二分。

如果![](https://www.zhihu.com/equation?tex=k)小于区间中点，那么也就说明结果为左区间第![](https://www.zhihu.com/equation?tex=k)大数。否则，也就说明结果为右区间第![](https://www.zhihu.com/equation?tex=k%E2%88%92l_%7Bsize%7D)大数。

**代码**

## 查询一个数的排名

和查询第k大差不多。

每次把![](https://www.zhihu.com/equation?tex=x)与当前区间中点![](https://www.zhihu.com/equation?tex=mid)比较，如果小于等于![](https://www.zhihu.com/equation?tex=mid)，说明在左区间，向左儿子寻找。 如果大于![](https://www.zhihu.com/equation?tex=mid)，说明在右区间，这时，它的排名要加上左子树的大小（它比整个左子树的数都大）

如果找到叶子节点了，那么返回![](https://www.zhihu.com/equation?tex=1)(在![](https://www.zhihu.com/equation?tex=%5Bl%2Cr%5D)的区间只有自己，排名第一)

**代码**

## 例题5：用权值线段树实现平衡树

[洛谷P3369](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/problem/P3369)

实现一个数据结构，来维护一些数，其中需要提供以下操作：

- 插入数
- 删除数(若有多个相同的数，应只删除一个)
- 查询数的排名(排名定义为比当前数小的数的个数)
- 查询排名为的数
- 求的前驱(前驱定义为小于，且最大的数)
- 求的后继(后继定义为大于，且最小的数)

**题目分析**

正宗解法自然是平衡树，但是仔细观察这些操作，似乎都可以用权值线段树解决？

前四个操作我们已经讲解过了，只剩下最后两个：求前驱和后继。

前驱实际上就是比![](https://www.zhihu.com/equation?tex=x)的排名小一位的数，也就是。

后继就是![](https://www.zhihu.com/equation?tex=x%2B1)的排名位置的数，也就是。

那么我们就可以写出代码了？

**没AC代码**

细心的你会发现，这个线段树怎么开了![](https://www.zhihu.com/equation?tex=8%5Ctimes10%5E7)呢？肯定会爆空间啊。

但是题目要求的![](https://www.zhihu.com/equation?tex=%7Cx%7C%5Cle10%5E7)却令我们不得不开这么大。

怎么办呢？

一般来说，优化线段树空间的有两种方法。

一种是离散化后再进行操作（离线），一种是动态开点。

（这两种方法都会在下一节介绍到）

在这道题中，我们可以使用动态开点的方式，优化空间。

**‘动态开点代码**

如果想学习离散化的解法，可以看这位%%%的[博客](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/blog/olinr/quan-zhi-xian-duan-shu)。

## 空间优化技巧

这里介绍两种优化方式：离散化和动态开点。

两种方法其实各有优劣，如果只是为了缩小值域，离散化似乎更好写一点，但是动态开点还可以被应用到可持久化、线段树合并和分裂上，所以都学一学吧。

## 离散化

数据范围太大了，需要缩小数据范围，这句话让你想到了什么？

当然是离散化了！

所以我们可以把所有操作都存起来，排序然后离散化，离线进行操作。

如果你不会离散化，请看这篇[博客](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/blog/luhaoren/Discretization)。

## 动态开点

动态开点，顾名思义，就是使用的时候再开点。

如果数据范围是![](https://www.zhihu.com/equation?tex=%5B-10%5E7%2C10%5E7%5D)，在权值线段树的使用过程中，很大一部分的节点会使用不到，这会造成一种浪费。

动态开点的意思就是：不一上来就把所有的节点全部建立起来，只在需要用到一个节点的时候再建立一个节点。

注意：使用动态开点线段树的话，节点的下标将是无序的，因此必须建立结构体或用两个数组来分别保存一个节点的左右子节点。

**代码模板**

## 习题

提供几道权值线段树的习题

- loj10114.数星星 Stars  权值线段树，需要用动态开点或离散化的优化
- P1168 中位数  离散化，然后开权值线段树维护
- P2073 送花  可以用权值线段树做
- SDOI2014 旅行  树链剖分（如果你会的话），用动态开点维护

## zkw线段树

zkw线段树是一种用循环实现的线段树，比正常的递归式线段树快很多，而且好写。

## zkw线段树的引入

我们观察一个线段树的结构，按照堆式储存，叶子节点的序号是连续的。




![](https://pic4.zhimg.com/v2-249c35287c9547e0fd5d04f9298d1b1d_r.jpg)

而原数组中的数字编号也恰恰是连续的，所以二者之间有一个对应关系。

仔细观察，发现两者序号之差竟然是一个定值。

所以，我们就可以快速地找到数字在线段树中的位置，即（N为差值）。

而这个![](https://www.zhihu.com/equation?tex=N)就应该是线段树中抛去叶子节点之外的节点的数量。

为了方便，我们约定，无论树有没有那么大，我们都把![](https://www.zhihu.com/equation?tex=N)看作![](https://www.zhihu.com/equation?tex=n)，无数据的叶节点空置即可。

这样我们就可以通过循环的方式，完成线段树的初始化。

**建树代码**

建树才三行代码，还包括了读入，zkw线段树是不是很神奇？

## 单点修改&区间查询

## 单点修改

找到了数字在线段树中的位置，怎么更新它的父节点呢？

按照堆式储存的特点，节点的父节点就应该是![](https://www.zhihu.com/equation?tex=x%2F2)（x是这个节点）

那么从叶子节点开始，一步步地向上爬，更新，就完成了一次单点修改。

这也是zkw线段树的一个特色——自底向上。




![](https://pic2.zhimg.com/v2-473326ba775b4c42dfb13e787822290f_r.jpg)

**单点修改代码**

看完单点修改，相信大家已经会了单点查询，那就是：

**单点查询代码**

## 区间查询

接下来思考，如何做到区间查询呢？

如图，以查询![](https://www.zhihu.com/equation?tex=%5B3%2C6%5D)区间之和为例，我们先设两个指针![](https://www.zhihu.com/equation?tex=p%2Cq)，让![](https://www.zhihu.com/equation?tex=p%3Dl-1%2Cq%3Dr%2B1)。




![](https://pic1.zhimg.com/v2-8ec864c2c5821f0622a61776bc841c82_r.jpg)




然后让![](https://www.zhihu.com/equation?tex=p)和![](https://www.zhihu.com/equation?tex=q)一直往上跳，直到两个指针的父节点相同。




![](https://pic1.zhimg.com/v2-bd16c597942efb9f5e6af5f6b094997a_r.jpg)

有没有发现，这两个指针笼罩的地方，就是我们要查询的区间。

多观察一会，我们会发现一个规律：

- 指向的节点是左儿子，那么答案加上右儿子的值
- 指向的节点是右儿子，那么答案加上左儿子的值

**区间查询代码**

## 习题

- P3374 单点修改，区间查询  用zkw线段树再做一遍

## 区间修改&单点查询

## 区间修改

zkw线段树也支持区间修改，但是由于很难做到，所以zkw线段树采用标记永久化的方式进行区间修改。

区间修改和区间查询差不多，也是维护两个指针，不同点是：从累加答案变成修改懒标记。

**区间修改代码**

## 单点查询

在有懒标记的情况下，单点查询也变得不同。

首先自底向上累加所有祖宗节点的懒标记，然后再加上本身的值。

**单点查询代码**

## 习题

- P3372 线段树1 用zkw线段树做一遍
- P3368 树状数组2 区间修改，单点查询

## 可持久化线段树

可持久化线段树 ，顾名思义，就是可以保留每一个历史版本，并且支持在历史版本上进行操作的线段树。

为什么要可持久化呢?有的时候离线维护扫描线之类的东西时，就需要在时间轴里穿梭，这就需要历史版本；权值线段树如果能可持久化，就可以维护区间的数据，达到静态树套树的效果。

那么如何可持久化呢？

首先，最暴力的做法就是，开![](https://www.zhihu.com/equation?tex=n)个线段树，但是这样肯定会爆空间，所以，我们得想点别的招。

如图，这是一个普通的线段树。

![](https://picx.zhimg.com/v2-3a050121ebd347c0afd87730f3e24c1d_r.jpg)

我们把第7个数加上3，如图。




![](https://picx.zhimg.com/v2-f2cb07f3abf3691e1838b3073d6ae8f3_r.jpg)




仔细观察，就会发现，被修改的节点实际上只是一条链，长度为![](https://www.zhihu.com/equation?tex=%5Clog+n)。

于是，著名神犇hjt突发奇想，如果每次修改只维护一条链的话，空间复杂度就变成![](https://www.zhihu.com/equation?tex=O%28n%2Bm%5Clog+n%29)了呀。

于是就有了可持久化线段树，也叫主席树（能猜到原因吧）

如图，在可持久化线段树里给第7个数加上3。




![](https://pic4.zhimg.com/v2-61a4b330da12b8d072a903372aa987b7_r.jpg)

从这个图中，我们可以看出可持久化线段树的诀窍在于——复用历史版本的节点。

可持久化线段树只会增加需要修改的节点，而不需要修改的节点就可以使用以前的结构，这种思想被称为“函数式编程“，所以可持久化线段树也叫”函数式线段树“。

**核心代码**

## 例题6：可持久化数组

[洛谷P3919](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/problem/P3919)

维护这样的一个长度为![](https://www.zhihu.com/equation?tex=N)的数组，支持如下几种操作：

- 在某个历史版本上修改某一个位置上的值
- 访问某个历史版本上的某一位置的值

此外，每进行一次操作（对于操作![](https://www.zhihu.com/equation?tex=2)，即为生成一个完全一样的版本，不作任何改动），就会生成一个新的版本。版本编号即为当前操作的编号（从![](https://www.zhihu.com/equation?tex=1)开始编号，版本![](https://www.zhihu.com/equation?tex=0)表示初始状态数组）

**题目分析**

很明显，这一个可持久化线段树模板题，需要单点修改，单点查询，套用模板即可。

**AC代码**

## 例题7：静态区间第k小

[洛谷P3834](https://link.zhihu.com/?target=https%3A//www.luogu.com.cn/problem/P3834)

给定![](https://www.zhihu.com/equation?tex=n)个整数构成的序列![](https://www.zhihu.com/equation?tex=a)，将对于指定的闭区间![](https://www.zhihu.com/equation?tex=%5Bl%2Cr%5D)查询其区间内的第![](https://www.zhihu.com/equation?tex=k)小值。

**题目分析**

如果没有区间操作，查询第k小可以用权值线段树实现，如果有要支持区间操作呢？

我们建一颗可持久化权值线段树，如图，把![](https://www.zhihu.com/equation?tex=%5C%7B2%2C4%2C1%2C3%5C%7D)这个数列的数依次插入。




![](https://pic4.zhimg.com/v2-618416b7133f5d6783befc3e6439fad1_r.jpg)

仔细观察，就会发现第![](https://www.zhihu.com/equation?tex=i)棵树保存着前![](https://www.zhihu.com/equation?tex=i)个数的信息（设初始化的树为第![](https://www.zhihu.com/equation?tex=0)棵）

也就是说，这个可持久化线段树可以说是数列的“前缀树”。

你能想到什么？

可持久化线段树满足区间可加减性，所以我们可以用前缀和的方式找出维护![](https://www.zhihu.com/equation?tex=%5Bl%2Cr%5D)个数的信息的树。

也就是拿出第![](https://www.zhihu.com/equation?tex=l-1)棵树和第![](https://www.zhihu.com/equation?tex=r)棵树，两者相减，结果就是![](https://www.zhihu.com/equation?tex=%5Bl%2Cr%5D)的信息。




![](https://pic2.zhimg.com/v2-14e61cb19fc057d35c0e91948fd11839_r.jpg)

而在相减后的树上找第k小相信大家都已经会了。

那么就可以写出代码了！

注：这题数据很水，题面给![](https://www.zhihu.com/equation?tex=%7Ca_i+%7C%5Cle+10%5E9)，但实际上的数据范围是![](https://www.zhihu.com/equation?tex=0+%5Cle+a_i+%5Cle+10%5E6)，甚至不需要离散化的优化，就可以过。

**AC代码**

实际上，这份代码在除了洛谷以外的其它OJ上是AC不了的，因为题面上![](https://www.zhihu.com/equation?tex=%7Ca_i%7C%5Cle+10%5E9)的数据范围使代码必须要有离散化的优化，这里给出优化代码。

## 习题

- 洛谷P3402 可持久化并查集 注意并查集的合并操作
- [POI2014] KUR-Couriers 维护区间绝对众数，有乱搞做法

## U.P.D

2023年2月17日 初稿，大概两千多字。

2023年6月？ cry拿去学，发现了一堆错误（比如代码写了个）。

2023年7月3日 开始重写。

2023年7月6日 写完基础部分

2023年7月8日 增加了权值线段树

2023年7月9日 挪到了洛谷上，把图片传到了洛谷图床上。增加了权值线段树的习题。

2023年7月9日 增加了zkw线段树

2023年7月11日 增加了可持久化线段树

2023年9月16日 上传到知乎

## 参考资料

- oiwiki关于线段树储存空间的证明
- 洛谷日报·线段树
- 标记永久化
- 标记永久化
- 洛谷日报·权值线段树到主席树
- P3369普通平衡树题解
- 统计的力量（zkw课件）
- 同机房巨佬的博客
- 洛谷日报·zkw线段树
- zkw的课件

# 
[](https://www.zhihu.com/pin/1880095628509562119?native=0)

[object Object],[object Object]

# 为什么很多以往活跃的前端开发博主都不怎么说话了？
[](https://www.zhihu.com/question/14593370597/answer/124053388531)

你举几个例子。我好说

## 高管派

代表人物：玉伯

他负责蚂蚁体验技术部之后，基本上不怎么出来了。早期seajs，kissy时代也是非常活跃的。现在偶尔能见到是因为他在创业，youmind.ai，大家也可以支持一下

## RIP斯人已逝

代表人物：司徒正美




## 功成名就大厂隐居派

代表人物，朴灵。

阿里Node.js最早的三驾马车之一（另外2个苏千，死马）。在infoq连载深入浅出，并最终结集为九浅一深Node.js，为一时之冠。也曾和阮一峰等因为Eventloop等在微博上大吵，当时很多知名前端都卷入其中，名声大噪。在2015年之后基本上就不怎么出面了，所有大会，媒体邀约基本上都不参加了。

大概是他升了p8左右就不关注前端领域，专注业务，专心带娃，偶尔写一点开源项目，之前听说在阿里云负责api多端生成。我在余杭区贵州黄牛肉店还碰到过他。

其代表作AliNode，在当时通过fork代码，然后打桩的方式。是一个很hardcore的事儿。培养了张秋怡，黄一君等实力派。一君的easymonitor，基于addon去做，更轻量。

可以说朴灵是我最羡慕的人生了。

## 修仙派

代表人物：justjavac

justjavac在成为deno继父之后，就不怎么写文章和参与公开演讲了。在天津呆的很爽，据说还上了电视台。

![](https://picx.zhimg.com/v2-7c89912cf795d5ae82e761249dfc6815_r.jpg?source=2c26e567)

## 转行派

代表人物：张鑫旭

他的css很牛大家都知道，其实他js也非常了得，年前和他做播客，他对Node.js竟然也十分精通。现在主要是工作，写文章，钓鱼。

写文章控制在1周1篇左右。

钓鱼在抖音有一个万粉大号，好像叫最会钓鱼的程序员




## 大课润派

代表人物：winter、花果山大圣

从大厂到讲课，到润。




## 老当益壮派

代表人物：Hax、天猪

hax现在也在卷AI，据说做了1年半了。

猪哥从蚂蚁出来，就加入字节，现在在负责Trae，那是相当的卷啊。把老雷，死月都卷的不出来了。

## 具有钱而退圈派

代表人物：郭宇

赶上2013-2020抖音疯狂时代，28岁退休。现在日本做web3




## 新生代




范文杰，润到sg，在字节flow，目前在和我做播客

神三元小朋友，字节搞ai相关去了

卡颂从字节出去，天天想着卖课呢，现在想弄ai相关这波




以上来自网友提问




——-










![](https://picx.zhimg.com/50/v2-d142701f61bac4e4c92fa63982bf6128_720w.jpg?source=2c26e567)

# 怎样看待 AI 三小时做的小游戏 9 天赚了 12 万？会对游戏行业产生怎样的影响？
[](https://www.zhihu.com/question/14003476657/answer/115973637730)

这对游戏行业产生怎样的影响？其实可以说没啥太大影响，AI只是加速了游戏开发过程。

我认为，最大的影响，是来自开发模式的转变。有能力有名气的开发者，可以Build in Public，通过AI的帮助，能快速试错，从而迭代出能赚钱的产品。

**Build in Public是AI时代和自媒体时代融合后的一种开发模式。**

所谓Build in public，即“公开建构”，是一种新兴的产品开发模式，指公司或独立开发者有意识地选择公开分享公司或产品创建的整个过程，通过社交媒体、在线社区等渠道，不断分享创建过程中的见解、想法、进展等，让公众能够看到从项目最初概念到产品迭代等各个阶段的情况。

要走这种开发模式，你需要

- 是网红，有一定的关注量。不然你开发的东西没啥人知道。
- 有较强的开发能力，最好是技术出身。有的人问，我是产品经理，有AI加持，我觉得我也能走这条路，其实不然，毕竟这是在构建产品，而不是做一个demo。AI只是加速开发，并不能完全替代开发，更何况，除了开发，还有售后技术支持，服务器搭建等很多繁琐的事情。
- 随时随地带着电脑。毕竟你卖了服务，就要提供技术支持。

这位AI 三小时做的小游戏 9 天赚了 12 万的老哥，本身就是一个KOL，推特上有60多万粉丝。

![](https://pica.zhimg.com/v2-61fe01f4464f7b2ce08b30a94163e295_r.jpg?source=2c26e567)

他会公布自己构建产品的过程，以及每个产品收入。

正如他主页说的，他做了70多个产品，只有4个赚钱且在增长，也就是说大概只有5%的成功率。

![](https://pic1.zhimg.com/v2-a7bf4166f440d87d7776b3c76768d9c0_r.jpg?source=2c26e567)

当然，由于AI加持，他做这些产品的时间成本大大降低。

他这个飞行模拟器游戏之所以爆火，是因为被银河系著名网上冲浪大师——马斯克刷到了，给他贡献了900多万的曝光。

![](https://picx.zhimg.com/v2-5d72ad99ccd1d58a5676d4e6259aff6a_r.jpg?source=2c26e567)

而且，除了卖金子，他也卖铲子，他把自己的独立开发经验打包成电子书售卖，70刀的价格。这才是能保证挣钱的方法，毕竟不需要服务器支出。这对于他这种粉丝级别的KOL来说，还是能赚到钱的。当然，这里没说他割韭菜的意思，毕竟他是真有本事。

![](https://picx.zhimg.com/v2-61c1d7855a776ec1de7316ae0a191a6d_r.jpg?source=2c26e567)




可以看到，Build in Public模式，对于p人来说简直就天堂。但工作强度并不比上班低，只是Build in Public更加好玩，反馈更加及时。那么普通人能不能复刻他的成功？能是能，但要很长时间，而且要把战场放在海外，在国内应用要备案，游戏要版号，这对于需要极速迭代试错的独立开发者而言，很难在国内的平台践行Build in Public。

如果你真要玩build in public，那么我建议你需要经营自己的推特，多参与到开源社区，积累技术名气。经营小红书微博知乎什么的没经营推特重要，毕竟你要做出海的生意。国内比较有名气的独立开发者，例如idoubi，都是做出海的。但目前国内也没有像题中那个博主这么赚钱的，所以，Build in Public虽然看起来很诱人，但其实并不适合多数人，真要玩Build in Public的话，先兼职试试先。

# 【优雅技巧】如何优雅地“注意到”关于e、π的不等式
[](https://zhuanlan.zhihu.com/p/669285539)

最近关于![](https://www.zhihu.com/equation?tex=e)和![](https://www.zhihu.com/equation?tex=%5Cpi)的不等式问题突然火起来，多个问题“如何优雅地证明![](https://www.zhihu.com/equation?tex=%5Cpi%3Ee)?”、“如何优雅地证明![](https://www.zhihu.com/equation?tex=%5Cpi%5E3%3E31)?”、“如何优雅地证明![](https://www.zhihu.com/equation?tex=e%5E3%3E20)?”等频频登上知乎热榜。

论起优雅的证明方法少不了使用定积分的证明。典型证明的套路就是谈笑间**“注意到”**一个关于![](https://www.zhihu.com/equation?tex=e)或者![](https://www.zhihu.com/equation?tex=%5Cpi)的等于一个大于0的定积分，例如通过以下方法证明![](https://www.zhihu.com/equation?tex=e%5E3%3E20)：

**注意到**

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26e%5E3-20+%3D+%5Cfrac%7B1%7D%7B8%7D+%5Cint_0%5E1x%5E3%281-x%29%5E4%2828%2B33x%29e%5E%7B3x%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)

**证毕！**

下面的评论基本都是“**注意力惊人**”、“**中国人自己的拉马努金**”、“**Attention is all you need!**”等。

方法看起来非常的酷炫和优雅，但其实原理并不复杂。有些结果看起来非常“鬼畜”，但是借助软件来计算也不困难。本文来介绍具体的构造方法。




## 核心原理：

所有“注意到”的不等式的积分证明基于以下原理：

**要证明**![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7Bu%3Ev%7D)**，首先找到一个**![](https://www.zhihu.com/equation?tex=%5Ba%2Cb%5D)**（ 通常是**![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)**）上的定积分，它的值恰好等于**![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7Bu-v%7D)**，且被积函数**![](https://www.zhihu.com/equation?tex=f%28x%29)**在**![](https://www.zhihu.com/equation?tex=%5Ba%2Cb%5D)**上恒非负（等于0的点只有有限个）, 然后通过**

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ccolor%7Bblue%7D%7Bu-v%3D%5Cint_a%5Eb+f%28x%29+dx+%3E0%7D%5Cend%7Balign%2A%7D)

**来证明。**




把答题过程流程化，以及将过去总结的答题技巧融入其中，让更多的人能够直接使用“注意力积分”的方法来解决问题，我制作的**注意力计算器**已发布，通过计算器可以直接找到**29种类型**的积分。

[【人人皆可优雅】注意力计算器自动生成积分证明(计算器地址: zhuyidao.com)](https://zhuanlan.zhihu.com/p/20960679909)

## 计算器网址：

[zhuyidao.com](https://link.zhihu.com/?target=http%3A//zhuyidao.com/)

或者[zhuyidao.net](https://link.zhihu.com/?target=http%3A//zhuyidao.net/)




文章主要分成两部分：第一部分介绍可以直接“注意到”的不等式（共45种类型），第二部分介绍构造积分的9个优雅技巧。

## 一. 可以直接“注意到”的不等式

**π和e类**

- 1） 大于或小于一个有理数
- 2） 大于或小于一个有理数
- 3）(  是整数 )大于或小于一个有理数
- 4） (  是有理数 )大于或小于一个有理数
- 5） 大于或小于一个有理数
- 6） (  是有理数 )大于或小于一个有理数

**对数类**

- 7)  (  是有理数 )大于或小于一个有理数
- 8) (  是有理数， 是整数 )大于或小于一个有理数
- 9)  大于或小于一个有理数

**反三角函数类**

- 10)  (  是有理数 )大于或小于一个有理数
- 11)  (  是有理数 )大于或小于一个有理数
- 12)  (  是有理数 )大于或小于一个有理数
- 13)  (  是有理数 )大于或小于一个有理数

**三角函数类**

- 14)  (  是有理数 )大于或小于一个有理数
- 15)  或  (  是有理数 )大于或小于一个有理数
- 16)  (  是有理数 )大于或小于一个有理数
- 17)  或  (  是有理数 )大于或小于一个有理数
- 18)  (  是有理数 )大于或小于一个有理数
- 19)  (  是有理数 )大于或小于一个有理数

**反双曲函数类**

- 20)  (  是有理数 )大于或小于一个有理数
- 21)  (  是有理数 )大于或小于一个有理数
- 22)  (  是有理数 )大于或小于一个有理数
- 23)  (  是有理数 )大于或小于一个有理数

**双曲函数类**

- 24)  (  是有理数 )大于或小于一个有理数
- 25)  (  是有理数 )大于或小于一个有理数
- 26)  (  是有理数 )大于或小于一个有理数
- 27)  (  是有理数 )大于或小于一个有理数

**指数和三角函数组合类**

- 28)  (  都是有理数 )大于或小于一个有理数
- 29)  (  都是有理数 )大于或小于一个有理数

**有理数类**

- 30)  (  都是有理数 )大于或小于一个有理数

**特殊常数类**

- 31) 卡塔兰常数  大于或小于一个有理数
- 32) 欧拉常数  大于或小于一个有理数
- 33) 黄金分割率  大于或小于一个有理数
- 34) 葛莱佘-金可林常数对数  大于或小于一个有理数
- 35) 双纽线周率  大于或小于一个有理数
- 36) 高斯常数  大于或小于一个有理数
- 37)  大于或小于一个有理数
- 38)  大于或小于一个有理数
- 39)   大于或小于一个有理数

**特殊函数类**

- 40) 黎曼Zeta函数  (  为大于1的正整数）大于或小于一个有理数
- 41) 正弦积分函数  (  是有理数 )大于或小于一个有理数
- 42) 指数积分函数  和  (  是有理数 )大于或小于一个有理数
- 43) 指数积分函数 ,和  (  是有理数 )大于或小于一个有理数
- 44) 二重对数函数  (  是有理数 )大于或小于一个有理数
- 45) 误差函数  (  是有理数 )大于或小于一个有理数




以下逐一详细介绍每种类型的“注意力”原理。

## 第1种类型：  大于或小于一个有理数

我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29%7D%7B1%2Bx%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同，![](https://www.zhihu.com/equation?tex=n)值越大得到的不等式越紧。要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

具体如何来确定指数![](https://www.zhihu.com/equation?tex=n)和系数![](https://www.zhihu.com/equation?tex=a%2Cb%2Cc)呢？我们首先列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2%2C3%2C4)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cint_0%5E1+%5Cfrac%7Bx%281-x%29%28a%2Bbx%2Bcx%5E2%29%7D%7B1%2Bx%5E2%7D+dx%3D%26%5C++%5Cfrac%7B1%7D%7B4%7D%28a-b-c%29%5Cpi+%2B+%5Cfrac%7B1%7D%7B2%7D+%28a+%2Bb+-c%29%5Cln2%2B%5Cleft%28-a+%2B+%5Cfrac%7B1%7D%7B2%7D+b+%2B+%5Cfrac%7B7%7D%7B6%7Dc%5Cright%29+%5C%5C+%5Cint_0%5E1+%5Cfrac%7Bx%5E2%281-x%29%5E2%28a%2Bbx%2Bcx%5E2%29%7D%7B1%2Bx%5E2%7D+dx%3D%26%5C+++-+%5Cfrac%7Bb%7D%7B2%7D%5Cpi+%2B+%28a-c%29%5Cln2+%2B%5Cleft%28-+%5Cfrac%7B2%7D%7B3%7Da+%2B+%5Cfrac%7B19%7D%7B12%7Db%2B+%5Cfrac%7B7%7D%7B10%7Dc+%5Cright%29+%5C%5C+%5Cint_0%5E1+%5Cfrac%7Bx%5E3%281-x%29%5E3%28a%2Bbx%2Bcx%5E2%29%7D%7B1%2Bx%5E2%7D+dx%3D%26%5C+++%5Cfrac%7B1%7D%7B2%7D%28-a-b%2Bc%29%5Cpi+++%2B+%28a-b-c%29%5Cln2+%2B%5Cleft%28%5Cfrac%7B53%7D%7B60%7Da%2B%5Cfrac%7B34%7D%7B15%7Db-+%5Cfrac%7B92%7D%7B105%7Dc%5Cright%29+%5C%5C+%5Cint_0%5E1+%5Cfrac%7Bx%5E4%281-x%29%5E4%28a%2Bbx%2Bcx%5E2%29%7D%7B1%2Bx%5E2%7D+dx%3D%26%5C+%28-a%2Bc%29%5Cpi+-+2b%5Cln2+%2B%5Cleft%28%5Cfrac%7B22%7D%7B7%7Da++%2B+%5Cfrac%7B233%7D%7B168%7Db+-%5Cfrac%7B1979%7D%7B630%7Dc%5Cright%29+%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=%5Cpi%2C+%5Cln2%2C+1)的有理线性组合，我们只要根据目标不等式带入系数，形成关于![](https://www.zhihu.com/equation?tex=a%2Cb%2Cc)的三元一次方程组，手算或者使用软件确定![](https://www.zhihu.com/equation?tex=a%2Cb%2Cc)的值即可（我喜欢使用![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)的原因是恰好是有三个待定系数）。先从小的![](https://www.zhihu.com/equation?tex=n)开始试验，看最终得到的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)是否在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，如果否就要提高![](https://www.zhihu.com/equation?tex=n)的值直至满足恒非负的条件。

例如：在这个问题中需要证明![](https://www.zhihu.com/equation?tex=8%5Cpi%3E25.)

[如何证明e/π＜8/9？](https://www.zhihu.com/question/427526890/answer/3299759624)

我们使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况，要凑出来![](https://www.zhihu.com/equation?tex=8%5Cpi-25)即

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cint_0%5E1+%5Cfrac%7Bx%5E2%281-x%29%5E2%28a%2Bbx%2Bcx%5E2%29%7D%7B1%2Bx%5E2%7D+dx%5C%5C+%3D%26%5C+++-+%5Cfrac%7Bb%7D%7B2%7D%5Cpi+%2B+%28a-c%29%5Cln2%2B%5Cleft%28-+%5Cfrac%7B2%7D%7B3%7Da+%2B+%5Cfrac%7B19%7D%7B12%7Db%2B+%5Cfrac%7B7%7D%7B10%7Dc+%5Cright%29%3D8%5Cpi-25.%5Cend%7Balign%2A%7D)

比较![](https://www.zhihu.com/equation?tex=%5Cpi)、![](https://www.zhihu.com/equation?tex=%5Cln+2)和常数项的系数得到如下三元一次方程组：

![](https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Barray%7D%7Bl%7D+-+%5Cdfrac%7Bb%7D%7B2%7D%3D8%5C%5C+a-c%3D0+%5C%5C+-+%5Cdfrac%7B2%7D%7B3%7Da+%2B+%5Cdfrac%7B19%7D%7B12%7Db%2B+%5Cdfrac%7B7%7D%7B10%7Dc%3D-25+%5Cend%7Barray%7D%5Cright.)

解出![](https://www.zhihu.com/equation?tex=a%3Dc%3D10%2C%5C+b%3D-16%2C)得到的![](https://www.zhihu.com/equation?tex=10-16x%2B10x%5E2)满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%268%5Cpi+-+25++%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E2%281-x%29%5E2%2810-16x%2B10x%5E2%29%7D%7B1%2Bx%5E2%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第2种类型：  大于或小于一个有理数

使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%29e%5E%7Bx%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，这里两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。

同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+a%2Bb%5Cge+0.)

列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2%2C3)的情况

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cint_0%5E1x%281-x%29%28a%2Bbx%29e%5Ex+dx%3D%26%5C+%28-a%2B3b%29e%2B%283a-8b%29%5C%5C+%5Cint_0%5E1x%5E2%281-x%29%5E2%28a%2Bbx%29e%5Ex+dx%3D%26%5C+2%287a-32b%29e%2B2%28-19a%2B87b%29%5C%5C+%5Cint_0%5E1x%5E3%281-x%29%5E3%28a%2Bbx%29e%5Ex+dx%3D%26%5C+6%28-71a%2B465b%29e%2B6%28193a-1264b%29%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=e%2C+1)的有理线性组合，待定系数即可确定。

例如：还是这个问题中我们需要证明![](https://www.zhihu.com/equation?tex=9e%3C25.)

[如何证明e/π＜8/9？](https://www.zhihu.com/question/427526890/answer/3299759624)

我们使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，要凑出来![](https://www.zhihu.com/equation?tex=25-9e)即

![](https://www.zhihu.com/equation?tex=+%5Cbegin%7Balign%2A%7D%5Cint_0%5E1x%281-x%29%28a%2Bbx%29e%5Ex+dx%3D%28-a%2B3b%29e%2B%283a-8b%29%3D25-9e%5Cend%7Balign%2A%7D)

则系数需要满足

![](https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Barray%7D%7Bl%7D++-a%2B3b%3D-9%5C%5C++3a-8b%3D25+%5Cend%7Barray%7D%5Cright.)

解出![](https://www.zhihu.com/equation?tex=a%3D3%2C+b%3D-2)，得到的![](https://www.zhihu.com/equation?tex=3-2x)满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%2625-9e++%3D%5Cint_0%5E1+x%281-x%29%283-2x%29e%5Ex+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第3种类型：(  是整数 )大于或小于一个有理数

我们仅需要考虑![](https://www.zhihu.com/equation?tex=n)是正整数的情况，这是因为对于负整数![](https://www.zhihu.com/equation?tex=n),![](https://www.zhihu.com/equation?tex=%5Cpi%5En)大于（或小于）一个正有理数![](https://www.zhihu.com/equation?tex=q)等价于![](https://www.zhihu.com/equation?tex=%5Cpi%5E%7B-n%7D)小于（或大于）![](https://www.zhihu.com/equation?tex=1%2Fq.)在关于![](https://www.zhihu.com/equation?tex=%5Cpi)的积分式基础上加入![](https://www.zhihu.com/equation?tex=%5Cln%5E%7Bn-1%7D%281%2Fx%29)这一项， 使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5Em+%28a%2Bbx%5E2%29%5Cln%5E%7Bn-1%7D%281%2Fx%29%7D%7B1%2Bx%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分（其中![](https://www.zhihu.com/equation?tex=m%2Bn)要求为奇数，否则没有简洁结果）。

这里要注意：如果使用![](https://www.zhihu.com/equation?tex=%5Cln+x)而不是![](https://www.zhihu.com/equation?tex=%5Cln%281%2Fx%29)需要注意最后积分式的正负号。为了防止忘记这一点，建议直接使用![](https://www.zhihu.com/equation?tex=%5Cln%281%2Fx%29)，此外要保证最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负（即满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0)）。

列出![](https://www.zhihu.com/equation?tex=n%3D2%2C3%2C4%2C5%2C%5C+m%3D0%2C1%2C2%2C3%2C+m%2Bn)为奇数的情况如下：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cint_0%5E1%5Cfrac%7Bx%28a%2Bbx%5E2%29%5Cln%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B1%7D%7B48%7D%28a-b%29%5Cpi%5E2%2B%5Cfrac%7B1%7D%7B4%7Db%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%5E3%28a%2Bbx%5E2%29%5Cln%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B1%7D%7B48%7D%28-a%2Bb%29%5Cpi%5E2%2B%5Cleft%28%5Cfrac%7B1%7D%7B4%7Da-%5Cfrac%7B3%7D%7B16%7Db%5Cright%29%5C%5C+%5Cint_0%5E1%5Cfrac%7B%28a%2Bbx%5E2%29%5Cln%5E2%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B1%7D%7B16%7D%28a-b%29%5Cpi%5E3%2B2b%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%5E2%28a%2Bbx%5E2%29%5Cln%5E2%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B1%7D%7B16%7D%28-a%2Bb%29%5Cpi%5E3%2B%5Cleft%282a-%5Cfrac%7B52%7D%7B27%7Db%5Cright%29%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%28a%2Bbx%5E2%29%5Cln%5E3%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B7%7D%7B1920%7D%28a-b%29%5Cpi%5E4%2B%5Cfrac%7B3%7D%7B8%7Db%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%5E3%28a%2Bbx%5E2%29%5Cln%5E3%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B7%7D%7B1920%7D%28-a%2Bb%29%5Cpi%5E4%2B%5Cleft%28%5Cfrac%7B3%7D%7B8%7Da-%5Cfrac%7B45%7D%7B128%7Db%5Cright%29%5C%5C+%5Cint_0%5E1%5Cfrac%7B%28a%2Bbx%5E2%29%5Cln%5E4%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B5%7D%7B64%7D%28a-b%29%5Cpi%5E5%2B24b%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%5E2%28a%2Bbx%5E2%29%5Cln%5E4%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cfrac%7B5%7D%7B64%7D%28-a%2Bb%29%5Cpi%5E5%2B%5Cleft%2824a-%5Cfrac%7B1936%7D%7B81%7Db%5Cright%29%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=%5Cpi%5En%2C+1)的有理线性组合。

例如：我们需要证明![](https://www.zhihu.com/equation?tex=%5Cpi%5E3%3E31.)

[如何优雅地证明π³>31?](https://www.zhihu.com/question/624099087/answer/3270401325)

使用![](https://www.zhihu.com/equation?tex=n%3D3%2C%5C+m%3D12)的情况，

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B12%7D+%28a+%2B+b+x%5E2%29+%5Cln%5E2%281%2Fx%29%7D%7B1+%2B+x%5E2%7D+dx+%3D+%5Cfrac%7B1%7D%7B16%7D%28a-b%29%5Cpi%5E3%2B%5Cleft%28-%5Cfrac%7B80596213364%7D%7B41601569625%7Da+%2B+%5Cfrac%7B177153083899958%7D%7B91398648466125%7D+b%5Cright%29+%5Cend%7Balign%2A%7D)

代入系数解如下二元一次方程组

![](https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Barray%7D%7Bl%7D%5Cdfrac%7B1%7D%7B16%7D%28a-b%29%3D1%5C%5C++-%5Cdfrac%7B80596213364%7D%7B41601569625%7Da+%2B+%5Cdfrac%7B177153083899958%7D%7B91398648466125%7Db+%3D-31%5Cend%7Barray%7D%5Cright.)

得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+a+%3D+%5Cfrac%7B1091239949453%7D%7B83203139250%7D%2C%5C+b%3D+-%5Cfrac%7B240010278547%7D%7B83203139250%7D%2C+%5Cend%7Balign%2A%7D)满足![](https://www.zhihu.com/equation?tex=a%2Bbx)在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

因此![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cpi%5E3-31+%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B12%7D+%281091239949453-240010278547+x%5E2%29+%5Cln%5E2%281%2Fx%29%7D%7B83203139250%281+%2B+x%5E2%29%7D+dx+%3E0.+%5Cend%7Balign%2A%7D+)


这里由于约束![](https://www.zhihu.com/equation?tex=x%5Cto+0)的![](https://www.zhihu.com/equation?tex=x%5E%7B12%7D)和约束![](https://www.zhihu.com/equation?tex=x%5Cto+1)的![](https://www.zhihu.com/equation?tex=%5Cln%5E2%281%2Fx%29)系数相差大不够平衡，可以通过增加![](https://www.zhihu.com/equation?tex=%281-x%5E2%29%5Ek)这类项平衡两侧收敛速度，即使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5Em%281-x%5E2%29%5Ek+%28a%2Bbx%5E2%29%5Cln%5E%7Bn-1%7D%281%2Fx%29%7D%7B1%2Bx%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分（其中![](https://www.zhihu.com/equation?tex=m%2Bn)要求为奇数）。




## 第4种类型：  (  是有理数 )大于或小于一个有理数

在关于![](https://www.zhihu.com/equation?tex=e)的积分式中把![](https://www.zhihu.com/equation?tex=e%5Ex)变成![](https://www.zhihu.com/equation?tex=e%5E%7Bqx%7D)， 使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%29e%5E%7Bqx%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+a%2Bb%5Cge+0.)

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%26%5Cint_0%5E1x%281-x%29%28a%2Bbx%29e%5E%7Bqx%7D+dx%5C%5C+%26%5Cquad+%3D+%5Cfrac%7B1%7D%7Bq%5E4%7D%28%28a%2Bb%29q%5E2%2B%28-2a-4b%29q%2B6b%29e%5Eq%2B%5Cfrac%7B1%7D%7Bq%5E4%7D%28aq%5E2%2B2%28a-b%29q-6b%29.+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=e%5Eq%2C+1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=e%5E3%3E20.)

[如何证明e³＞20?](https://www.zhihu.com/question/613154710/answer/3302422608)

待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26e%5E3-20+%3D+%5Cfrac%7B1%7D%7B8%7D+%5Cint_0%5E1x%5E3%281-x%29%5E4%2828%2B33x%29e%5E%7B3x%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)



## 第5种类型：关于  大于或小于一个有理数

由于![](https://www.zhihu.com/equation?tex=%5Cpi)不是有理数，这里类比![](https://www.zhihu.com/equation?tex=e)用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E%5Cpi+%5Csin%5Enx%281-%5Csin+x%29%5En%28a%2Bb%5Csin+x%29e%5E%7Bx%7D+dx+%5Cend%7Balign%2A%7D%7D)的积分式，两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bb%5Csin+x)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C%5Cpi%5D)上恒非负，即满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+a%2Bb%5Cge+0.)

列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2)的情况

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%26%5Cint_0%5E%5Cpi%5Csin+x%281-%5Csin+x%29%28a%2Bb%5Csin+x%29e%5Ex+dx%5C%5C+%26%5Cquad+%3D+%5Cleft%28%5Cfrac%7B1%7D%7B10%7Da%2B%5Cfrac%7B1%7D%7B10%7Db%5Cright%29e%5E%5Cpi%2B%5Cleft%28%5Cfrac%7B9%7D%7B10%7Da-%5Cfrac%7B7%7D%7B10%7Db%5Cright%29%5C%5C+%26%5Cint_0%5E%5Cpi%5Csin%5E2x%281-%5Csin+x%29%5E2%28a%2Bb%5Csin+x%29e%5Ex+dx%5C%5C+%26%5Cquad+%3D+%5Cleft%28%5Cfrac%7B7%7D%7B85%7Da-%5Cfrac%7B15%7D%7B442%7Db%5Cright%29e%5E%5Cpi%2B%5Cleft%28-%5Cfrac%7B109%7D%7B85%7Da%2B%5Cfrac%7B2421%7D%7B2210%7Db%5Cright%29+%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=e%5E%5Cpi%2C+1)的有理线性组合。

例如：下面这个问题需要证明![](https://www.zhihu.com/equation?tex=e%5E%5Cpi%3E22%2C)

[如何注意力涣散地证明ln（1/22）＞-π？](https://www.zhihu.com/question/643379125/answer/3390052008)

我们使用![](https://www.zhihu.com/equation?tex=n%3D3)的情况，经过计算系数得到
![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26e%5E%5Cpi-22+%3D%5Cdfrac%7B5%7D%7B11184%7D%5Cint_0%5E%5Cpi+e%5Ex%5Csin%5E3%7Bx%7D%281-%5Csin+x%29%5E3+%283984%2B30965%5Csin+x%29+dx%3E+0.%5Cend%7Balign%2A%7D)




## 第6种类型： (  是有理数 )大于或小于一个有理数

这里类比![](https://www.zhihu.com/equation?tex=e%5E%5Cpi)的积分式，我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E%5Cpi+%5Csin%5Enx%281-%5Csin+x%29%5En%28a%2Bb%5Csin+x%29e%5E%7Bqx%7D+dx+%5Cend%7Balign%2A%7D%7D%2C)两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bb%5Csin+x)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C%5Cpi%5D)上恒非负，即满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+a%2Bb%5Cge+0.)

列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%26%5Cint_0%5E%5Cpi%5Csin+x%281-%5Csin+x%29%28a%2Bb%5Csin+x%29e%5E%7Bqx%7D+dx%5C%5C+%26%5Cquad+%3D%5Cfrac%7B1%7D%7Bq%28q%5E6%2B14q%5E4%2B49q%5E2%2B36%29%7D%28%28aq%5E5%2B%28-2a%2B2b%29q%5E4%2B%2813a-6b%29q%5E3%2B%28-20a%2B20b%29q%5E2%2B%2836a-24b%29q%2B%28-18a%2B18b%29%29e%5E%7Bq%5Cpi%7D%2B%28%28aq%5E5%2B%282a-2b%29q%5E4%2B%2813a-6b%29q%5E3%2B%2820a-20b%29q%5E2%2B%2836a-24b%29q%2B%2818a-18b%29%29%29%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=e%5E%7Bq%5Cpi%7D%2C+1)的有理线性组合。

例如：证明![](https://www.zhihu.com/equation?tex=e%5E%7B3%5Cpi%2F4%7D%3E%5Cdfrac%7B21%7D%7B2%7D.)我们使用前一个![](https://www.zhihu.com/equation?tex=n%3D3)后一个![](https://www.zhihu.com/equation?tex=n%3D4)的情况，计算系数得到![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26e%5E%7B3%5Cpi%2F4%7D-%5Cdfrac%7B21%7D%7B2%7D+%3D%5Cdfrac%7B13%7D%7B76404129792%7D%5Cint_0%5E%5Cpi+e%5E%7B3x%2F4%7D%5Csin%5E3%7Bx%7D%281-%5Csin+x%29%5E4+%281888358000%2B14100605983%5Csin+x%29+dx%3E+0.%5Cend%7Balign%2A%7D)




## 第7种类型：  (  是有理数 )大于或小于一个有理数

本质上和“![](https://www.zhihu.com/equation?tex=e%5Eq)(![](https://www.zhihu.com/equation?tex=q)是有理数 )大于或小于一个有理数”是对偶的（因为对于两个有理数![](https://www.zhihu.com/equation?tex=p%2Cq%3E0)，不等式![](https://www.zhihu.com/equation?tex=%5Cln+q%3E%28%5Ctextrm%7Bor+%7D%3C%29%5C+p)等价于不等式![](https://www.zhihu.com/equation?tex=e%5Ep%3C%28%5Ctextrm%7Bor+%7D%3E%29%5C+q)），我们可以使用积分直接凑出来![](https://www.zhihu.com/equation?tex=%5Cln+q)的形式。这里只需要考虑![](https://www.zhihu.com/equation?tex=q%3E1)的情况，因为对于![](https://www.zhihu.com/equation?tex=0%3Cq%3C1)使用![](https://www.zhihu.com/equation?tex=%5Cln%281%2Fq%29%3D-%5Cln+q)即可。

我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%281-x%29%5En%28a%2Bbx%29%7D%7B1%2B%28q-1%29x%7D+dx%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%281-x%29%28a%2Bbx%29%7D%7B1%2B%28q-1%29x%7D+dx+%3D%5Cfrac%7B6%7D%7B%28q-1%29%5E4%7D%286q%28-qa%2Ba%2Bb%29%5Cln+q%2B%283a%2Bb%29q%5E3%2B%28-3a-6b%29q%5E2%2B%28-3a%2B3b%29q%2B%283a%2B2b%29%29.+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=%5Cln+q%2C+1)的有理线性组合。这里积分的分母可以替换为高次方![](https://www.zhihu.com/equation?tex=%281%2B%28q-1%29x%29%5Em)（![](https://www.zhihu.com/equation?tex=m)为正整数），会增加收敛的速度。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Cln+3%3C%5Cdfrac%7B10%7D%7B9%7D)，使用![](https://www.zhihu.com/equation?tex=n%3D3)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cfrac%7B10%7D%7B9%7D-%5Cln+3+%3D+%5Cint_0%5E1+%5Cfrac%7B8x%5E3%281-x%29%5E3%2841-14x%29%7D%7B81%281%2B2x%29%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)

而如果反过来证明![](https://www.zhihu.com/equation?tex=e%5E%7B10%2F9%7D%3E3)则是通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26e%5E%7B10%2F9%7D-3+%3D+%5Cint_0%5E1%5Cdfrac%7B80x%5E3%281-x%29%5E3%28672%2B115x%29e%5E%7B10x%2F9%7D%7D%7B19683%7D++dx+%3E+0.%5Cend%7Balign%2A%7D)
由于指数的分子分母更大，于是结果用到的数字也更大。




## 第8种类型： (  是有理数， 是整数 )大于或小于一个有理数

这里只需要考虑![](https://www.zhihu.com/equation?tex=q%3E1%2C+n)是正整数的情况，因为对于![](https://www.zhihu.com/equation?tex=0%3Cq%3C1)使用![](https://www.zhihu.com/equation?tex=%28%5Cln+q%29%5En%3D%28-1%29%5En%5Cln%5En+%281%2Fq%29)，对于![](https://www.zhihu.com/equation?tex=n)是负整数，![](https://www.zhihu.com/equation?tex=%28%5Cln+q%29%5En%3D1%2F%5Cln%5E%7B-n%7D%28q%29)。

我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5Em%281-x%29%5Em%28a_0%2Ba_1x%2B%5Ccdots%2Ba_nx%5En%29%5Cdfrac%7B%5Cln%5E%7Bn-1%7D%281%2B%28q-1%29x%29%7D%7B1%2B%28q-1%29x%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=m)可以不相同，这里要保证![](https://www.zhihu.com/equation?tex=a_0%2Ba_1x%2B%5Ccdots%2Ba_nx%5En)在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母以及![](https://www.zhihu.com/equation?tex=n)增大，最终出现的数字可能非常的巨大。对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果是![](https://www.zhihu.com/equation?tex=1%2C+%5Cln+q%2C+%5Cldots%2C+%28%5Cln+q%29%5En)的有理线性组合，这时候我们正好有![](https://www.zhihu.com/equation?tex=n%2B1)个待定系数![](https://www.zhihu.com/equation?tex=a_0%2Ca_1%2C%5Cldots%2Ca_n%2C+)

然后使得![](https://www.zhihu.com/equation?tex=%5Cln+q%2C+%28%5Cln+q%29%5E2%2C%5Cldots%2C+%28%5Cln+q%29%5E%7Bn-1%7D)系数为0，常数项和![](https://www.zhihu.com/equation?tex=%28%5Cln+q%29%5En)凑出我们需要的不等式。

例如：我们在下面问题中需要证明![](https://www.zhihu.com/equation?tex=%28%5Cln+2%29%5E2%3E%5Cleft%28%5Cdfrac%7B%5Csqrt%7B17%7D%7D%7B6%7D%5Cright%29%5E2)

[如何证明 ln2 ＞√(17)/6 ？](https://www.zhihu.com/question/595894272/answer/3340439842)

使用![](https://www.zhihu.com/equation?tex=m%3D3%2C+n%3D2)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%28%5Cln+2%29%5E2-%5Cleft%28%5Cfrac%7B%5Csqrt%7B17%7D%7D%7B6%7D%5Cright%29%5E2%3D%5Cint_0%5E1%5Cdfrac%7Bx%5E3%281-x%29%5E3%28365%2B22058x%2B20652x%5E2%29%5Cln%281%2Bx%29%7D%7B4164%281%2Bx%29%7Ddx%3E0.+%5Cend%7Balign%2A%7D)




## 第9种类型：  大于或小于一个有理数

我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%281-x%29%5En%28a%2Bbx%29%7D%7B%281%2Bx%29%5Cln%281%2Fx%29%7D+dx%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+a%2Bb%5Cge+0.)

这里列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1%5Cfrac%7Bx%281-x%29%28a%2Bbx%29%7D%7B%281%2Bx%29%5Cln%281%2Fx%29%7D+dx%26%5C+%3D+%28-a%2Bb%29%5Cln%5Cpi%2B%282a-3b%29%5Cln2%2Bb%5Cln3%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%5E2%281-x%29%5E2%28a%2Bbx%29%7D%7B%281%2Bx%29%5Cln%281%2Fx%29%7D+dx%26%5C+%3D+%282a-2b%29%5Cln%5Cpi%2B%28-8a%2B12b%29%5Cln2%2B%283a-4b%29%5Cln3-b%5Cln5%5C%5C+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=%5Cln+%5Cpi%2C+%5Cln+q)（![](https://www.zhihu.com/equation?tex=q)是有理数）的有理线性组合。然后利用![](https://www.zhihu.com/equation?tex=%5Cln+q)的有理上下界就得到了![](https://www.zhihu.com/equation?tex=%5Cln+%5Cpi)的有理上下界。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Cln+%5Cpi%3C%5Cdfrac%7B6%7D%7B5%7D)，首先找到![](https://www.zhihu.com/equation?tex=%5Cln+2)的上界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B61%7D%7B88%7D)和![](https://www.zhihu.com/equation?tex=%5Cln+3)的下界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B469%7D%7B440%7D)：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cdfrac%7B61%7D%7B88%7D-%5Cln2%3D%5Cint_0%5E1+%5Cdfrac%7Bx%5E4%281-x%29%5E3%7D%7B44%281%2Bx%29%5E2%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cln3-%5Cdfrac%7B469%7D%7B440%7D%3D%5Cint_0%5E1+%5Cdfrac%7Bx%5E2%281-x%29%5E2%281065-686x%29%7D%7B396%281%2B2x%29%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

然后使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况待定系数得到![](https://www.zhihu.com/equation?tex=a%3D1%2F2%2C%5C+b%3D-1%2F2%2C)于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1%5Cfrac%7Bx%281-x%29%5E2%7D%7B2%281%2Bx%29%5Cln%281%2Fx%29%7D+dx%26%5C+%3D+-%5Cln%5Cpi%2B%5Cdfrac%7B5%7D%7B2%7D%5Cln2-%5Cdfrac%7B1%7D%7B2%7D%5Cln3%3E0%2C+%5Cend%7Balign%2A%7D)

因此

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cln%5Cpi%3C%5Cdfrac%7B5%7D%7B2%7D%5Cln2-%5Cdfrac%7B1%7D%7B2%7D%5Cln3%3C%5Cdfrac%7B5%7D%7B2%7D%5Ctimes%5Cdfrac%7B61%7D%7B88%7D-%5Cdfrac%7B1%7D%7B2%7D%5Ctimes%5Cdfrac%7B469%7D%7B440%7D%3D%5Cdfrac%7B6%7D%7B5%7D.%5Cend%7Balign%2A%7D)

如果写成一个式子即

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cln3-%5Cdfrac%7B469%7D%7B440%7D%3D%5Cint_0%5E1%5Cdfrac%7Bx%5E2%281-x%29%5E2%7D%7B88%7D%5Cleft%5B+%5Cdfrac%7B5x%5E2%281-x%29%7D%7B%281%2Bx%29%5E2%7D%2B%5Cdfrac%7B1065-686x%7D%7B9%281%2B2x%29%7D%5Cright%5Ddx%3E0.%5Cend%7Balign%2A%7D)




## 第10种类型：   (  是有理数 )大于或小于一个有理数

这里只需考虑![](https://www.zhihu.com/equation?tex=0%3Cq%3C1%2C)因为对于![](https://www.zhihu.com/equation?tex=-1%3Cq%3C0)有![](https://www.zhihu.com/equation?tex=%5Carcsin+q%3D-%5Carcsin%28-q%29.)我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7Bn%7D%281-x%29%5E%7Bn%7D%28a%2Bbx%2Bcx%5E2%29%7D%7B%5Csqrt%7B1-%28qx%29%5E2%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大。随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1++%5Cfrac%7Bx%281-x%29%28a%2Bbx%2Bcx%5E2%29%7D%7B%5Csqrt%7B1-%28qx%29%5E2%7D%7D+dx+%3D%5Cfrac%7B1%7D%7B24q%5E5%7D%28%28%28-12a%2B12b%29q%5E2-9c%29%5Carcsin+q%2B%28%28-12a-4b-2c%29q%5E3%2B%2816b-7c%29q%29%5Csqrt%7B1-q%5E2%7D%2B24aq%5E3%2B%28-16b%2B16c%29q%29.+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Carcsin+q)，![](https://www.zhihu.com/equation?tex=%5Csqrt%7B1-q%5E2%7D)和![](https://www.zhihu.com/equation?tex=1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Carcsin+%5Cdfrac%7B1%7D%7B3%7D%3C%5Cdfrac%7B3%7D%7B5%7D)，使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cfrac%7B3%7D%7B5%7D-%5Carcsin+%5Cfrac%7B1%7D%7B3%7D+%3D+%5Cint_0%5E1+%5Cfrac%7Bx%281-x%29%281710%2B37x-236x%5E2%29%7D%7B360%5Csqrt%7B9-x%5E2%7D%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第11种类型： (  是有理数 )大于或小于一个有理数

我们有两种方法。第一种方法利用等式![](https://www.zhihu.com/equation?tex=%5Carccos+q+%3D%5Cdfrac%7B%5Cpi%7D%7B2%7D-%5Carcsin+q)，这样变成求![](https://www.zhihu.com/equation?tex=%5Carcsin+q)和![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B%5Cpi%7D%7B2%7D)的有理数界；

第二种也可以使用![](https://www.zhihu.com/equation?tex=%5Carccos+q+%3D+%5Carcsin+%5Csqrt%7B1-q%5E2%7D)转而求![](https://www.zhihu.com/equation?tex=%5Carcsin+%5Csqrt%7B1-q%5E2%7D)的有理数界，我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7Bn%7D%281-x%29%5E%7Bn%7D%28a%2Bbx%2Bcx%5E2%29%7D%7B%5Csqrt%7B1-%281-q%5E2%29x%5E2%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大。随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1++%5Cfrac%7Bx%281-x%29%28a%2Bbx%29%7D%7B%5Csqrt%7B1-%281-q%5E2%29x%5E2%7D%7D+dx+%3D%5Cdfrac%7B-a%2Bb%7D%7B2+%281-q%5E2%29%5E2%7D%5Csqrt%7B1-q%5E2%7D%5Carccos+q%2B%5Cfrac%7B1%7D%7B6%281-q%5E2%29%5E2%7D%28%283+a+%2B+b%29+q%5E3-+6+a+q%5E2+%2B+%28-3+a+%2B+3+b%29+q+%2B%286+a+-+4+b%29%29.+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Csqrt%7B1-q%5E2%7D%5Carccos+q)和![](https://www.zhihu.com/equation?tex=1)的有理线性组合。




例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Carccos+%5Cdfrac%7B2%7D%7B3%7D%3C%5Cdfrac%7B6%7D%7B7%7D)，第一种方法首先利用

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cfrac%7B22%7D%7B7%7D-%5Cpi%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E4%281-x%29%5E4%7D%7B1%2Bx%5E2%7D+dx+%3E+0%5Cend%7Balign%2A%7D)

和

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Carcsin+%5Cfrac%7B2%7D%7B3%7D+-%5Cfrac%7B5%7D%7B7%7D%3D+%5Cint_0%5E1+%5Cdfrac%7B4x%5E3%281-x%29%5E4%28407682%2B479468x%2B130203x%5E2%29%7D%7B212625%5Csqrt%7B9-4x%5E2%7D%7D+dx+%3E+0%5Cend%7Balign%2A%7D)

得到![](https://www.zhihu.com/equation?tex=%5Cpi)的上界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B22%7D%7B7%7D)和![](https://www.zhihu.com/equation?tex=%5Carcsin%5Cdfrac%7B2%7D%7B3%7D)的下界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B5%7D%7B7%7D)，于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B6%7D%7B7%7D-%5Carccos+%5Cdfrac%7B2%7D%7B3%7D+%3D+%5Cint_0%5E1+x%5E3%281-x%29%5E4%5Cleft%5B%5Cdfrac%7Bx%7D%7B2%281%2Bx%5E2%29%7D%2B%5Cdfrac%7B4%28407682%2B479468x%2B130203x%5E2%29%7D%7B212625%5Csqrt%7B9-4x%5E2%7D%7D+%5Cright%5D+dx+%3E+0.%5Cend%7Balign%2A%7D)

第二种方法待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B6%7D%7B7%7D-%5Carccos+%5Cdfrac%7B2%7D%7B3%7D+%3D+%5Cint_0%5E1+%5Cdfrac%7B200x%281-x%29%5E2%7D%7B2961%5Csqrt%7B9-5x%5E2%7D%7D%5Cleft%28%5Cdfrac%7B19639%7D%7B2349+%2B+1043%5Csqrt5%7D%2B%5Cdfrac%7B32105%281-x%29%7D%7B3%28810+%2B+371%5Csqrt5%29%7D%5Cright%29+dx+%3E+0.%5Cend%7Balign%2A%7D)

第一种方法的优点在于当![](https://www.zhihu.com/equation?tex=%5Csqrt%7B1-q%5E2%7D)不为有理数时，最终的系数也不会带根号，形式相对简单一些。第二种方法的优点是只需要处理两个待定系数。




## 第12种类型：  (  是有理数 )大于或小于一个有理数

在关于![](https://www.zhihu.com/equation?tex=%5Cpi)的积分式中把分母![](https://www.zhihu.com/equation?tex=%281%2Bx%5E2%29)变成![](https://www.zhihu.com/equation?tex=1%2B%28qx%29%5E2)， 使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B2n%7D%281-x%5E2%29%5E%7Bn%7D%28a%2Bbx%5E2%29%7D%7B1%2B%28qx%29%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。这里注意到所有的![](https://www.zhihu.com/equation?tex=x)的次数都是偶数，若式子中包含![](https://www.zhihu.com/equation?tex=x)的奇数次项，最终会生成不需要的![](https://www.zhihu.com/equation?tex=%5Cln%281%2Bq%5E2%29)这一项。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即要求![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%5Cge+0.)

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B2%7D%281-x%5E2%29%28a%2Bbx%5E2%29%7D%7B1%2B%28qx%29%5E2%7D+dx+%3D%5Cfrac%7B1%7D%7B15q%5E7%7D%2815%28-aq%5E4%2B%28-a%2Bb%29q%5E2%2Bb%29%5Carctan+q%2B%2810a%2B2b%29q%5E5%2B%2815a-10b%29q%5E3-15bq%29.+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=%5Carctan+q%2C+1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Carctan+2%3C+%5Cdfrac%7B6%7D%7B5%7D%2C)使用![](https://www.zhihu.com/equation?tex=n%3D3)的情况待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B6%7D%7B5%7D-%5Carctan+2+%3D%5Cint_0%5E1+%5Cfrac%7Bx%5E6%281-x%5E2%29%5E3%2887917-41548x%5E2%29%7D%7B1500%281%2B4x%5E2%29%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)

## 第13种类型：  (  是有理数 )大于或小于一个有理数

只要利用等式![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Barccot+%7Dq+%3D+%5Carctan+%5Cdfrac%7B1%7D%7Bq%7D)，这样变成求![](https://www.zhihu.com/equation?tex=%5Carctan+%5Cdfrac%7B1%7D%7Bq%7D)有理数界即可。

例如我们要证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Barccot+%7D%5Cdfrac%7B1%7D%7B2%7D%3C+%5Cdfrac%7B6%7D%7B5%7D%2C)只需要证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Barctan+%7D2%3C+%5Cdfrac%7B6%7D%7B5%7D%2C)于是使用![](https://www.zhihu.com/equation?tex=n%3D3)的情况待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B6%7D%7B5%7D-%5Ctextrm%7Barccot+%7D%5Cdfrac%7B1%7D%7B2%7D+%3D+%5Cdfrac%7B6%7D%7B5%7D-%5Carctan+2%3D%5Cint_0%5E1+%5Cfrac%7Bx%5E6%281-x%5E2%29%5E3%2887917-41548x%5E2%29%7D%7B1500%281%2B4x%5E2%29%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)




## 第14种类型：  (  是有理数 )大于或小于一个有理数

本质上和“![](https://www.zhihu.com/equation?tex=%5Carcsin+q)(![](https://www.zhihu.com/equation?tex=q)是有理数 )大于或小于一个有理数”是对偶的（因为对于两个有理数![](https://www.zhihu.com/equation?tex=0%3Cp%3C1%2C%5C+0%3Cq%3C%5Cpi%2F2%2C)不等式![](https://www.zhihu.com/equation?tex=%5Csin+q%3E%28%5Ctextrm%7Bor+%7D%3C%29%5C+p)等价于不等式![](https://www.zhihu.com/equation?tex=%5Carcsin+p%3C%28%5Ctextrm%7Bor+%7D%3E%29%5C+q)），我们可以使用积分直接凑出来![](https://www.zhihu.com/equation?tex=%5Csin+q)的形式。

我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29%5Csin%28qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同，用![](https://www.zhihu.com/equation?tex=%5Ccos%28qx%29)替换![](https://www.zhihu.com/equation?tex=%5Csin%28qx%29)也可以。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

这里列出![](https://www.zhihu.com/equation?tex=n%3D1)时的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%281-x%29%28a%2Bbx%2Bcx%5E2%29%5Csin%28qx%29+dx++%3D%5Cdfrac%7B-%28a%2Bb%2Bc%29q%5E3%2B%286b%2B18c%29q%7D%7Bq%5E5%7D%5Csin+q%5C+%2B+%5Cdfrac%7B-%282a%2B4b%2B6c%29q%5E2%2B24c%7D%7Bq%5E5%7D%5Ccos+q%5C+%2B+%5Cdfrac%7B%28-2a%2B2b%29q%5E2%2B24c%7D%7Bq%5E5%7D+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Csin+q%2C+%5C+%5Ccos+q%2C%5C+1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Csin%5Cdfrac%7B3%7D%7B5%7D%3E%5Cdfrac%7B1%7D%7B3%7D%2C+)我们可以像![](https://www.zhihu.com/equation?tex=%5Carcsin)的情况一样证明![](https://www.zhihu.com/equation?tex=%5Carcsin+%5Cdfrac%7B1%7D%7B3%7D%3C%5Cdfrac%7B3%7D%7B5%7D)，也可以直接使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Csin+%5Cdfrac%7B3%7D%7B5%7D+-%5Cdfrac%7B1%7D%7B3%7D+%3D%5Cdfrac%7B1%7D%7B750%7D+%5Cint_0%5E1+x%281-x%29%283571-102x%2B111x%5E2%29%5Csin%5Cdfrac%7B3x%7D%7B5%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)




## 第15种类型：  或  (  是有理数 )大于或小于一个有理数

对于![](https://www.zhihu.com/equation?tex=%5Csin%28%5Cpi+q%29)我们仅需要讨论![](https://www.zhihu.com/equation?tex=0%3Cq%3C1%2F2)的情况，因为其他情况都可以通过诱导公式转化为此类情况，而![](https://www.zhihu.com/equation?tex=%5Csin%28q%5E%5Ccirc%29%3D%5Csin%5Cleft%28%5Cdfrac%7Bq%5Cpi%7D%7B180%7D%5Cright%29)属于同样的情况。我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E%7B%5Cpi%2F2%7D+%5Csin%5En+x%281-%5Csin+x%29%5En%28a%2Bb%5Csin+x%29%5Csin%28%281-2q%29x%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bb%5Csin+x)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0.)

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D%5Cint_0%5E%7B%5Cpi%2F2%7D+%5Csin+x%281-%5Csin+x%29%28a%2Bb%5Csin+x%29%5Csin%28%281-2q%29x%29+dx++%3D%5Cdfrac%7B1%7D%7B8q%288q%5E6-28q%5E5%2B14q%5E4%2B35q%5E3-28q%5E2-7q%2B6%29%7D%5Cleft%5B%28%28-8a-8b%29q%5E4%2B%2816a%2B16b%29q%5E3%2B%282a-10b%29q%5E2%2B%28-10a%2B2b%29q%2B12a-9b%29%5Csin%28%5Cpi+q%29%2B%28%2816b-16a%29q%5E4%2B%28-32b%2B32a%29q%5E3%2B%2816a-16b%29q%5E2%2B%2832b-32a%29q%29%5Cright%5D%5Cend%7Balign%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Csin%28%5Cpi+q%29%2C%5C+1)的有理线性组合。

我们要证明![](https://www.zhihu.com/equation?tex=%5Csin%5Cdfrac%7B%5Cpi%7D%7B7%7D%3C%5Cdfrac%7B4%7D%7B9%7D%2C+)我们使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B4%7D%7B9%7D+-+%5Csin+%5Cdfrac%7B%5Cpi%7D%7B7%7D+%3D+%5Cfrac%7B10%7D%7B7512729%7D%5Cint_0%5E%7B%5Cpi%2F2%7D++%5Csin%5E2+x%281-%5Csin+x%29%5E2%28382249%2B169240%5Csin+x%29%5Csin%5C%21%5Cleft%28%5Cdfrac%7B5x%7D%7B7%7D%5Cright%29dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第16种类型：  (  是有理数 )大于或小于一个有理数

和![](https://www.zhihu.com/equation?tex=%5Csin+q)的情况类似，我们同样使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29%5Csin%28qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同，用![](https://www.zhihu.com/equation?tex=%5Ccos%28qx%29)替换![](https://www.zhihu.com/equation?tex=%5Csin%28qx%29)也可以。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Csin+q%2C+%5C+%5Ccos+q%2C%5C+1)的有理线性组合，最后待定系数即可。

例如：在下面这个问题中的中间步骤需要证明![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ccos+1+%3C+%5Cdfrac%7B6%7D%7B11%7D%5Cend%7Balign%2A%7D)

[πcos(1)<e-1怎么证明？](https://www.zhihu.com/question/665996323/answer/39584485197)

待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B6%7D%7B11%7D-%5Ccos+1%3D%5Cint_0%5E1+%5Cdfrac%7B%281-x%29%5E2%282%281-x%29%2Bx%5E2%29%5Csin+x%7D%7B22%7Ddx%3E0.%5Cend%7Balign%2A%7D)




## 第17种类型：  或  (  是有理数 )大于或小于一个有理数

对于![](https://www.zhihu.com/equation?tex=%5Ccos%28%5Cpi+q%29)我们仅需要讨论![](https://www.zhihu.com/equation?tex=0%3Cq%3C1%2F2)的情况，因为其他情况都可以通过诱导公式转化为此类情况。而![](https://www.zhihu.com/equation?tex=%5Ccos%28q%5E%5Ccirc%29%3D%5Ccos%5Cleft%28%5Cdfrac%7Bq%5Cpi%7D%7B180%7D%5Cright%29)属于同样的情况。这里我们进需要讨论![](https://www.zhihu.com/equation?tex=0%3Cq%3C1%2F2)的情况，因为其他情况都可以通过诱导公式转化为此类情况。我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E%7B%5Cpi%2F2%7D+%5Csin%5En+x%281-%5Csin+x%29%5En%28a%2Bb%5Csin+x%29%5Csin%282qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bb%5Csin+x)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0.)

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D%5Cint_0%5E%7B%5Cpi%2F2%7D+%5Csin+x%281-%5Csin+x%29%28a%2Bb%5Csin+x%29%5Csin%282qx%29+dx++%3D%5Cdfrac%7B1%7D%7B4q%2816q%5E6-56q%5E4%2B49q%5E2-9%29%7D%5Cleft%5B%28%288a%2B8b%29q%5E4%2B%28-14a-2b%29q%5E2%2B%28-9a%2B9b%29%29%5Ccos%28%5Cpi+q%29%2B%28%2816a-16b%29q%5E4%2B%28-40a%2B40b%29q%5E2%2B%289a-9b%29%29%5Cright%5D%5Cend%7Balign%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Ccos%28%5Cpi+q%29%2C%5C+1)的有理线性组合。

我们要证明![](https://www.zhihu.com/equation?tex=%5Ccos+40%5E%5Ccirc%3E%5Cdfrac%7B3%7D%7B4%7D%2C+)我们使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Ccos+40%5E%5Ccirc+-%5Cdfrac%7B3%7D%7B4%7D%3D+%5Cfrac%7B7%7D%7B23328%7D%5Cint_0%5E%7B%5Cpi%2F2%7D++%5Csin+x%5Csin%284x%2F9%29%281-%5Csin+x%29%281399-713%5Csin+x%29dx+%3E+0.%5Cend%7Balign%2A%7D)


## 第18种类型：  (  是有理数 )大于或小于一个有理数

本质上和第十种类型“![](https://www.zhihu.com/equation?tex=%5Carctan+q)(![](https://www.zhihu.com/equation?tex=q)是有理数 )大于或小于一个有理数”是对偶的（因为对于两个有理数![](https://www.zhihu.com/equation?tex=p%3E0%2C%5C+0%3Cq%3C%5Cpi%2F2%2C)不等式![](https://www.zhihu.com/equation?tex=%5Ctan+q%3E%28%5Ctextrm%7Bor+%7D%3C%29%5C+p)等价于不等式![](https://www.zhihu.com/equation?tex=%5Carctan+p%3C%28%5Ctextrm%7Bor+%7D%3E%29%5C+q)），我们可以使用积分直接凑出来![](https://www.zhihu.com/equation?tex=%5Ctan+q)的形式。我们可以将![](https://www.zhihu.com/equation?tex=%5Ctan+q%3Ep)问题转化为![](https://www.zhihu.com/equation?tex=%5Csin+q-p%5Ccos+q%3E%28%5Ctextrm%7Bor+%7D%3C%290), 这样我们依然使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29%5Csin%28qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同，要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=%5Csin+q%2C+%5C+%5Ccos+q%2C%5C+1)的有理线性组合。最后在不等式左右同时除以![](https://www.zhihu.com/equation?tex=%5Ccos+q)即可。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Ctan%5Cdfrac%7B6%7D%7B5%7D%3E2%2C+)我们可以使用反函数证明![](https://www.zhihu.com/equation?tex=%5Carctan+2%3C%5Cdfrac%7B6%7D%7B5%7D)，也可以直接使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Ctan+%5Cdfrac%7B6%7D%7B5%7D+-+2+%3D+%5Cint_0%5E1+%5Cfrac%7B8x%281-x%29%2831%2B6x%2B3x%5E2%29%5Csin%286x%2F5%29%7D%7B125%5Ccos%286%2F5%29%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第19种类型：  (  是有理数 )大于或小于一个有理数

只要利用等式![](https://www.zhihu.com/equation?tex=%5Ccot+q+%3D+%5Cdfrac%7B1%7D%7B%5Ctan+q%7D)，这样变成求![](https://www.zhihu.com/equation?tex=%5Ctan+q)的有理数界即可。

例如我们要证明![](https://www.zhihu.com/equation?tex=%5Ccot%5Cdfrac%7B6%7D%7B5%7D%3C%5Cdfrac%7B1%7D%7B2%7D%2C+)我们只需要证明![](https://www.zhihu.com/equation?tex=%5Ctan%5Cdfrac%7B6%7D%7B5%7D%3E2)，于是直接使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后两边同时除以![](https://www.zhihu.com/equation?tex=2%5Ctan%5Cdfrac%7B6%7D%7B5%7D)得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B1%7D%7B2%7D-%5Ccot+%5Cdfrac%7B6%7D%7B5%7D+%3D+%5Cint_0%5E1+%5Cfrac%7B4x%281-x%29%2831%2B6x%2B3x%5E2%29%5Csin%286x%2F5%29%7D%7B125%5Csin%286%2F5%29%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第20种类型：  (  是有理数 )大于或小于一个有理数

反双曲正弦函数![](https://www.zhihu.com/equation?tex=%5Ctext%7Barsinh+%7D+q%3D%5Cln%28q%2B%5Csqrt%7Bq%5E2%2B1%7D%29)，这里只需考虑![](https://www.zhihu.com/equation?tex=q%3E0%2C+)因为对于![](https://www.zhihu.com/equation?tex=q%3C0)有![](https://www.zhihu.com/equation?tex=%5Ctext%7Barsinh+%7Dq%3D-%5Ctext%7Barsinh%7D%28-q%29.)我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7Bn%7D%281-x%29%5E%7Bn%7D%28a%2Bbx%2Bcx%5E2%29%7D%7B%5Csqrt%7B1%2B%28qx%29%5E2%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大。随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1++%5Cfrac%7Bx%281-x%29%28a%2Bbx%2Bcx%5E2%29%7D%7B%5Csqrt%7B1%2B%28qx%29%5E2%7D%7D+dx+%3D%5Cfrac%7B1%7D%7B24q%5E5%7D%28%28%2812a-12b%29q%5E2-9c%29%5Ctext%7Barsinh+%7Dq%2B%28%2812a%2B4b%2B2c%29q%5E3%2B%2816b-7c%29q%29%5Csqrt%7B1%2Bq%5E2%7D-24aq%5E3%2B%28-16b%2B16c%29q%29.+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Ctext%7Barsinh+%7Dq)，![](https://www.zhihu.com/equation?tex=%5Csqrt%7B1%2Bq%5E2%7D)和![](https://www.zhihu.com/equation?tex=1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Ctext%7Barsinh+%7D%5Cdfrac%7B1%7D%7B3%7D%3E%5Cdfrac%7B3%7D%7B10%7D)，使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Ctext%7Barsinh+%7D%5Cfrac%7B1%7D%7B3%7D-%5Cfrac%7B3%7D%7B10%7D%3D+%5Cint_0%5E1+%5Cfrac%7Bx%281-x%29%2845-2x%2B4x%5E2%29%7D%7B90%5Csqrt%7B9%2Bx%5E2%7D%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第21种类型：  (  是有理数 )大于或小于一个有理数

反双曲余弦函数![](https://www.zhihu.com/equation?tex=%5Ctext%7Barcosh+%7D+q%3D%5Cln%28q%2B%5Csqrt%7Bq%5E2-1%7D%29)，这里考虑![](https://www.zhihu.com/equation?tex=q%3E1%2C+)注意到![](https://www.zhihu.com/equation?tex=%5Ctext%7Barcosh%7D%28q%29%3D%5Ctext%7Barsinh%7D%28%5Csqrt%7Bq%5E2-1%7D%29)，因此我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7Bn%7D%281-x%29%5E%7Bn%7D%28a%2Bbx%29%7D%7B%5Csqrt%7B1%2B%28q%5E2-1%29x%5E2%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0.)

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大。随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大。




对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Csqrt%7Bq%5E2-1%7D%5Ctext%7Barcosh+%7Dq)和![](https://www.zhihu.com/equation?tex=1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Ctext%7Barcosh%7D%5Cdfrac%7B3%7D%7B2%7D%3E%5Cdfrac%7B4%7D%7B5%7D)，使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Ctext%7Barcosh%7D%5Cdfrac%7B3%7D%7B2%7D-%5Cdfrac%7B4%7D%7B5%7D%3D+%5Cint_0%5E1+%5Cfrac%7B5x%281-x%29%7D%7B16%5Csqrt%7B4%2B5x%5E2%7D%7D%5Cleft%28%5Cdfrac%7B341%7D%7B48%2B23%5Csqrt5%7D%2B%5Cdfrac%7B393%281-x%29%7D%7B2%2816%2B5%5Csqrt5%29%7D%5Cright%29+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第22种类型：  (  是有理数 )大于或小于一个有理数

反双曲正切函数![](https://www.zhihu.com/equation?tex=%5Ctext%7Bartanh+%7D+q%3D%5Cdfrac%7B1%7D%7B2%7D%5Cln%5Cdfrac%7B1%2Bq%7D%7B1-q%7D+%5C+%28-1%3Cq%3C1%29)，由于![](https://www.zhihu.com/equation?tex=%5Ctilde%7Bq%7D%3A%3D%5Cdfrac%7B1%2Bq%7D%7B1-q%7D)也是一个有理数，于是转化为求![](https://www.zhihu.com/equation?tex=%5Cln+%5Ctilde%7Bq%7D)的有理数界，利用![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%281-x%29%5En%28a%2Bbx%29%7D%7B1%2B%28%5Ctilde%7Bq%7D-1%29x%7D+dx%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。

随着有理数定积分即可。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Ctext%7Bartanh%7D%5Cdfrac%7B1%7D%7B2%7D%3C%5Cdfrac%7B5%7D%7B9%7D)，转化为证明![](https://www.zhihu.com/equation?tex=%5Cln+3%3C%5Cdfrac%7B10%7D%7B9%7D%2C)于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B5%7D%7B9%7D-%5Ctext%7Bartanh%7D%5Cdfrac%7B1%7D%7B2%7D%3D%5Cdfrac%7B1%7D%7B2%7D%5Cleft%28%5Cfrac%7B10%7D%7B9%7D-%5Cln+3+%5Cright%29%3D+%5Cint_0%5E1+%5Cfrac%7B4x%5E3%281-x%29%5E3%2841-14x%29%7D%7B81%281%2B2x%29%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第23种类型：  (  是有理数 )大于或小于一个有理数

反双曲余切函数![](https://www.zhihu.com/equation?tex=%5Ctext%7Barcoth+%7D+q%3D%5Cdfrac%7B1%7D%7B2%7D%5Cln%5Cdfrac%7Bq%2B1%7D%7Bq-1%7D+%5C+%28q%3E1%29)，由于![](https://www.zhihu.com/equation?tex=%5Ctilde%7Bq%7D%3A%3D%5Cdfrac%7Bq%2B1%7D%7Bq-1%7D)也是一个有理数，于是转化为求![](https://www.zhihu.com/equation?tex=%5Cln+%5Ctilde%7Bq%7D)的有理数界，利用![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%281-x%29%5En%28a%2Bbx%29%7D%7B1%2B%28%5Ctilde%7Bq%7D-1%29x%7D+dx%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。

随着有理数定积分即可。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Ctext%7Barcoth%7D%282%29%3C%5Cdfrac%7B5%7D%7B9%7D)，转化为证明![](https://www.zhihu.com/equation?tex=%5Cln+3%3C%5Cdfrac%7B10%7D%7B9%7D%2C)于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B5%7D%7B9%7D-%5Ctext%7Barcoth%7D%282%29%3D%5Cdfrac%7B1%7D%7B2%7D%5Cleft%28%5Cfrac%7B10%7D%7B9%7D-%5Cln+3+%5Cright%29%3D+%5Cint_0%5E1+%5Cfrac%7B4x%5E3%281-x%29%5E3%2841-14x%29%7D%7B81%281%2B2x%29%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第24种类型：  (  是有理数 )大于或小于一个有理数

本质上和“![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Barcsinh+%7Dq)(![](https://www.zhihu.com/equation?tex=q)是有理数 )大于或小于一个有理数”是对偶的（因为不等式![](https://www.zhihu.com/equation?tex=%5Csinh+q%3E%28%5Ctextrm%7Bor+%7D%3C%29%5C+p)等价于不等式![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Barcsinh+%7D+p%3C%28%5Ctextrm%7Bor+%7D%3E%29%5C+q)），我们可以使用积分直接凑出来![](https://www.zhihu.com/equation?tex=%5Csinh+q)的形式。

我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29%5Csinh%28qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

这里列出![](https://www.zhihu.com/equation?tex=n%3D1)时的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%281-x%29%28a%2Bbx%2Bcx%5E2%29%5Csinh%28qx%29+dx++%3D%5Cdfrac%7B%28a%2Bb%2Bc%29q%5E3%2B%286b%2B18c%29q%7D%7Bq%5E5%7D%5Csinh+q%5C+%2B+%5Cdfrac%7B-%282a%2B4b%2B6c%29q%5E2-24c%7D%7Bq%5E5%7D%5Ccosh+q%5C+%2B+%5Cdfrac%7B%282a-2b%29q%5E2%2B24c%7D%7Bq%5E5%7D+%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Csinh+q%2C+%5C+%5Ccosh+q%2C%5C+1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Csinh%5Cdfrac%7B2%7D%7B3%7D%3E%5Cdfrac%7B7%7D%7B10%7D%2C+)我们可以像![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Barcsinh%7D)的情况一样证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Barcsinh+%7D%5Cdfrac%7B7%7D%7B10%7D%3C%5Cdfrac%7B2%7D%7B3%7D)，也可以直接使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Csinh+%5Cdfrac%7B2%7D%7B3%7D+-%5Cdfrac%7B7%7D%7B10%7D+%3D+%5Cdfrac%7B1%7D%7B405%7D%5Cint_0%5E1+x%281-x%29%28112%2B19x-5x%5E2%29%5Csinh%5Cdfrac%7B2x%7D%7B3%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)




## 第25种类型：  (  是有理数 )大于或小于一个有理数

和![](https://www.zhihu.com/equation?tex=%5Csinh+q)的情况类似，我们同样使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29%5Csinh%28qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Csinh+q%2C+%5C+%5Ccosh+q%2C%5C+1)的有理线性组合，最后待定系数即可。具体不赘述。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Ccosh%5Cdfrac%7B5%7D%7B2%7D%3E6%2C+)我们使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Ccosh+%5Cdfrac%7B5%7D%7B2%7D+-6+%3D+%5Cdfrac%7B5%7D%7B848%7D%5Cint_0%5E1+x%5E2%281-x%29%5E2%28798-840x%2B215x%5E2%29%5Csinh%5Cdfrac%7B5x%7D%7B2%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)




## 第26种类型：  (  是有理数 )大于或小于一个有理数

本质上和第十种类型“![](https://www.zhihu.com/equation?tex=%5Ctext%7Barctanh+%7Dq)(![](https://www.zhihu.com/equation?tex=q)是有理数 )大于或小于一个有理数”是对偶的（因为对于两个有理数![](https://www.zhihu.com/equation?tex=0%3Cp%3C1%2C%5C+q%3E0)不等式![](https://www.zhihu.com/equation?tex=%5Ctanh+q%3E%28%5Ctextrm%7Bor+%7D%3C%29%5C+p)等价于不等式![](https://www.zhihu.com/equation?tex=%5Ctext%7Barctanh+%7Dp%3C%28%5Ctextrm%7Bor+%7D%3E%29%5C+q)），我们可以使用积分直接凑出来![](https://www.zhihu.com/equation?tex=%5Ctanh+q)的形式。我们可以将![](https://www.zhihu.com/equation?tex=%5Ctanh+q%3Ep)问题转化为![](https://www.zhihu.com/equation?tex=%5Csinh+q-p%5Ccosh+q%3E%28%5Ctextrm%7Bor+%7D%3C%290), 这样我们依然使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29%5Csinh%28qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同，要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=%5Csinh+q%2C+%5C+%5Ccosh+q%2C%5C+1)的有理线性组合。最后在不等式左右同时除以![](https://www.zhihu.com/equation?tex=%5Ccosh+q)即可。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Ctanh%5Cdfrac%7B2%7D%7B3%7D%3C%5Cdfrac%7B3%7D%7B5%7D%2C+)我们可以使用反函数证明![](https://www.zhihu.com/equation?tex=%5Ctext%7Barctanh+%7D%5Cdfrac%7B3%7D%7B5%7D+%3E%5Cdfrac%7B2%7D%7B3%7D)，也可以直接使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B3%7D%7B5%7D-%5Ctanh+%5Cdfrac%7B2%7D%7B3%7D+%3D+%5Cint_0%5E1+%5Cfrac%7B2x%281-x%29+%2826-x-x%5E2%29%5Csinh%282x%2F3%29%7D%7B135%5Ccosh%282%2F3%29%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)




## 第27种类型：  (  是有理数 )大于或小于一个有理数

只要利用等式![](https://www.zhihu.com/equation?tex=%5Ccoth+q+%3D+%5Cdfrac%7B1%7D%7B%5Ctanh+q%7D)，这样变成求![](https://www.zhihu.com/equation?tex=%5Ctanh+q)的有理数界即可。

例如我们要证明![](https://www.zhihu.com/equation?tex=%5Ccoth%5Cdfrac%7B2%7D%7B3%7D%3E%5Cdfrac%7B5%7D%7B3%7D%2C+)我们只需要证明![](https://www.zhihu.com/equation?tex=%5Ctanh%5Cdfrac%7B2%7D%7B3%7D%3C%5Cdfrac%7B3%7D%7B5%7D)，于是直接使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后两边同时除以![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B3%7D%7B5%7D%5Ctanh%5Cdfrac%7B2%7D%7B3%7D)得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Ccoth+%5Cdfrac%7B2%7D%7B3%7D+-%5Cdfrac%7B3%7D%7B5%7D%3D+%5Cint_0%5E1+%5Cfrac%7B2x%281-x%29%2826-x-x%5E2%29%5Csinh%282x%2F3%29%7D%7B81%5Csinh%282%2F3%29%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## 第28种类型： (  都是有理数 )大于或小于一个有理数

## 第29种类型： (  都是有理数 )大于或小于一个有理数

对于乘积的类型，可以通过各自找到有理数上下界乘起来或者采用乘积积分组合技巧（见“优雅技巧大全”章节中的“积分组合”部分）。而对于![](https://www.zhihu.com/equation?tex=e%5E%7Bq_1%7D)和![](https://www.zhihu.com/equation?tex=%5Csin+q_2)(或![](https://www.zhihu.com/equation?tex=%5Ccos+q_2)) 这两种类型，它们的乘积可以直接使用一个积分来表示。

我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%2Bcx%5E2%29e%5E%7Bq_1x%7D+%5Csin%28q_2x%29dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同，用![](https://www.zhihu.com/equation?tex=%5Ccos%28q_2x%29)替换![](https://www.zhihu.com/equation?tex=%5Csin%28q_2x%29)也可以。同样要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大。

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=e%5E%7Bq_1%7D%5Csin+q_2%2C+%5C+e%5E%7Bq_1%7D%5Ccos+q_2%2C%5C+1)的有理线性组合。




例如：我们要证明![](https://www.zhihu.com/equation?tex=e%5E3%5Csin%5Cdfrac%7B3%7D%7B5%7D%3E%5Cdfrac%7B20%7D%7B3%7D%2C+)我们可以分别使用

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26e%5E3-20+%3D+%5Cfrac%7B1%7D%7B8%7D+%5Cint_0%5E1x%5E3%281-x%29%5E4%2828%2B33x%29e%5E%7B3x%7D+dx+%3E+0%5Cend%7Balign%2A%7D)

和

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Csin+%5Cdfrac%7B3%7D%7B5%7D+-%5Cdfrac%7B1%7D%7B3%7D+%3D%5Cdfrac%7B1%7D%7B750%7D+%5Cint_0%5E1+x%281-x%29%283571-102x%2B111x%5E2%29%5Csin%5Cdfrac%7B3x%7D%7B5%7Ddx+%3E+0%2C%5Cend%7Balign%2A%7D)

然后将结果乘起来。或者将两个积分乘积组合起来，得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cmbox%7B%24e%5E3+%5Csin+%5Cdfrac%7B3%7D%7B5%7D+-%5Cdfrac%7B20%7D%7B3%7D%24%7D+%3D%5Cint_0%5E1%5Cdfrac%7Bx%281-x%29%7D%7B3000%7D%5Cleft%5B125x%5E2%281-x%29%5E3%2828%2B33x%29e%5E%7B3x%7D%2B4e%5E3%283571-102x%2B111x%5E2%29%5Csin%5Cdfrac%7B3x%7D%7B5%7D%5Cright%5Ddx+%3E+0.%5Cend%7Balign%2A%7D)

我们也可以直接使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况，待定系数得到

和

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7De%5E3%5Csin+%5Cdfrac%7B3%7D%7B5%7D+-%5Cdfrac%7B20%7D%7B3%7D+%3D%5Cdfrac%7B2%7D%7B114375%7D+%5Cint_0%5E1+x%5E2%281-x%29%5E2%283850550+%2B+1507629x+-+1100229x%5E2%29e%5E%7B3x%7D%5Csin%5Cdfrac%7B3x%7D%7B5%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)

本质上这两种类型是基于欧拉公式将![](https://www.zhihu.com/equation?tex=e_%7Bq_1%7D%5Ccos+q_2+%3D+%5CRe%28e%5E%7Bq_1%2Biq_2%7D%29%2C+)![](https://www.zhihu.com/equation?tex=%5C+e_%7Bq_1%7D%5Csin+q_2+%3D+%5CIm%28e%5E%7Bq_1%2Biq_2%7D%29%2C+)然后将![](https://www.zhihu.com/equation?tex=q_1%2Biq_2)作为一个整体使用![](https://www.zhihu.com/equation?tex=e%5Eq)这种类型。



## 第30种类型： (  是有理数 )大于或小于一个有理数

这里只需要考虑![](https://www.zhihu.com/equation?tex=q_1%3E1%2C%5C+q_2%3E0)的情况，因为对于![](https://www.zhihu.com/equation?tex=0%3Cq_1%3C1)时![](https://www.zhihu.com/equation?tex=q_1%5E%7Bq_2%7D+%3E+%28%5Ctext%7Bor+%7D%3C%29+p)等价于![](https://www.zhihu.com/equation?tex=%281%2Fq_1%29%5E%7Bq_2%7D+%3C+%28%5Ctext%7Bor+%7D%3E%29+%5C+1%2Fp)，对于![](https://www.zhihu.com/equation?tex=q_2%3C0)时![](https://www.zhihu.com/equation?tex=q_1%5E%7Bq_2%7D+%3E+%28%5Ctext%7Bor+%7D%3C%29%5C+p)等价于![](https://www.zhihu.com/equation?tex=q_1%5E%7B-q_2%7D+%3C+%28%5Ctext%7Bor+%7D%3E%29+%5C+1%2Fp)。

设![](https://www.zhihu.com/equation?tex=q_2%3Du%2Fv)(![](https://www.zhihu.com/equation?tex=u%2C+v)是整数 )我们可以两边取![](https://www.zhihu.com/equation?tex=v)次方，比较两个有理数![](https://www.zhihu.com/equation?tex=q_1%5Eu)和![](https://www.zhihu.com/equation?tex=p%5Ev), 也可是使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5En%281-x%29%5En%28a%2Bbx%29%281%2B%28q_1-1%29x%29%5E%7Bq_2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同，这里要保证![](https://www.zhihu.com/equation?tex=a%2Bbx)在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)恒非负即![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%5Cge+0.)

随着有理数![](https://www.zhihu.com/equation?tex=q_1%2C%5C+q_2)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

这里列出![](https://www.zhihu.com/equation?tex=n%3D1)时的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%281-x%29%28a%2Bbx%29%281%2B%28q_1-1%29x%29%5E%7Bq_2%7D+dx++%3D%5Cdfrac%7Bs%7Bq_1%7D%5E%7Bq_2%7D%2Bt%7D%7B%281+%2B+%7Bq_2%7D%29+%282+%2B+%7Bq_2%7D%29+%283+%2B+%7Bq_2%7D%29+%284+%2B+%7Bq_2%7D%29%28%7Bq_1%7D-1%29%5E4%7D%2C%5Cend%7Balign%2A%7D+)

其中，![](https://www.zhihu.com/equation?tex=s+%3D+%7Bq_1%7D%5E2+%28a+%28%7Bq_1%7D-1%29+%284+%2B+%7Bq_2%7D%29+%28%7Bq_1%7D%7Bq_2%7D+%2B+%7Bq_1%7D+-+%7Bq_2%7D+-3%29+%2B+b+%28%7Bq_1%7D%5E2+%282+%2B+3+%7Bq_2%7D+%2B+%7Bq_2%7D%5E2%29+-+2+%7Bq_1%7D+%284+%2B+5+%7Bq_2%7D+%2B+%7Bq_2%7D%5E2%29%2B%28%7Bq_2%7D%5E2+%2B7%7Bq_2%7D+%2B12%29%29%29%2C)

![](https://www.zhihu.com/equation?tex=t+%3D+a+%28%7Bq_1%7D-1%29+%284+%2B+%7Bq_2%7D%29+%28%7Bq_1%7D+%283+%2B+%7Bq_2%7D%29-q_2-1%29+%2B+2+b+%281+%2B+%7Bq_2%7D+-+%7Bq_1%7D+%284+%2B+%7Bq_2%7D%29%29.)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=q_1%5E%7Bq_2%7D%2C%5C+1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Cleft%28%5Cdfrac%7B5%7D%7B3%7D%5Cright%29%5E%7B5%2F3%7D%3C%5Cdfrac%7B5%7D%7B2%7D%2C+)我们使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cdfrac%7B5%7D%7B2%7D-%5Cleft%28%5Cdfrac%7B5%7D%7B3%7D%5Cright%29%5E%7B5%2F3%7D+%3D+%5Cdfrac%7B1%7D%7B10125%7D%5Cint_0%5E1+x%281-x%29%2852229-20978x%29%5Cleft%281%2B%5Cdfrac%7B2x%7D%7B3%7D%5Cright%29%5E%7B5%2F3%7Ddx+%3E+0.%5Cend%7Balign%2A%7D)




## 第31种类型：卡塔兰常数  大于或小于一个有理数

卡塔兰常数(Catalan's Constant)定义为![](https://www.zhihu.com/equation?tex=C%3A%3D%5Csum%5Climits_%7Bn%3D0%7D%5E%7B%5Cinfty%7D%7B%5Cdfrac%7B%28-1%29%5E%7Bn%7D%7D%7B%282n%2B1%29%5E%7B2%7D%7D%7D)，我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B2n%7D%281-x%5E2%29%5En+%28a%2Bbx%5E2%29%5Cln%281%2Fx%29%7D%7B1%2Bx%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分。

这里要注意：如果使用![](https://www.zhihu.com/equation?tex=%5Cln+x)而不是![](https://www.zhihu.com/equation?tex=%5Cln%281%2Fx%29)需要注意最后积分式的正负号。这里使用的两个![](https://www.zhihu.com/equation?tex=n)可以不相同，积分形式要保持![](https://www.zhihu.com/equation?tex=x)的指数为偶数。此外要保证最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负（即需要满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0)）。

列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2%2C3)的情况如下：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cint_0%5E1%5Cfrac%7Bx%5E2%281-x%5E2%29%28a%2Bbx%5E2%29%5Cln%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%28-2a%2B2b%29C%2B%5Cleft%28%5Cfrac%7B17%7D%7B9%7Da-%5Cfrac%7B409%7D%7B225%7Db%5Cright%29%5C%5C++%5Cint_0%5E1%5Cfrac%7Bx%5E4%281-x%5E2%29%5E2%28a%2Bbx%5E2%29%5Cln%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%284a-4b%29C%2B%5Cleft%28-%5Cfrac%7B40298%7D%7B11025%7Da%2B%5Cfrac%7B363826%7D%7B99225%7Db%5Cright%29%5C%5C++%5Cint_0%5E1%5Cfrac%7Bx%5E6%281-x%5E2%29%5E3%28a%2Bbx%5E2%29%5Cln%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%28-8a%2B8b%29C%2B%5Cleft%28%5Cfrac%7B12571156%7D%7B1715175%7Da-%5Cfrac%7B14867117548%7D%7B2029052025%7Db%5Cright%29%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=C%2C+1)的有理线性组合。

例如：这个问题的中间步骤需要证明![](https://www.zhihu.com/equation?tex=C%3C%5Cdfrac%7B109%7D%7B119%7D.)

[如何优雅地证明exp(G)<5/2?](https://www.zhihu.com/question/635263441/answer/3328606476)

我们使用![](https://www.zhihu.com/equation?tex=n%3D5)的情况，代入系数得到![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B109%7D%7B119%7D-C%3D%5Cint_0%5E1%5Cfrac%7Bx%5E%7B10%7D%281-x%5E2%29%5E5%28733466923-640846037x%5E2%29%5Cln%281%2Fx%29%7D%7B43978014720%281%2Bx%5E2%29%7Ddx%3E0.+%5Cend%7Balign%2A%7D)




## 第32种类型：欧拉常数  大于或小于一个有理数

欧拉常数(Euler–Mascheroni Constant)定义为![](https://www.zhihu.com/equation?tex=%5Cgamma%3A%3D%5Clim%5Climits_%7Bn%5Cto+%5Cinfty%7D%5Cleft%5B%5Cleft%28%5Csum%5Climits_%7Bk%3D1%7D%5En+%5Cdfrac%7B1%7D%7Bk%7D%5Cright%29-%5Cln+n%5Cright%5D)。我们利用积分式![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B1%7D%7B%5Cln+x%7D%2B%5Cdfrac%7B1%7D%7B1-x%7D%5Cright%29dx+%3D%5Cgamma%5Cend%7Balign%2A%7D)以及![](https://www.zhihu.com/equation?tex=f%28x%29%3D%5Cdfrac%7B1%7D%7B%5Cln+x%7D%2B%5Cdfrac%7B1%7D%7B1-x%7D)在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)的下界函数![](https://www.zhihu.com/equation?tex=f_%7B%5Ctextrm%7Blower%7D%7D%28x%29%3D%5Cdfrac%7B1%7D%7B2%7D)和上界函数![](https://www.zhihu.com/equation?tex=f_%7B%5Ctextrm%7Bupper%7D%7D%28x%29%3D%5Cdfrac%7B2-x%7D%7B2%7D)来构造定积分。

- 获得  的下界我们使用
- 获得  的上界我们使用

其中使用的![](https://www.zhihu.com/equation?tex=n)值越大，上下界越紧。




列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2%2C3)时获取![](https://www.zhihu.com/equation?tex=%5Cgamma)的下界情况如下：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B1%7D%7B%5Cln+x%7D%2B%5Cdfrac%7B1%7D%7B1-x%7D-%5Cdfrac%7B1%7D%7B2%7D%5Cright%29x+dx+%26%3D%5Cgamma%2B%5Cln2-%5Cdfrac%7B5%7D%7B4%7D%3E0%5C%5C+%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B1%7D%7B%5Cln+x%7D%2B%5Cdfrac%7B1%7D%7B1-x%7D-%5Cdfrac%7B1%7D%7B2%7D%5Cright%29x%5E2+dx%26%3D%5Cgamma%2B%5Cln3-%5Cdfrac%7B5%7D%7B3%7D%3E0%5C%5C+%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B1%7D%7B%5Cln+x%7D%2B%5Cdfrac%7B1%7D%7B1-x%7D-%5Cdfrac%7B1%7D%7B2%7D%5Cright%29x%5E3+dx+%26%3D%5Cgamma%2B%5Cln4-%5Cdfrac%7B47%7D%7B24%7D%3E0%5Cend%7Balign%2A%7D)

列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2%2C3)时获取![](https://www.zhihu.com/equation?tex=%5Cgamma)的上界情况如下：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B2-x%7D%7B2%7D-%5Cdfrac%7B1%7D%7B%5Cln+x%7D-%5Cdfrac%7B1%7D%7B1-x%7D%5Cright%29x+dx+%26%3D%5Cdfrac%7B4%7D%7B3%7D-%5Cln2-%5Cgamma%3E0%5C%5C+%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B2-x%7D%7B2%7D-%5Cdfrac%7B1%7D%7B%5Cln+x%7D-%5Cdfrac%7B1%7D%7B1-x%7D%5Cright%29x%5E2+dx+%26%3D%5Cdfrac%7B47%7D%7B24%7D-%5Cln3-%5Cgamma%3E0%5C%5C+%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B2-x%7D%7B2%7D-%5Cdfrac%7B1%7D%7B%5Cln+x%7D-%5Cdfrac%7B1%7D%7B1-x%7D%5Cright%29x%5E3+dx+%26%3D%5Cdfrac%7B119%7D%7B60%7D-%5Cln4-%5Cgamma%3E0+%5Cend%7Balign%2A%7D)

注意上下界中会出现![](https://www.zhihu.com/equation?tex=%5Cln%28n%2B1%29)这一项，再利用第六种情况获得![](https://www.zhihu.com/equation?tex=%5Cln%28n%2B1%29)的有理上下界即可。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Cgamma%3E%5Cdfrac%7B4%7D%7B7%7D.)使用![](https://www.zhihu.com/equation?tex=n%3D8)的情况得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cleft%28%5Cdfrac%7B1%7D%7B%5Cln+x%7D%2B%5Cdfrac%7B1%7D%7B1-x%7D-%5Cdfrac%7B1%7D%7B2%7D%5Cright%29x%5E8+dx+%3D%5Cgamma%2B2%5Cln3-%5Cdfrac%7B6989%7D%7B2520%7D%3E0%2C%5Cend%7Balign%2A%7D)

然后再凑出![](https://www.zhihu.com/equation?tex=2%5Cln3)的上界，通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cfrac%7B6989%7D%7B2520%7D-%5Cfrac%7B4%7D%7B7%7D-2%5Cln+3+%3D+%5Cint_0%5E1+%5Cfrac%7B4x%5E3%281-x%29%5E3%28169%2B1704x%29%7D%7B189%281%2B2x%29%5E2%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)

于是

![](https://www.zhihu.com/equation?tex=%5Cgamma%3E%5Cdfrac%7B6989%7D%7B2520%7D-2%5Cln3%3E%5Cdfrac%7B4%7D%7B7%7D.)

如果写成一个式子即

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26%5Cgamma-%5Cfrac%7B4%7D%7B7%7D%3D+%5Cint_0%5E1+%5Cleft%5B%5Cleft%28%5Cdfrac%7B1%7D%7B%5Cln+x%7D%2B%5Cdfrac%7B1%7D%7B1-x%7D-%5Cdfrac%7B1%7D%7B2%7D%5Cright%29x%5E8%2B%5Cfrac%7B4x%5E3%281-x%29%5E3%28169%2B1704x%29%7D%7B189%281%2B2x%29%5E2%7D%5Cright%5Ddx+%3E+0.%5Cend%7Balign%2A%7D)




## 第33种类型：黄金分割率  大于或小于一个有理数

黄金分割率(Golden Ratio)![](https://www.zhihu.com/equation?tex=%5Cphi%3A%3D%5Cdfrac%7B1%2B%5Csqrt5%7D%7B2%7D.)我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5E%7Bn%7D%281-x%29%5En+%28a%2Bbx%29%5Csqrt%7B4%2Bx%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分。

这里使用的两个![](https://www.zhihu.com/equation?tex=n)可以不相同，要保证最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负（即需要满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0)）。

列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2)的情况如下：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cint_0%5E1x%281-x%29%28a%2Bbx%29%5Csqrt%7B4%2Bx%7Ddx%3D%26%5C+%5Cdfrac%7B40%28-39a%2B101b%29%7D%7B63%7D%5Cphi%2B%5Cdfrac%7B4+%281061+a+-+2719+b%29%7D%7B105%7D%5C%5C++%5Cint_0%5E1x%5E2%281-x%29%5E2%28a%2Bbx%29%5Csqrt%7B4%2Bx%7Ddx%3D%26%5C+%5Cdfrac%7B800+%282769+a+-+8261+b%29%7D%7B9009%7D%5Cphi%2B%5Cdfrac%7B16+%28-74659+a+%2B+222783+b%29%7D%7B3003%7D%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=%5Cphi%2C+1)的有理线性组合。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Cphi%3C%5Cdfrac%7B89%7D%7B55%7D.)我们使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B89%7D%7B55%7D+-+%5Cphi+%3D+%5Cint_0%5E1+%5Cdfrac%7B3x%5E%7B2%7D+%5Cleft%281+-+x%5Cright%29%5E%7B2%7D%28451%2B663x%29+%5Csqrt%7B4%2Bx%7D%7D%7B1126400%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)





## 第34种类型：葛莱佘-金可林常数对数  大于或小于一个有理数

葛莱佘-金可林常数(Glaisher–Kinkelin Constant)定义为![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7DA%3A%3D%5Clim%5Climits_%7Bn%5Cto+%5Cinfty%7D%5Cdfrac%7B%5Cprod_%7Bi%3D1%7D%5En+i%5Ei%7D%7Bn%5E%7Bn%5E2%2F2%2Bn%2F2%2B1%2F12%7De%5E%7B-n%5E2%2F4%7D%7D%5Cend%7Balign%2A%7D)。实际应用中常用它的对数形式![](https://www.zhihu.com/equation?tex=%5Cln+A%2C)出现在很多公式中，例如黎曼zeta函数的导数![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Czeta%27%28-1%29%3D%5Cdfrac%7B1%7D%7B12%7D-%5Cln+A%2C%5Cend%7Balign%2A%7D)![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Czeta%27%282%29%3D%5Cdfrac%7B%5Cpi%5E2%7D%7B6%7D%5Cleft%28%5Cgamma%2B%5Cln%282%5Cpi%29-12%5Cln+A%5Cright%29%5Cend%7Balign%2A%7D)等。


我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%281-x%29%5En%28a%2Bbx%29%7D%7B%281%2Bx%29%5E2%5Cln%281%2Fx%29%7D+dx%5Cend%7Balign%2A%7D%7D)的定积分，其中两个系数![](https://www.zhihu.com/equation?tex=n)可以不相同。注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+a%2Bb%5Cge+0.)

这里列出![](https://www.zhihu.com/equation?tex=n%3D1%2C2)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1%5Cfrac%7Bx%281-x%29%28a%2Bbx%29%7D%7B%281%2Bx%29%5E2%5Cln%281%2Fx%29%7D+dx%26%5C+%3D++%28-6a%2B6b%29%5Cln+A%2B%5Cdfrac%7B3a-5b%7D%7B2%7D%5Cln%5Cpi%2B%5Cdfrac%7B-5a%2B17b%7D%7B6%7D%5Cln+2+%2B+%5Cdfrac%7Ba-b%7D%7B2%7D%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%5E2%281-x%29%5E2%28a%2Bbx%29%7D%7B%281%2Bx%29%5E2%5Cln%281%2Fx%29%7D+dx%26%5C+%3D+%2812a-12b%29%5Cln+A%2B%28-6a%2B8b%29%5Cln%5Cpi%2B%5Cdfrac%7B26a-50b%7D%7B3%7D%5Cln+2+%2B+%28-a%2B4b%29%5Cln3%2B%28-a%2Bb%29%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=%5Cln+A%2C+%5Cln+%5Cpi%2C+%5Cln+q%2C+1)（![](https://www.zhihu.com/equation?tex=q)是有理数）的有理线性组合。然后利用合适的![](https://www.zhihu.com/equation?tex=a%2Cb)消去![](https://www.zhihu.com/equation?tex=%5Cln+%5Cpi)(同时让![](https://www.zhihu.com/equation?tex=%5Cln+A)系数为1或-1），然后利用![](https://www.zhihu.com/equation?tex=%5Cln+q)的有理上下界就得到了![](https://www.zhihu.com/equation?tex=%5Cln+A)的有理上下界。

例如：我们要证明![](https://www.zhihu.com/equation?tex=%5Cln+A%3E%5Cdfrac%7B2%7D%7B9%7D)，首先找到![](https://www.zhihu.com/equation?tex=%5Cln+2)的下界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B11%7D%7B16%7D)和![](https://www.zhihu.com/equation?tex=%5Cln+3)的上界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B71%7D%7B64%7D)：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cln+2-%5Cdfrac%7B11%7D%7B16%7D%3D%5Cint_0%5E1+%5Cdfrac%7Bx%281-x%29%5E2%7D%7B8%281%2Bx%29%5E2%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cdfrac%7B71%7D%7B64%7D-%5Cln+3%3D%5Cint_0%5E1+%5Cdfrac%7Bx%5E2%281-x%29%5E2%28117-16x%29%7D%7B96%281%2B2x%29%5E2%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

然后使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况待定系数得到![](https://www.zhihu.com/equation?tex=a%3D1%2F3%2C+%5C+b%3D1%2F4%2C)于是![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1%5Cfrac%7Bx%5E2%281-x%29%5E2%284%2B3x%29%7D%7B12%281%2Bx%29%5E2%5Cln%281%2Fx%29%7D+dx%26%5C+%3D+%5Cln+A%2B%5Cdfrac%7B2%7D%7B3%7D%5Cln3-%5Cdfrac%7B23%7D%7B18%7D%5Cln2-%5Cdfrac%7B1%7D%7B12%7D%3E0%2C+%5Cend%7Balign%2A%7D)

因此

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cln+A%3E-%5Cdfrac%7B2%7D%7B3%7D%5Cln3%2B%5Cdfrac%7B23%7D%7B18%7D%5Cln2%2B%5Cdfrac%7B1%7D%7B12%7D%3E-%5Cdfrac%7B2%7D%7B3%7D%5Ctimes%5Cdfrac%7B71%7D%7B64%7D%2B%5Cdfrac%7B23%7D%7B18%7D%5Ctimes%5Cdfrac%7B11%7D%7B16%7D%2B%5Cdfrac%7B1%7D%7B12%7D%3D%5Cdfrac%7B2%7D%7B9%7D.%5Cend%7Balign%2A%7D)

如果写成一个式子即

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cln+A-%5Cdfrac%7B2%7D%7B9%7D%3D%5Cint_0%5E1%5Cdfrac%7Bx%281-x%29%5E2%7D%7B144%7D%5Cleft%5B%5Cdfrac%7B12x%284%2B3x%29%7D%7B%281%2Bx%29%5E2%5Cln%281%2Fx%29%7D%2B%5Cdfrac%7Bx%28117-16x%29%7D%7B%281%2B2x%29%5E2%7D%2B+%5Cdfrac%7B23%7D%7B%281%2Bx%29%5E2%7D%5Cright%5D+dx%3E0.%5Cend%7Balign%2A%7D)

而对于![](https://www.zhihu.com/equation?tex=A)本身，同样可以使用上面的式子。对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果都是![](https://www.zhihu.com/equation?tex=%5Cln+A%2C+%5Cln+%5Cpi%2C+%5Cln+q%2C+1)（![](https://www.zhihu.com/equation?tex=q)是有理数）的有理线性组合。然后利用合适的![](https://www.zhihu.com/equation?tex=a%2Cb)消去![](https://www.zhihu.com/equation?tex=%5Cln+%5Cpi)(同时让![](https://www.zhihu.com/equation?tex=%5Cln+A)系数为1或-1），然后找到![](https://www.zhihu.com/equation?tex=%5Cln+A)的某个常数的对数的上下界![](https://www.zhihu.com/equation?tex=%5Cln+q%27)从而得到![](https://www.zhihu.com/equation?tex=A)的有理上下界![](https://www.zhihu.com/equation?tex=q%27)。

例如：我们要证明![](https://www.zhihu.com/equation?tex=A%3E%5Cdfrac%7B9%7D%7B8%7D%2C+)即证![](https://www.zhihu.com/equation?tex=%5Cln+A%3E%5Cln+%5Cdfrac%7B9%7D%7B8%7D)，首先找到![](https://www.zhihu.com/equation?tex=%5Cln+2)的下界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B11%7D%7B16%7D)和![](https://www.zhihu.com/equation?tex=%5Cln+3)的上界![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B871%7D%7B768%7D)：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cln+2-%5Cdfrac%7B11%7D%7B16%7D%3D%5Cint_0%5E1+%5Cdfrac%7Bx%281-x%29%5E2%7D%7B8%281%2Bx%29%5E2%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cdfrac%7B871%7D%7B768%7D-%5Cln+3%3D%5Cint_0%5E1+%5Cdfrac%7Bx%281-x%29%5E2%28212%2B777x%29%7D%7B384%281%2B2x%29%5E2%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

同样使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况待定系数得到![](https://www.zhihu.com/equation?tex=a%3D1%2F3%2C+%5C+b%3D1%2F4%2C)于是![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1%5Cdfrac%7Bx%5E2%281-x%29%5E2%284%2B3x%29%7D%7B12%281%2Bx%29%5E2%5Cln%281%2Fx%29%7D+dx%26%5C+%3D+%5Cln+A%2B%5Cdfrac%7B2%7D%7B3%7D%5Cln3-%5Cdfrac%7B23%7D%7B18%7D%5Cln2-%5Cdfrac%7B1%7D%7B12%7D%3E0%2C+%5Cend%7Balign%2A%7D)

因此

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cln+A%3E-%5Cdfrac%7B2%7D%7B3%7D%5Cln3%2B%5Cdfrac%7B23%7D%7B18%7D%5Cln2%2B%5Cdfrac%7B1%7D%7B12%7D%3E-%5Cdfrac%7B2%7D%7B3%7D%5Cln+3%2B%5Cdfrac%7B23%7D%7B18%7D%5Cln+2%2B%5Cleft%28%5Cdfrac%7B8%7D%7B3%7D%5Cln+3+-+%5Cdfrac%7B77%7D%7B18%7D%5Cln+2%5Cright%29%3D%5Cln+%5Cdfrac%7B9%7D%7B8%7D.%5Cend%7Balign%2A%7D)

如果写成一个式子即

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cln+A-%5Cln%5Cdfrac%7B9%7D%7B8%7D%3D%5Cint_0%5E1%5Cdfrac%7Bx%281-x%29%5E2%7D%7B144%7D%5Cleft%5B%5Cdfrac%7B12x%284%2B3x%29%7D%7B%281%2Bx%29%5E2%5Cln%281%2Fx%29%7D+dx%2B+%5Cdfrac%7B77%7D%7B%281%2Bx%29%5E2%7D%2B+%5Cdfrac%7B212%2B777x%7D%7B%281%2B2x%29%5E2%7D%5Cright%5D+dx%3E0.%5Cend%7Balign%2A%7D)


## 第35种类型：双纽线周率  大于或小于一个有理数

双纽线周率(Lemniscate Ratio)![](https://www.zhihu.com/equation?tex=%5Cvarpi)是双纽线![](https://www.zhihu.com/equation?tex=%28x%5E2%2By%5E2%29%5E2%3Da%5E2%28x%5E2-y%5E2%29+)( 其中![](https://www.zhihu.com/equation?tex=a%3E0)) 的周长和直径![](https://www.zhihu.com/equation?tex=2a)的比例，等于![](https://www.zhihu.com/equation?tex=%5Cvarpi%3D%5Cdfrac%7B1%7D%7B2%7DB%5Cleft%28%5Cdfrac%7B1%7D%7B2%7D%2C%5Cdfrac%7B1%7D%7B4%7D%5Cright%29%3D%5Cdfrac%7B1%7D%7B2%5Csqrt%7B2%5Cpi%7D%7D%5CGamma%5Cleft%28%5Cdfrac%7B1%7D%7B4%7D%5Cright%29%5E2), 我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B4n%2B1%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Cpi%5Csqrt%7B1-x%5E4%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Cvarpi)的有理下界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B4n%2B3%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Csqrt%7B1-x%5E4%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Cvarpi)的有理上界，要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E4)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即要求![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%5Cge+0.)

这里列出![](https://www.zhihu.com/equation?tex=n%3D0)的情况：

![](https://www.zhihu.com/equation?tex=%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Cpi%5Csqrt%7B1-x%5E4%7D%7D+dx+%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B4%7D%2B%5Cdfrac%7Bb%7D%7B8%7D%5Cright%29-%5Cleft%28%5Cdfrac%7Ba%7D%7B2%7D%2B%5Cdfrac%7B3b%7D%7B10%7D%5Cright%29%5Cvarpi%5E%7B-1%7D%5Cend%7Balign%2A%7D%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B3%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Csqrt%7B1-x%5E4%7D%7D+dx+%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B2%7D%2B%5Cdfrac%7Bb%7D%7B3%7D%5Cright%29-%5Cleft%28%5Cdfrac%7Ba%7D%7B6%7D%2B%5Cdfrac%7B5b%7D%7B42%7D%5Cright%29%5Cvarpi%5Cend%7Balign%2A%7D)

对于每一种![](https://www.zhihu.com/equation?tex=4n%2B1)情况得到的是![](https://www.zhihu.com/equation?tex=%5Cvarpi)的下界，对于每一种![](https://www.zhihu.com/equation?tex=4n%2B3)情况得到的是![](https://www.zhihu.com/equation?tex=%5Cvarpi)的上界。

例如要证明![](https://www.zhihu.com/equation?tex=%5Cvarpi%3C3%2C)使用![](https://www.zhihu.com/equation?tex=n%3D0)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+3-%5Cvarpi%3D%5Cint_0%5E1+%5Cfrac%7B6x%5E%7B3%7D%281-x%29%7D%7B%5Csqrt%7B1-x%5E4%7D%7D+dx+%3E0.+%5Cend%7Balign%2A%7D)




## 第36种类型：高斯常数  大于或小于一个有理数

高斯常数(Gauss's Constant)![](https://www.zhihu.com/equation?tex=G)定义为![](https://www.zhihu.com/equation?tex=1)和![](https://www.zhihu.com/equation?tex=%5Csqrt2)的代数几何平均数的倒数，等于![](https://www.zhihu.com/equation?tex=G%3D%5Cdfrac%7B%5Cvarpi%7D%7B%5Cpi%7D+%3D+%5Cdfrac%7B%28%5CGamma%281%2F4%29%29%5E2%7D%7B%282%5Cpi%29%5E%7B3%2F2%7D%7D.)我们可以使用![](https://www.zhihu.com/equation?tex=%5Cvarpi)和![](https://www.zhihu.com/equation?tex=%5Cpi)的有理上下界来得到![](https://www.zhihu.com/equation?tex=G)的上下界。我们也可以直接使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B4n%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Cpi%5Csqrt%7B1-x%5E4%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=G)的有理下界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B4n%2B2%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Csqrt%7B1-x%5E4%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=G)的有理下界，要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E4)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即要求![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%5Cge+0.)

这里列出![](https://www.zhihu.com/equation?tex=n%3D0)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7B%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Cpi%5Csqrt%7B1-x%5E4%7D%7D+dx+%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B2%7D%2B%5Cdfrac%7Bb%7D%7B6%7D%5Cright%29G-%5Cleft%28%5Cdfrac%7Ba%7D%7B4%7D%2B%5Cdfrac%7Bb%7D%7B8%7D%5Cright%29%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E2%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Csqrt%7B1-x%5E4%7D%7D+dx+%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B2%7D%2B%5Cdfrac%7B3b%7D%7B10%7D%5Cright%29G%5E%7B-1%7D-%5Cleft%28%5Cdfrac%7Ba%7D%7B2%7D%2B%5Cdfrac%7Bb%7D%7B3%7D%5Cright%29%5Cend%7Balign%2A%7D%7D)

对于每一种![](https://www.zhihu.com/equation?tex=4n)情况得到的是![](https://www.zhihu.com/equation?tex=G)的下界，对于每一种![](https://www.zhihu.com/equation?tex=4n%2B2)情况得到的是![](https://www.zhihu.com/equation?tex=G)的上界。

例如要证明![](https://www.zhihu.com/equation?tex=G%3E%5Cdfrac%7B4%7D%7B5%7D)使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+G-%5Cdfrac%7B4%7D%7B5%7D%3D%5Cint_0%5E1+%5Cfrac%7B2x%5E%7B8%7D%281-x%29%283%2B22x%5E4%29%7D%7B5%5Cpi%5Csqrt%7B1-x%5E4%7D%7D+dx+%3E0.+%5Cend%7Balign%2A%7D)




## 第37种类型：  大于或小于一个有理数

伽马函数![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5CGamma%28x%29%3A%3D%5Cint_0%5E%5Cinfty+t%5E%7Bx-1%7De%5E%7B-t%7Ddt%5Cend%7Balign%2A%7D)是阶乘函数的扩展, 满足![](https://www.zhihu.com/equation?tex=%5CGamma%28x%2B1%29%3Dx%5CGamma%28x%29.)![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F2%29%3D%5Csqrt%5Cpi)可以利用![](https://www.zhihu.com/equation?tex=%5Csqrt%5Cpi)的有理界；对于![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29%2C%5C+%5CGamma%283%2F4%29),我们利用余元公式![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29%5CGamma%283%2F4%29%3D%5Csqrt2%5Cpi)可以求出![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29)和![](https://www.zhihu.com/equation?tex=%5CGamma%283%2F4%29)有理上下界。


我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B4n%2B1%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Cpi%5Csqrt%7B1-x%5E4%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29)的有理下界和![](https://www.zhihu.com/equation?tex=%5CGamma%283%2F4%29)的有理上界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B4n%2B3%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Csqrt%7B1-x%5E4%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29)的有理上界和![](https://www.zhihu.com/equation?tex=%5CGamma%283%2F4%29)的有理下界，要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E4)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即要求![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%5Cge+0.)




这里列出![](https://www.zhihu.com/equation?tex=n%3D0)的情况：

![](https://www.zhihu.com/equation?tex=%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Cpi%5Csqrt%7B1-x%5E4%7D%7D+dx+%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B4%7D%2B%5Cdfrac%7Bb%7D%7B8%7D%5Cright%29-%5Cleft%28a%2B%5Cdfrac%7B3b%7D%7B5%7D%5Cright%29%5Cdfrac%7B%28%5CGamma%283%2F4%29%29%5E2%7D%7B%5Cpi%5Csqrt%7B2%5Cpi%7D%7D%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B4%7D%2B%5Cdfrac%7Bb%7D%7B8%7D%5Cright%29-%5Cleft%28a%2B%5Cdfrac%7B3b%7D%7B5%7D%5Cright%29%5Cdfrac%7B%5Csqrt%7B2%5Cpi%7D%7D%7B%28%5CGamma%281%2F4%29%29%5E2%7D%5Cend%7Balign%2A%7D%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B3%7D%281-x%29%28a%2Bbx%5E4%29%7D%7B%5Csqrt%7B1-x%5E4%7D%7D+dx+%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B2%7D%2B%5Cdfrac%7Bb%7D%7B3%7D%5Cright%29-%5Cleft%28%5Cdfrac%7Ba%7D%7B12%7D%2B%5Cdfrac%7B5b%7D%7B84%7D%5Cright%29%5Cdfrac%7B%5Cpi%5Csqrt%7B2%5Cpi%7D%7D%7B%28%5CGamma%283%2F4%29%29%5E2%7D%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B2%7D%2B%5Cdfrac%7Bb%7D%7B3%7D%5Cright%29-%5Cleft%28%5Cdfrac%7Ba%7D%7B12%7D%2B%5Cdfrac%7B5b%7D%7B84%7D%5Cright%29%5Cdfrac%7B%28%5CGamma%281%2F4%29%29%5E2%7D%7B%5Csqrt%7B2%5Cpi%7D%7D%5Cend%7Balign%2A%7D)

对于每一种![](https://www.zhihu.com/equation?tex=4n%2B1)情况得到的是![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29)的下界和![](https://www.zhihu.com/equation?tex=%5CGamma%283%2F4%29)的上界，对于每一种![](https://www.zhihu.com/equation?tex=4n%2B3)情况得到的是![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29)的上界和![](https://www.zhihu.com/equation?tex=%5CGamma%283%2F4%29)的下界，然后再找到![](https://www.zhihu.com/equation?tex=%5Csqrt%7B2%5Cpi%7D)或![](https://www.zhihu.com/equation?tex=%5Cpi%5Csqrt%7B2%5Cpi%7D)的有理界即得。




例如要证明![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F4%29%3C%5Cdfrac%7B11%7D%7B3%7D%2C)我们首先找到一个![](https://www.zhihu.com/equation?tex=%5Csqrt%7B2%5Cpi%7D)的有理数上界![](https://www.zhihu.com/equation?tex=220%2F87), 通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cleft%28%5Cdfrac%7B220%7D%7B87%7D%5Cright%29%5E2-%28%5Csqrt%7B2%5Cpi%7D%29%5E2%3D%5Cint_0%5E1+%5Cdfrac%7B2x%5E2%281-x%5E2%29%5E2%282432-91x%5E2%29%7D%7B2523%281%2Bx%5E2%29%7Ddx%3E0.+%5Cend%7Balign%2A%7D)

然后使用![](https://www.zhihu.com/equation?tex=n%3D0)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cdfrac%7B319%7D%7B60%7D-%5Cdfrac%7B%28%5CGamma%281%2F4%29%29%5E2%7D%7B%5Csqrt%7B2%5Cpi%7D%7D%3D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B3%7D%281-x%29%281361-287x%5E4%29%7D%7B110%5Csqrt%7B1-x%5E4%7D%7D+dx+%3E0.+%5Cend%7Balign%2A%7D)

二者结合得到![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%28%5CGamma%281%2F4%29%29%5E2%3C%5Cdfrac%7B220%7D%7B87%7D%5Ccdot+%5Cdfrac%7B319%7D%7B60%7D%3D%5Cleft%28%5Cdfrac%7B11%7D%7B3%7D%5Cright%29%5E2.%5Cend%7Balign%2A%7D)




## 第38种类型：大于或小于一个有理数

伽马函数![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5CGamma%28x%29%3A%3D%5Cint_0%5E%5Cinfty+t%5E%7Bx-1%7De%5E%7B-t%7Ddt%5Cend%7Balign%2A%7D)是阶乘函数的扩展, 满足![](https://www.zhihu.com/equation?tex=%5CGamma%28x%2B1%29%3Dx%5CGamma%28x%29.)我们利用余元公式![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F3%29%5CGamma%282%2F3%29%3D%5Cdfrac%7B2%5Cpi%7D%7B%5Csqrt3%7D)可以求出![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F3%29)和![](https://www.zhihu.com/equation?tex=%5CGamma%282%2F3%29)有理上下界。




我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B3n%2B1%7D%281-x%29%28a%2Bbx%5E3%29%7D%7B%5Csqrt%7B1-x%5E3%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F3%29)的有理下界和![](https://www.zhihu.com/equation?tex=%5CGamma%282%2F3%29)的有理上界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B3n%2B2%7D%281-x%5E2%29%28a%2Bbx%5E3%29%7D%7B%5Csqrt%7B1-x%5E3%7D%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F3%29)的有理上界和![](https://www.zhihu.com/equation?tex=%5CGamma%282%2F3%29)的有理下界，要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即要求![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%5Cge+0.)

这里列出![](https://www.zhihu.com/equation?tex=n%3D0)的情况：

![](https://www.zhihu.com/equation?tex=%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%281-x%29%28a%2Bbx%5E3%29%7D%7B%5Csqrt%7B1-x%5E3%7D%7D+dx+%3D%5Cdfrac%7B4%5Csqrt%5B3%5D%7B2%7D%5Cpi%5E2%287a%2B4b%29%7D%7B21%28%5CGamma%281%2F3%29%29%5E3%7D-%5Cdfrac%7B6a%2B4b%7D%7B9%7D%3D%5Cdfrac%7B%5Csqrt3%287a%2B4b%29%7D%7B7%5Csqrt%5B3%5D%7B4%7D%5Cpi%7D%28%5CGamma%282%2F3%29%29%5E3-%5Cdfrac%7B6a%2B4b%7D%7B9%7D%5Cend%7Balign%2A%7D%7D)

![](https://www.zhihu.com/equation?tex=%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E2%281-x%5E2%29%28a%2Bbx%5E3%29%7D%7B%5Csqrt%7B1-x%5E3%7D%7D+dx+%3D-%5Cdfrac%7B16%5Csqrt%5B3%5D%7B2%7D%2813a%2B10b%29%5Cpi%5E2%7D%7B273%28%5CGamma%281%2F3%29%29%5E3%7D%2B%5Cdfrac%7B6a%2B4b%7D%7B9%7D%3D-%5Cdfrac%7B2%5Csqrt%5B3%5D%7B2%7D%5Csqrt3%2813a%2B10b%29%7D%7B91%5Cpi%7D%28%5CGamma%282%2F3%29%29%5E3%2B%5Cdfrac%7B6a%2B4b%7D%7B9%7D%5Cend%7Balign%2A%7D%7D)

对于每一种![](https://www.zhihu.com/equation?tex=3n%2B1)情况得到的是![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F3%29)的上界和![](https://www.zhihu.com/equation?tex=%5CGamma%282%2F3%29)的下界，对于每一种![](https://www.zhihu.com/equation?tex=3n%2B2)情况得到的是![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F3%29)的上界和![](https://www.zhihu.com/equation?tex=%5CGamma%282%2F3%29)的下界，然后再找到![](https://www.zhihu.com/equation?tex=%5Cpi)或者![](https://www.zhihu.com/equation?tex=%5Cpi%5E2)的有理界即得。

例如要证明![](https://www.zhihu.com/equation?tex=%5CGamma%281%2F3%29%3E%5Cdfrac%7B9%7D%7B4%7D), 我们首先找到一个![](https://www.zhihu.com/equation?tex=%5Cpi)的下界![](https://www.zhihu.com/equation?tex=47%2F15), 通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cpi-%5Cdfrac%7B47%7D%7B15%7D%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E4%285-3x%5E2%29%281-x%5E2%29%5E2%7D%7B8%281%2Bx%5E2%29%7D+dx+%3E+0%2C%5Cend%7Balign%2A%7D)

于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B9%7D%7B14%7D%5Ccdot+%5Cdfrac%7B400%5Csqrt%5B3%5D%7B2%7D%5Cpi%5E2%7D%7B273%7D%3E%5Cdfrac%7B3976200%5Csqrt%5B3%5D%7B2%7D%7D%7B429975%7D%3E%289%2F4%29%5E3.%5Cend%7Balign%2A%7D)

然后使用![](https://www.zhihu.com/equation?tex=n%3D1)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cdfrac%7B14%7D%7B9%7D-%5Cdfrac%7B400%5Csqrt%5B3%5D%7B2%7D%5Cpi%5E2%7D%7B273%28%5CGamma%281%2F3%29%29%5E3%7D%3D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7B2%7D%281-x%5E2%29%285-4x%5E3%29%7D%7B%5Csqrt%7B1-x%5E3%7D%7D+dx+%3E0.+%5Cend%7Balign%2A%7D)

二者结合得到![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%28%5CGamma%281%2F3%29%29%5E3%3E%5Cdfrac%7B9%7D%7B14%7D%5Ccdot+%5Cdfrac%7B400%5Csqrt%5B3%5D%7B2%7D%5Cpi%5E2%7D%7B273%7D%3E%289%2F4%29%5E3%2C%5Cend%7Balign%2A%7D)得证！




## 第39种类型：   大于或小于一个有理数

Digamma函数![](https://www.zhihu.com/equation?tex=%5Cpsi%28x%29)是Gamma函数的对数![](https://www.zhihu.com/equation?tex=%5Cln+%5CGamma%28x%29)的导数![](https://www.zhihu.com/equation?tex=%5Cpsi%28x%29%3D%5Cdfrac%7Bd%7D%7Bdx%7D%28%5Cln+%5CGamma%28x%29%29%3D%5Cdfrac%7B%5CGamma%27%28x%29%7D%7B%5CGamma%28x%29%7D%2C)而 Polygamma函数![](https://www.zhihu.com/equation?tex=%5Cpsi%5E%7B%28n%29%7D%28x%29)是Digamma函数![](https://www.zhihu.com/equation?tex=%5Cpsi%28x%29)的![](https://www.zhihu.com/equation?tex=n)阶导数，即Gamma函数对数![](https://www.zhihu.com/equation?tex=%5Cln+%5CGamma%28x%29)的![](https://www.zhihu.com/equation?tex=%28n%2B1%29)阶导数，满足![](https://www.zhihu.com/equation?tex=%5Cbegin%7Baligned%7D+%5Cpsi%5E%7B%28n%29%7D%28x%29+%3D+%28-1%29%5E%7Bn%2B1%7Dn%21%5Csum_%7Bk%3D0%7D%5E%5Cinfty+%5Cfrac%7B1%7D%7B%28x%2Bk%29%5E%7Bn%2B1%7D%7D.+%5Cend%7Baligned%7D+)

对于![](https://www.zhihu.com/equation?tex=%5Cpsi%27%281%2F2%29%3D%5Cdfrac%7B%5Cpi%5E2%7D%7B2%7D%2C+)![](https://www.zhihu.com/equation?tex=%5Cpsi%27%281%2F4%29%3D%5Cpi%5E2%2B8C%2C++)![](https://www.zhihu.com/equation?tex=%5Cpsi%27%283%2F4%29%3D%5Cpi%5E2-8C%2C+)可以使用![](https://www.zhihu.com/equation?tex=%5Cpi%5E2)和卡塔兰常数![](https://www.zhihu.com/equation?tex=C)的有理界组合即可，对于![](https://www.zhihu.com/equation?tex=%5Cbegin%7Baligned%7D+%5Cpsi%27%281%2F3%29+%3D+9%5Csum_%7Bk%3D0%7D%5E%5Cinfty+%5Cfrac%7B1%7D%7B%283k%2B1%29%5E2%7D+%5Cend%7Baligned%7D+)和![](https://www.zhihu.com/equation?tex=%5Cbegin%7Baligned%7D+%5Cpsi%27%282%2F3%29+%3D+9%5Csum_%7Bk%3D0%7D%5E%5Cinfty+%5Cfrac%7B1%7D%7B%283k%2B2%29%5E2%7D+%5Cend%7Baligned%7D+)，我们要用到二者的关系![](https://www.zhihu.com/equation?tex=%5Cpsi%27%281%2F3%29%2B%5Cpsi%27%282%2F3%29%3D%5Cdfrac%7B4%5Cpi%5E2%7D%7B3%7D%2C+)使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%28a%2Bbx%29%5Cln%281%2Fx%29%7D%7B1%2Bx%2Bx%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，即要求![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%5Cge+0.)




这里列出![](https://www.zhihu.com/equation?tex=n%3D0%2C1%2C2)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7B%28a%2Bbx%29%5Cln%281%2Fx%29%7D%7B1%2Bx%2Bx%5E2%7D+dx+%3D%5Cleft%28%5Cdfrac%7B2a%7D%7B9%7D-%5Cdfrac%7Bb%7D%7B9%7D%5Cright%29%5Cpsi%27%281%2F3%29%2B%5Cleft%28-%5Cdfrac%7B4a%7D%7B27%7D%2B%5Cdfrac%7B7b%7D%7B54%7D%5Cright%29%5Cpi%5E2%3D%5Cleft%28-%5Cdfrac%7B2a%7D%7B9%7D%2B%5Cdfrac%7Bb%7D%7B9%7D%5Cright%29%5Cpsi%27%282%2F3%29%2B%5Cleft%28%5Cdfrac%7B4a%7D%7B27%7D-%5Cdfrac%7Bb%7D%7B54%7D%5Cright%29%5Cpi%5E2+%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%28a%2Bbx%29%5Cln%281%2Fx%29%7D%7B1%2Bx%2Bx%5E2%7D+dx+%3D%5Cleft%28-%5Cdfrac%7Ba%7D%7B9%7D-%5Cdfrac%7Bb%7D%7B9%7D%5Cright%29%5Cpsi%27%281%2F3%29%2B%5Cleft%28%5Cdfrac%7B7a%7D%7B54%7D%2B%5Cdfrac%7Bb%7D%7B54%7D%5Cright%29%5Cpi%5E2%2Bb%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B9%7D%2B%5Cdfrac%7Bb%7D%7B9%7D%5Cright%29%5Cpsi%27%282%2F3%29%2B%5Cleft%28-%5Cdfrac%7Ba%7D%7B54%7D-%5Cdfrac%7B7b%7D%7B54%7D%5Cright%29%5Cpi%5E2%2Bb%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cint_0%5E1+%5Cfrac%7Bx%5E2%28a%2Bbx%29%5Cln%281%2Fx%29%7D%7B1%2Bx%2Bx%5E2%7D+dx+%3D%5Cleft%28-%5Cdfrac%7Ba%7D%7B9%7D%2B%5Cdfrac%7B2b%7D%7B9%7D%5Cright%29%5Cpsi%27%281%2F3%29%2B%5Cleft%28%5Cdfrac%7Ba%7D%7B54%7D-%5Cdfrac%7B4b%7D%7B27%7D%5Cright%29%5Cpi%5E2%2B%5Cleft%28a-%5Cdfrac%7B3b%7D%7B4%7D%5Cright%29%3D%5Cleft%28%5Cdfrac%7Ba%7D%7B9%7D-%5Cdfrac%7B2b%7D%7B9%7D%5Cright%29%5Cpsi%27%282%2F3%29%2B%5Cleft%28-%5Cdfrac%7B7a%7D%7B54%7D%2B%5Cdfrac%7B4b%7D%7B27%7D%5Cright%29%5Cpi%5E2%2B%5Cleft%28a-%5Cdfrac%7B3b%7D%7B4%7D%5Cright%29%5Cend%7Balign%2A%7D)

对于每一种情况都是![](https://www.zhihu.com/equation?tex=%5Cpsi%27%281%2F3%29)(或![](https://www.zhihu.com/equation?tex=%5Cpsi%27%282%2F3%29))![](https://www.zhihu.com/equation?tex=%2C%5C+%5Cpi%5E2%2C+%5C+1)的线性组合，然后再结合![](https://www.zhihu.com/equation?tex=%5Cpi%5E2)的有理界即可。

例如要证明![](https://www.zhihu.com/equation?tex=%5Cpsi%27%281%2F3%29%3C%5Cdfrac%7B21%7D%7B2%7D%2C)我们首先找到一个![](https://www.zhihu.com/equation?tex=%5Cpi%5E2%2F2)的有理数上界![](https://www.zhihu.com/equation?tex=21%2F4), 通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cdfrac%7B21%7D%7B4%7D-%5Cdfrac%7B%5Cpi%5E2%7D%7B2%7D%3D%5Cint_0%5E1+%5Cdfrac%7B12x%5E3%281-x%5E2%29%5Cln%281%2Fx%29%7D%7B1%2Bx%5E2%7Ddx%3E0.+%5Cend%7Balign%2A%7D)

然后使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+-%5Cpsi%27%281%2F3%29%2B%5Cdfrac%7B%5Cpi%5E2%7D%7B2%7D%2B%5Cdfrac%7B21%7D%7B4%7D%3D%5Cint_0%5E1+%5Cfrac%7B3x%5E%7B2%7D%281-x%29%5Cln%281%2Fx%29%7D%7B1%2Bx%2Bx%5E2%7D+dx+%3E0.+%5Cend%7Balign%2A%7D)

上面两式相加得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cdfrac%7B21%7D%7B2%7D-%5Cpsi%27%281%2F3%29%3D%5Cint_0%5E1+3x%5E2%281-x%29%5Cleft%28%5Cdfrac%7B4x%281%2Bx%29%7D%7B1%2Bx%5E2%7D%2B%5Cfrac%7B1%7D%7B1%2Bx%2Bx%5E2%7D+%5Cright%29%5Cln%281%2Fx%29%5C+dx+%3E0.+%5Cend%7Balign%2A%7D)




## 第40种类型：黎曼Zeta函数  ( 为大于1的正整数）大于或小于一个有理数

黎曼Zeta函数定义为![](https://www.zhihu.com/equation?tex=%5Czeta%28s%29%3A%3D%5Csum%5Climits_%7Bn%3D1%7D%5E%7B%5Cinfty%7D%5Cdfrac%7B1%7D%7Bn%5Es%7D)。当![](https://www.zhihu.com/equation?tex=s)为正偶数![](https://www.zhihu.com/equation?tex=%28s%3D2k%29)时，![](https://www.zhihu.com/equation?tex=%5Czeta%282k%29%3Dq%282k%29%5Cpi%5E%7B2k%7D), 其中![](https://www.zhihu.com/equation?tex=q%282k%29)是一个有理数，例如![](https://www.zhihu.com/equation?tex=%5Czeta%282%29%3D%5Cdfrac%7B%5Cpi%5E2%7D%7B6%7D%2C%5C+%5Czeta%284%29%3D%5Cdfrac%7B%5Cpi%5E4%7D%7B90%7D%2C%5C+%5Czeta%286%29%3D%5Cdfrac%7B%5Cpi%5E6%7D%7B945%7D)等，我们可以使用第三种类型找到它的有理逼近值。

当![](https://www.zhihu.com/equation?tex=s)为大于![](https://www.zhihu.com/equation?tex=1)的正奇数![](https://www.zhihu.com/equation?tex=%28s%3D2k%2B1%29)时，于是我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5E%7Bm%7D%281-x%5E2%29%5En+%28a%2Bbx%5E2%29%5Cln%5E%7B2k%7Dx%7D%7B1%2Bx%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分（![](https://www.zhihu.com/equation?tex=m)为奇数 ）。这里要注意：积分形式要保持![](https://www.zhihu.com/equation?tex=x)的次数为奇数，此外要保证最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负（即需要满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0)）。

列出![](https://www.zhihu.com/equation?tex=m%3D1%2C3%2C%5C+n%3D0%2C1%2C%5C+k+%3D1%2C2)的情况如下：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D++%5Cint_0%5E1%5Cfrac%7Bx%28a%2Bbx%5E2%29%5Cln%5E2x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28%5Cfrac%7B3%7D%7B16%7Da-%5Cfrac%7B3%7D%7B16%7Db%5Cright%29%5Czeta%283%29%2B%5Cfrac%7B1%7D%7B4%7Db%5C%5C+++%5Cint_0%5E1%5Cfrac%7Bx%5E3%28a%2Bbx%5E2%29%5Cln%5E2x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28-%5Cfrac%7B3%7D%7B16%7Da%2B%5Cfrac%7B3%7D%7B16%7Db%5Cright%29%5Czeta%283%29%2B%5Cleft%28%5Cfrac%7B1%7D%7B4%7Da-%5Cfrac%7B7%7D%7B32%7Db%5Cright%29%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%281-x%5E2%29%28a%2Bbx%5E2%29%5Cln%5E2x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28%5Cfrac%7B3%7D%7B8%7Da-%5Cfrac%7B3%7D%7B8%7Db%5Cright%29%5Czeta%283%29%2B%5Cleft%28-%5Cfrac%7B1%7D%7B4%7Da%2B%5Cfrac%7B15%7D%7B32%7Db%5Cright%29%5C%5C+++%5Cint_0%5E1%5Cfrac%7Bx%5E3%281-x%5E2%29%28a%2Bbx%5E2%29%5Cln%5E2x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28-%5Cfrac%7B3%7D%7B8%7Da%2B%5Cfrac%7B3%7D%7B8%7Db%5Cright%29%5Czeta%283%29%2B%5Cleft%28%5Cfrac%7B15%7D%7B32%7Da-%5Cfrac%7B193%7D%7B432%7Db%5Cright%29+%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%28a%2Bbx%5E2%29%5Cln%5E4x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28%5Cfrac%7B45%7D%7B64%7Da-%5Cfrac%7B45%7D%7B64%7Db%5Cright%29%5Czeta%285%29%2B%5Cfrac%7B3%7D%7B4%7Db%5C%5C+++%5Cint_0%5E1%5Cfrac%7Bx%5E3%28a%2Bbx%5E2%29%5Cln%5E4x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28-%5Cfrac%7B45%7D%7B64%7Da%2B%5Cfrac%7B45%7D%7B64%7Db%5Cright%29%5Czeta%285%29+%2B%5Cleft%28%5Cfrac%7B3%7D%7B4%7Da-%5Cfrac%7B93%7D%7B128%7Db%5Cright%29%5C%5C+%5Cint_0%5E1%5Cfrac%7Bx%281-x%5E2%29%28a%2Bbx%5E2%29%5Cln%5E4x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28%5Cfrac%7B45%7D%7B32%7Da-%5Cfrac%7B45%7D%7B32%7Db%5Cright%29%5Czeta%285%29%2B%5Cleft%28-%5Cfrac%7B3%7D%7B4%7Da%2B%5Cfrac%7B189%7D%7B128%7Db%5Cright%29%5C%5C+++%5Cint_0%5E1%5Cfrac%7Bx%5E3%281-x%5E2%29%28a%2Bbx%5E2%29%5Cln%5E4x%7D%7B1%2Bx%5E2%7Ddx%3D%26%5C+%5Cleft%28-%5Cfrac%7B45%7D%7B32%7Da%2B%5Cfrac%7B45%7D%7B32%7Db%5Cright%29+%5Czeta%285%29%2B%5Cleft%28%5Cfrac%7B189%7D%7B128%7Da-%5Cfrac%7B7549%7D%7B5184%7Db%5Cright%29++%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=%5Czeta%282k%2B1%29%2C+1)的有理线性组合。

例如：这个问题的中间步骤需要证明![](https://www.zhihu.com/equation?tex=%5Czeta%283%29%3E%5Cdfrac%7B119%7D%7B99%7D+)（![](https://www.zhihu.com/equation?tex=%5Czeta%283%29)也称为阿培里常数(Apery's Constant)，已被证明为无理数），

[如何优雅地证明exp(zeta(3)*G)>3?](https://www.zhihu.com/question/635337588/answer/3329529408)

我们使用![](https://www.zhihu.com/equation?tex=m%3D7%2C+n%3D4)的情况，待定系数后得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Czeta%283%29-%5Cdfrac%7B119%7D%7B99%7D%3D%5Cint_0%5E1%5Cfrac%7Bx%5E%7B7%7D%281-x%5E2%29%5E4%28105135%2B3786824x%5E2%29%5Cln%5E2+x%7D%7B11045067%281%2Bx%5E2%29%7Ddx%3E0.%5Cend%7Balign%2A%7D)




## 第41种类型：正弦积分函数  (  是有理数 )大于或小于一个有理数

正弦积分函数定义为![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BSi%7D%28x%29%3A%3D%5Cint_%7B0%7D%5Ex+%5Cdfrac%7B%5Csin+t%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)。这里只需要考虑![](https://www.zhihu.com/equation?tex=q%3E0)是正数的情况，因为对于![](https://www.zhihu.com/equation?tex=q%3C0)有![](https://www.zhihu.com/equation?tex=%5Ctext%7BSi%7D%28q%29%3D-%5Ctext%7BSi%7D%28-q%29.)我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%5Csin%28qx%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BSi%7D%28q%29)的下界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%28qx-%5Csin%28qx%29%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BSi%7D%28q%29)的上界。要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%5Csin%28qx%29+dx++%3D%5Ctext%7BSi%7D%28q%29%5C+%2B+%5Cdfrac%7B+-+%28a+%2B+b+%2B+c%29+q%5E2%2B6+c%7D%7Bq%5E4%7D%5Csin+q+%2B+%5Cdfrac%7Bq%5E2%2B%28-2+b+-+4+c%29%7D%7Bq%5E3%7D%5Ccos+q%2B%5Cdfrac%7B%28a+-+1%29++q%5E2+%2B+2++%28b+-+c%29+%7D%7Bq%5E3%7D%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%28qx-%5Csin%28qx%29%29+dx++%3D-%5Ctext%7BSi%7D%28q%29%5C+%2B+%5Cdfrac%7B+%28a+%2B+b+%2B+c%29+q%5E2-6+c%7D%7Bq%5E4%7D%5Csin+q+%2B+%5Cdfrac%7B-q%5E2%2B%282+b+%2B+4+c%29%7D%7Bq%5E3%7D%5Ccos+q%2B%5Cdfrac%7B%2830+%2B+10+a+%2B+5b+%2B+3+c%29+q%5E4%2B+60+%28-a%2B1%29+q%5E2+%2B120+%28-b+%2B+c%29+%7D%7B60q%5E3%7D%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Ctext%7BSi%7D%28q%29%2C%5C+%5Csin+q%2C%5C+%5Ccos+q%2C+%5C+1)的有理线性组合(其中为![](https://www.zhihu.com/equation?tex=%5Ctext%7BSi%7D%28q%29)的系数为1或-1），可以采用求解线性方程组求解![](https://www.zhihu.com/equation?tex=a%2Cb%2Cc)的系数。

例如要证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7BSi%7D%5Cleft%28%5Cdfrac%7B1%7D%7B2%7D%5Cright%29%3E%5Cdfrac%7B2%7D%7B5%7D%2C)我们使用![](https://www.zhihu.com/equation?tex=n%3D5)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Ctextrm%7BSi%7D%5Cleft%28%5Cdfrac%7B1%7D%7B2%7D%5Cright%29-%5Cdfrac%7B2%7D%7B5%7D%3D%5Cint_0%5E1+%281-x%29%5E5%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2B%5Cdfrac%7B38448+-+89x+%2B+233x%5E2%7D%7B46080%7D%5Cright%29%5Csin%5Cleft%28%5Cdfrac%7Bx%7D%7B2%7D%5Cright%29dx%3E0.+%5Cend%7Balign%2A%7D)




## 第42种类型：余弦积分函数  和  (  是有理数 )大于或小于一个有理数

余弦积分函数有两种定义分别为![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BCin%7D%28x%29%3A%3D%5Cint_%7B0%7D%5Ex+%5Cdfrac%7B1-%5Ccos+t%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)和![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BCi%7D%28x%29%3A%3D-%5Cint_%7Bx%7D%5E%5Cinfty+%5Cdfrac%7B%5Ccos+t%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)。这里只需要考虑![](https://www.zhihu.com/equation?tex=q%3E0)是正数的情况，因为对于![](https://www.zhihu.com/equation?tex=q%3C0)有![](https://www.zhihu.com/equation?tex=%5Ctext%7BCin%7D%28q%29%3D%5Ctext%7BCin%7D%28-q%29.)我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%281-%5Ccos%28qx%29%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BCin%7D%28q%29)的下界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%5Cleft%28%5Cdfrac%7Bq%5E2x%5E2%7D%7B2%7D-1%2B%5Ccos%28qx%29%5Cright%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BCin%7D%28q%29)的上界。要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%281-%5Ccos%28qx%29%29+dx++%3D%5Ctext%7BCin%7D%28q%29%5C+%2B+%5Cdfrac%7Bq%5E2%2B%28-2b-4c%29%7D%7Bq%5E3%7D%5Csin+q+%2B+%5Cdfrac%7B%28a%2Bb%2Bc%29q%5E2-6c%7D%7Bq%5E4%7D%5Ccos+q%2B%5Cdfrac%7B%286+a+%2B+2+b+%2B+c+-+12%29++q%5E4+%2B+12%28-a%2Bb%29+q%5E2+%2B72c%7D%7B12q%5E4%7D%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%2Bcx%5E2%5Cright%29%5Cleft%28%5Cdfrac%7Bq%5E2x%5E2%7D%7B2%7D-1%2B%5Ccos%28qx%29%5Cright%29+dx++%3D-%5Ctext%7BCin%7D%28q%29%5C+%2B+%5Cdfrac%7B-q%5E2%2B%282b%2B4c%29%7D%7Bq%5E3%7D%5Csin+q+%2B+%5Cdfrac%7B-%28a%2Bb%2Bc%29q%5E2%2B6c%7D%7Bq%5E4%7D%5Ccos+q%2B%5Cdfrac%7B%285+a+%2B+3+b+%2B+2c+%2B+10%29+q%5E6+-10++%28+6+a+%2B+2+b+%2B+c-12%29++q%5E4+%2B+120%28a-b%29q%5E2+-720c%7D%7B120q%5E4%7D%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Ctext%7BCin%7D%28q%29%2C%5C+%5Csin+q%2C%5C+%5Ccos+q%2C+%5C+1)的有理线性组合(其中为![](https://www.zhihu.com/equation?tex=%5Ctext%7BCin%7D%28q%29)的系数为![](https://www.zhihu.com/equation?tex=1)或![](https://www.zhihu.com/equation?tex=-1)），可以采用求解线性方程组求解![](https://www.zhihu.com/equation?tex=a%2Cb%2Cc)的系数。




例如要证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7BCin%7D%282%29%3E%5Cdfrac%7B4%7D%7B5%7D%2C)我们使用![](https://www.zhihu.com/equation?tex=n%3D5)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Ctextrm%7BCin%7D%282%29-%5Cdfrac%7B4%7D%7B5%7D%3D%5Cint_0%5E1+%281-x%29%5E5%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2B%5Cdfrac%7B15+%2B40x+%2B+8x%5E2%7D%7B315%7D%5Cright%29%281-%5Ccos%282x%29%29dx%3E0.+%5Cend%7Balign%2A%7D)

而![](https://www.zhihu.com/equation?tex=%5Ctext%7BCi%7D%28q%29)满足如下关系![](https://www.zhihu.com/equation?tex=%5Ctext%7BCi%7D%28q%29%3D%5Cgamma%2B%5Cln+q-%5Ctext%7BCin%7D%28q%29%2C)于是我们可以利用![](https://www.zhihu.com/equation?tex=%5Ctext%7BCin%7D%28q%29%2C+%5C+%5Cln+q%2C%5C+%5Cgamma)的有理上下界得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BCi%7D%28q%29)的有理上下界。




## 第43种类型：指数积分函数 ,  和  (  是有理数 )大于或小于一个有理数

积分函数有多种定义包括![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BEin%7D%28x%29%3A%3D%5Cint_%7B0%7D%5Ex+%5Cdfrac%7B1-e%5E%7B-t%7D%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)，![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7DE_1%28x%29%3A%3D%5Cint_%7B0%7D%5Ex+%5Cdfrac%7B1-e%5E%7B-t%7D%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)，![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BEi%7D%28x%29%3A%3D-%5Cint_%7Bx%7D%5E%5Cinfty+%5Cdfrac%7B%5Ccos+t%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)，![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BEin%7D%28x%29%3A%3D%5Cint_%7B0%7D%5Ex+%5Cdfrac%7B1-e%5E%7B-t%7D%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)，![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BEin%7D%28x%29%3A%3D%5Cint_%7B0%7D%5Ex+%5Cdfrac%7B1-e%5E%7B-t%7D%7D%7Bt%7Ddt%5Cend%7Balign%2A%7D)。这里对于![](https://www.zhihu.com/equation?tex=%5Ctext%7BEin%7D%28q%29)和![](https://www.zhihu.com/equation?tex=E_1%28q%29)只考虑![](https://www.zhihu.com/equation?tex=q%3E0)的情况，对于![](https://www.zhihu.com/equation?tex=%5Ctext%7BEi%7D%28q%29)只考虑![](https://www.zhihu.com/equation?tex=q%3C0)的情况。我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%281-e%5E%7B-qx%7D%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BEin%7D%28q%29)的下界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%5Cleft%28qx-1%2Be%5E%7B-qx%7D%5Cright%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BEin%7D%28q%29)的上界。要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%281-e%5E%7B-qx%7D%29+dx++%3D%5Ctext%7BEin%7D%28q%29+%2B+%5Cdfrac%7B-q%5E2%2B%28-a-b%29q-2b%7D%7Bq%5E3%7De%5E%7B-q%7D+%2B+%5Cdfrac%7B%283a%2Bb-6%29q%5E3%2B%28-6a%2B6%29q%5E2+%2B%286a-6b%29q%2B12b%7D%7B6q%5E3%7D%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%28qx-1%2Be%5E%7B-qx%7D%29+dx++%3D%5Ctext%7BEin%7D%28q%29+%2B+%5Cdfrac%7Bq%5E2%2B%28a%2Bb%29q%2B2b%7D%7Bq%5E3%7De%5E%7B-q%7D+%2B+%5Cdfrac%7B%282a%2Bb%2B6%29q%5E4%2B%28-6a-2b%2B12%29q%5E3%2B%2812a-12%29q%5E2+%2B%28-12a%2B12b%29q-24b%7D%7B12q%5E3%7D%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Ctext%7BEin%7D%28q%29%2C%5C+e%5E%7B-q%7D%2C+%5C+1)的有理线性组合(其中为![](https://www.zhihu.com/equation?tex=%5Ctext%7BEin%7D%28q%29)的系数为![](https://www.zhihu.com/equation?tex=1)或![](https://www.zhihu.com/equation?tex=-1)），可以采用求解线性方程组求解![](https://www.zhihu.com/equation?tex=a%2Cb)的系数。


例如要证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7BEin%7D%282%29%3C%5Cdfrac%7B7%7D%7B5%7D%2C)我们使用![](https://www.zhihu.com/equation?tex=n%3D4)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B7%7D%7B5%7D-+%5Ctextrm%7BEin%7D%282%29%3D%5Cint_0%5E1+%281-x%29%5E4%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2B%5Cdfrac%7B27-7x%7D%7B15%7D%5Cright%29%282x-1%2Be%5E%7B-2x%7D%29dx%3E0.+%5Cend%7Balign%2A%7D)

而![](https://www.zhihu.com/equation?tex=E_1%28q%29)(![](https://www.zhihu.com/equation?tex=q%3E0)) 满足如下关系![](https://www.zhihu.com/equation?tex=E_1%28q%29%3D%5Ctext%7BEin%7D%28q%29-%5Cln+q-%5Cgamma%2C)于是我们可以利用![](https://www.zhihu.com/equation?tex=%5Ctext%7BEin%7D%28q%29%2C+%5C+%5Cln+q%2C%5C+%5Cgamma)的有理上下界得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BEi%7D%28q%29)的有理上下界。

而![](https://www.zhihu.com/equation?tex=%5Ctext%7BEi%7D%28q%29)(![](https://www.zhihu.com/equation?tex=q%3C0)) 满足如下关系![](https://www.zhihu.com/equation?tex=%5Ctext%7BEi%7D%28q%29%3D-E_1%28-q%29%3D-%5Ctext%7BEin%7D%28-q%29%2B%5Cln+%28-q%29%2B%5Cgamma%2C)于是我们可以利用![](https://www.zhihu.com/equation?tex=%5Ctext%7BEin%7D%28-q%29%2C+%5C+%5Cln+%28-q%29%2C%5C+%5Cgamma)的有理上下界得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BEi%7D%28q%29)的有理上下界。




## 第44种类型：二重对数函数  (  是有理数 )大于或小于一个有理数

正弦积分函数定义为![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7BLi%7D_2%28x%29%3A%3D-%5Cint_%7B0%7D%5Ex+%5Cdfrac%7B%5Cln%281-t%29%7D%7Bt%7Ddt%3D%5Csum_%7Bk%3D1%7D%5E%5Cinfty+%5Cdfrac%7Bx%5Ek%7D%7Bk%5E2%7D.%5Cend%7Balign%2A%7D)函数满足![](https://www.zhihu.com/equation?tex=%5Ctext%7BLi%7D_2%28x%29%2B%5Ctext%7BLi%7D_2%281-x%29+%3D%5Cdfrac%7B%5Cpi%5E2%7D%7B6%7D+-+%5Cln+x+%5Ccdot+%5Cln+%281-x%29+)且![](https://www.zhihu.com/equation?tex=%5Ctext%7BLi%7D_2%5C%21%5Cleft%28%5Cdfrac%7B1%7D%7B2%7D%5Cright%29%3D%5Cdfrac%7B%5Cpi%5E2%7D%7B12%7D-%5Cdfrac%7B%28%5Cln+2%29%5E2%7D%7B2%7D.)这里只考虑![](https://www.zhihu.com/equation?tex=0%3Cq%3C1)的情况。我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%5Cln%5Cleft%28%5Cdfrac%7B1%7D%7B1-qx%7D%5Cright%29dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BLi%7D_2%28q%29)的下界，使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%5Cleft%28%5Cdfrac%7Bqx%7D%7B1-qx%7D-%5Cln%281-qx%29%5Cright%29+dx+%5Cend%7Balign%2A%7D%7D)的定积分来得到![](https://www.zhihu.com/equation?tex=%5Ctext%7BLi%7D_2%28q%29)的上界。要注意最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

随着有理数![](https://www.zhihu.com/equation?tex=q)的分子分母的增大，最终出现的数字可能非常的巨大，这里列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%5Cln%5Cleft%28%5Cdfrac%7B1%7D%7B1-qx%7D%5Cright%29++%3D%5Ctext%7BLi%7D_2%28q%29%5C+%2B+%2B+%5Cdfrac%7B%28-3a-b%2B6%29q%5E3%2B%286a-6%29q%5E2%2B%28-3a%2B3b%29q-2b%7D%7B6q%5E3%7D%5Cln%281-q%29%2B%5Cdfrac%7B%2827a%2B5b-36%29q%5E2%2B%28-18a%2B12b%29q-12b%7D%7B36q%5E2%7D%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%281-x%29%5En%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2Ba%2Bbx%5Cright%29%5Cleft%28%5Cdfrac%7Bqx%7D%7B1-qx%7D%2B%5Cln%281-qx%29%5Cright%29++%3D%5Ctext%7BLi%7D_2%28q%29%5C+%2B+%2B+%5Cdfrac%7B%283a%2Bb-12%29q%5E3%2B%28-12a%2B12%29q%5E2%2B%289a-9b%29q%2B8b%7D%7B6q%5E3%7D%5Cln%281-q%29%2B%5Cdfrac%7B%28-45a-11b%2B72%29q%5E2%2B%2854a-30b%29q%2B48b%7D%7B36q%5E2%7D%5Cend%7Balign%2A%7D)

对于每一个![](https://www.zhihu.com/equation?tex=n)，定积分的结果为![](https://www.zhihu.com/equation?tex=%5Ctext%7BLi%7D_2%28q%29%2C%5C+%5Cln%281-q%29%2C%5C+1)的有理线性组合(其中为![](https://www.zhihu.com/equation?tex=%5Ctext%7BLi%7D_2%28q%29)的系数为![](https://www.zhihu.com/equation?tex=1)或![](https://www.zhihu.com/equation?tex=-1)），可以采用求解线性方程组求解![](https://www.zhihu.com/equation?tex=a%2Cb)的系数。

例如要证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7BLi%7D_2%5Cleft%28%5Cdfrac%7B1%7D%7B3%7D%5Cright%29%3C%5Cdfrac%7B11%7D%7B29%7D%2C)我们使用![](https://www.zhihu.com/equation?tex=n%3D3)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B11%7D%7B29%7D-%5Ctext%7BLi%7D_2%5C%21%5Cleft%28%5Cdfrac%7B1%7D%7B3%7D%5Cright%29%3D%5Cint_0%5E1+%281-x%29%5E3%5Cleft%28%5Cdfrac%7B1%7D%7Bx%7D%2B%5Cdfrac%7B1773-625x%7D%7B174%7D%5Cright%29%5Cleft%28%5Cdfrac%7Bx%7D%7B3-x%7D%2B%5Cln%5Cleft%281-%5Cdfrac%7Bx%7D%7B3%7D%5Cright%29%5Cright%29+%3E0.%5Cend%7Balign%2A%7D)




## 第45种类型：误差函数  (  是有理数 )大于或小于一个有理数

误差函数定义为![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Ctextrm%7Berf%7D%28x%29%3A%3D%5Cfrac%7B2%7D%7B%5Csqrt%7B%5Cpi%7D%7D%5Cint_%7B0%7D%5E%7Bx%7D+e%5E%7B-t%5E2%7Ddt%5Cend%7Balign%2A%7D)。我们使用形如![](https://www.zhihu.com/equation?tex=%5Ccolor%7Bblue%7D%7B%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+x%5E%7Bn%7D%281-x%29%5En+%28a%2Bbx%2Bcx%5E2%29e%5E%7B-%28qx%29%5E2%7D+dx+%5Cend%7Balign%2A%7D%7D)的定积分，这里要注意保证最终生成的![](https://www.zhihu.com/equation?tex=a%2Bbx%2Bcx%5E2)需要满足在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负。

列出![](https://www.zhihu.com/equation?tex=n%3D1)的情况如下：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cint_0%5E1+x%281-x%29%28a%2Bbx%2Bcx%5E2%29e%5E%7B-%28qx%29%5E2%7D+dx%3D%5Cdfrac%7B1%7D%7B8q%5E5%7D%5Cleft%28-%5Csqrt%7B%5Cpi%7D+++%282+q%5E2+%28a+-+b%29+%2B+3+c%29+%5Ctextrm%7Berf%7D%28q%29%2B+2+e%5E%7B-q%5E2%7D+q+%282+b+%2B+c%29+%2B+4+a+q%5E3+%2B%28-4b%2B4c%29q%5Cright%29%5Cend%7Balign%2A%7D)

每一种情况都是![](https://www.zhihu.com/equation?tex=%5Csqrt%7B%5Cpi%7D+%5C+%5Ctextrm%7Berf%7D%28q%29+%2C%5C+e%5E%7B-q%5E2%7D%2C%5C+1)的有理线性组合，然后找到一个![](https://www.zhihu.com/equation?tex=%5Cpi)的有理数的平方的界即可。

例如要证明![](https://www.zhihu.com/equation?tex=%5Ctextrm%7Berf%7D%281%29%3E%5Cdfrac%7B4%7D%7B5%7D%2C)我们首先找到一个![](https://www.zhihu.com/equation?tex=%5Cpi)的有理数平方上界![](https://www.zhihu.com/equation?tex=%2816%2F9%29%5E2), 通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cleft%28%5Cdfrac%7B16%7D%7B9%7D%5Cright%29%5E2-%5Cpi%3D%5Cint_0%5E1+%5Cdfrac%7Bx%5E4%281-x%29%5E4%28109%2B100x%29%7D%7B9%281%2Bx%5E2%29%7Ddx%3E0.+%5Cend%7Balign%2A%7D)

然后使用![](https://www.zhihu.com/equation?tex=n%3D2)的情况，待定系数得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Csqrt%5Cpi%5C+%5Ctextrm%7Berf%7D%281%29-%5Cdfrac%7B64%7D%7B45%7D%3D%5Cdfrac%7B1%7D%7B32%7D%5Cint_0%5E1+x%281-x%29%28204%2B83x-166x%5E2%29e%5E%7B-x%5E2%7Ddx%3E0.+%5Cend%7Balign%2A%7D)

二者结合得到![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Ctextrm%7Berf%7D%281%29%3E%5Cdfrac%7B64%7D%7B45%7D%5Ctimes+%5Cdfrac%7B9%7D%7B16%7D%3D+%5Cdfrac%7B4%7D%7B5%7D.+%5Cend%7Balign%2A%7D)

其他形式也很常见出现在关于![](https://www.zhihu.com/equation?tex=e)和![](https://www.zhihu.com/equation?tex=%5Cpi)的不等式中如![](https://www.zhihu.com/equation?tex=%5Cpi%5E%5Cpi%2C+%5Cpi%5Ee%2C+e%5Ee%2C)不过暂时还没发现能够直接积分出来的定积分形式，如果有哪些网友发现了可以留言补充。







## 二. 优雅技巧大全

在实际使用中有很多技巧，可以使得最后的结果更加优雅、计算更加简单。

## 1. 上述形式以外的不等式

对于不属于上述基本形式的不等式，通过设置中间不等式予以拆分。例如这个问题需要证明![](https://www.zhihu.com/equation?tex=e%2F%5Cpi%3C79%2F91.)

[如何证明e/π＜79/91？](https://www.zhihu.com/question/631663287/answer/3304420554)

没有直接操作![](https://www.zhihu.com/equation?tex=79%5Cpi-91e)的基础形式，我们就使用中间值![](https://www.zhihu.com/equation?tex=248)把问题拆成两个中间问题![](https://www.zhihu.com/equation?tex=79%5Cpi-248%3E0)和![](https://www.zhihu.com/equation?tex=248-91e%3E0)分别通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%2679%5Cpi+-+248+%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E3%281-x%29%5E3%2840-79x%2B119x%5E2%29%7D%7B1%2Bx%5E2%7D+dx+%3E+0%5Cend%7Balign%2A%7D)

和

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26248-91e+%3D%5Cfrac%7B1%7D%7B6%7D+%5Cint_0%5E1+x%281-x%29%282-4x%2B7x%5E2%29e%5Ex+dx+%3E+0.%5Cend%7Balign%2A%7D)

又例如这个问题需要证明![](https://www.zhihu.com/equation?tex=%5Cpi%5Ee%3E22%2C)

[如何优雅地证明π^e>22？](https://www.zhihu.com/question/662487227/answer/3577410330)

没有直接操作![](https://www.zhihu.com/equation?tex=%5Cpi%5Ee)的基础形式，我们把问题转化成证明![](https://www.zhihu.com/equation?tex=e%5Cln+%5Cpi%3E%5Cln+22%2C)分别通过以下四个不等式得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+e-%5Cdfrac%7B19%7D%7B7%7D%3D%5Cint_0%5E1+%5Cdfrac%7Bx%5E2%281-x%29%5E2e%5Ex%7D%7B14%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cpi-%5Cdfrac%7B47%7D%7B15%7D%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E4%285-3x%5E2%29%281-x%5E2%29%5E2%7D%7B8%281%2Bx%5E2%29%7D+dx+%3E+0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cln+%5Cdfrac%7B47%7D%7B15%7D-%5Cdfrac%7B57%7D%7B50%7D%3D%5Cint_0%5E1%5Cfrac%7Bx%5E3%281-x%29%5E3%28455672494-167774592x%29%7D%7B1491075%2815%2B32x%29%5E2%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B19%7D%7B7%7D%5Ctimes+%5Cdfrac%7B57%7D%7B50%7D-%5Cln+22%3D%5Cint_0%5E1+%5Cdfrac%7Bx%281-x%29%7D%7B11%7D%5Cleft%5B%5Cdfrac%7Bx%5E3%281-x%29%5E2%7D%7B%281%2Bx%29%5E2%7D%2B%5Cdfrac%7B3%281007-213x%29%7D%7B1400%288%2B3x%29%7D%5Cright%5Ddx%3E0%2C%5Cend%7Balign%2A%7D+)

因此

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7De%5Cln+%5Cpi+%3E+e%5Cln+%5Cdfrac%7B47%7D%7B15%7D+%3E%5Cdfrac%7B19%7D%7B7%7D%5Ctimes%5Cdfrac%7B57%7D%7B50%7D%3E%5Cln+22.%5Cend%7Balign%2A%7D)

就完成了证明。




## 2. 运用连分数找有理界

使用连分数找有理界是一个非常有效而优雅的方法，例如圆周率的连分数为

![](https://www.zhihu.com/equation?tex=%5Cpi%3D%5B3%3B+7%2C+15%2C+1%2C+292%2C+1%2C+1%2C+1%2C+2%2C+1%2C+3%2C+1%2C+14%2C%5Cldots%5D)

著名的约率和密率都是![](https://www.zhihu.com/equation?tex=%5Cpi)的连分数截断的估计

![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B22%7D%7B7%7D%3D%5B3%3B+7%5D)

![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B355%7D%7B113%7D%3D%5B3%3B+7%2C+15%2C+1%5D)

例如下面这个问题，我们要证明![](https://www.zhihu.com/equation?tex=e%3E2%2B%5Cln2)

[如何证明e>2+ln2?](https://www.zhihu.com/question/660532102/answer/3552807159)

没有直接操作![](https://www.zhihu.com/equation?tex=e-2-%5Cln2)的类型，我们需要找到一个在![](https://www.zhihu.com/equation?tex=e)和![](https://www.zhihu.com/equation?tex=2%2B%5Cln+2)中间的有理数。

首先简单大概计算一下二者间距![](https://www.zhihu.com/equation?tex=e-2-%5Cln2%5Capprox+0.0251%5Cldots)，我们需要找到一个![](https://www.zhihu.com/equation?tex=e)的有理下界并且距离![](https://www.zhihu.com/equation?tex=e)在![](https://www.zhihu.com/equation?tex=0.0251)以内，![](https://www.zhihu.com/equation?tex=e)的连分数为

![](https://www.zhihu.com/equation?tex=e%3D%5B2%3B+1%2C+2%2C+1%2C+1%2C+4%2C+1%2C+1%2C+6%2C+1%2C+1%2C+8%2C%5Cldots%5D)

截到第5个数字有

![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B19%7D%7B7%7D%3D%5B2%3B+1%2C+2%2C+1%2C+1%5D)且![](https://www.zhihu.com/equation?tex=e-%5Cdfrac%7B19%7D%7B7%7D%5Capprox+0.004)，即![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B19%7D%7B7%7D)是![](https://www.zhihu.com/equation?tex=e)和![](https://www.zhihu.com/equation?tex=2%2B%5Cln2)的有理数，然后通过两个积分相加即证：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7De-%5Cdfrac%7B19%7D%7B7%7D%3D+%5Cint_0%5E1+%5Cdfrac%7Bx%5E2%281-x%29%5E2e%5Ex%7D%7B14%7Ddx%3E0%2C+%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B19%7D%7B7%7D-%282%2B%5Cln2%29%3D+%5Cint_0%5E1+%5Cdfrac%7B%281-x%29%5E2%281%2B15x%29%7D%7B56%281%2Bx%29%7Ddx%3E0.%5Cend%7Balign%2A%7D)




## 3. 直接与平方根比较

基本类型一般都是和有理数比较，但其实当比较的对象是有理数的平方根时，不需要通过中间值的方式，可以直接进行比较，此时最终得到的系数就是含平方根的，为了让系数非负看的更加明显，一般采用分子有理化的方式。

例如：在下面这道题目中比较![](https://www.zhihu.com/equation?tex=%5Cpi%5E2)和![](https://www.zhihu.com/equation?tex=%5Csqrt%7B97%7D)的大小，

[如何优雅地证明π²＞√97?](https://www.zhihu.com/question/663502533/answer/3623619718)

我们可以先找到二者之间的有理数![](https://www.zhihu.com/equation?tex=%5Cdfrac%7B69%7D%7B7%7D), 然后证明![](https://www.zhihu.com/equation?tex=%5Cpi%5E2%3E%5Cdfrac%7B69%7D%7B7%7D%3E%5Csqrt%7B97%7D.)我们也可以直接找到等于![](https://www.zhihu.com/equation?tex=%5Cpi%5E2-%5Csqrt%7B97%7D)的积分式，通过关于![](https://www.zhihu.com/equation?tex=%5Cpi%5E2)的积分式得到：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cpi%5E2-%5Csqrt%7B97%7D%3D%5Cint_0%5E%7B1%7D+%5Cdfrac%7Bx%5E5%281-x%5E2%29%5E2%5Cln%281%2Fx%29%7D%7B47%281%2Bx%5E2%29%7D%5Cleft%28%2871214-7200%5Csqrt%7B97%7D%29%2B%2870650-7200%5Csqrt%7B97%7D%29x%5E2%5Cright%29dx+%3E0%5Cend%7Balign%2A%7D)

计算系数![](https://www.zhihu.com/equation?tex=a%3D71214-7200%5Csqrt%7B97%7D%3D302.22%5Cldots%2C+)![](https://www.zhihu.com/equation?tex=b%3D70650-7200%5Csqrt%7B97%7D%3D-261.77...)说明这个积分式满足非负的条件![](https://www.zhihu.com/equation?tex=%28a%5Cge+0%2C+a%2Bb%5Cge+0%29)，但是并没有办法让人一眼看出来，不够优雅。于是针对![](https://www.zhihu.com/equation?tex=b)是负数的这个问题，首先把![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)变成![](https://www.zhihu.com/equation?tex=%28a%2Bb%29%2B%28-b%29%281-x%5E2%29), 此时两个系数![](https://www.zhihu.com/equation?tex=a%2Bb)和![](https://www.zhihu.com/equation?tex=-b)皆为正数，即

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cpi%5E2-%5Csqrt%7B97%7D%3D%5Cint_0%5E%7B1%7D+%5Cdfrac%7Bx%5E5%281-x%5E2%29%5E2%5Cln%281%2Fx%29%7D%7B47%281%2Bx%5E2%29%7D%5Cleft%28%28141864-14400%5Csqrt%7B97%7D%29%2B%287200%5Csqrt%7B97%7D-70650%29%281-x%5E2%29%5Cright%29dx+%3E0%5Cend%7Balign%2A%7D)

然后把![](https://www.zhihu.com/equation?tex=a%2Bb)和![](https://www.zhihu.com/equation?tex=-b)分子有理化，并提取出两个分子的公因数![](https://www.zhihu.com/equation?tex=6)得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cpi%5E2-%5Csqrt%7B97%7D%3D%5Cint_0%5E%7B1%7D+%5Cdfrac%7B6x%5E5%281-x%5E2%29%5E2%5Cln%281%2Fx%29%7D%7B47%281%2Bx%5E2%29%7D%5Cleft%28%5Cdfrac%7B79684%7D%7B5911%2B600%5Csqrt%7B97%7D%7D%2B%5Cdfrac%7B13725%281-x%5E2%29%7D%7B157%2B16%5Csqrt%7B97%7D%7D%5Cright%29dx+%3E0%5Cend%7Balign%2A%7D)

这样积分式是非负的是一目了然的，优雅度得到了提高。




## 4. 判断多项式恒非负

大部分情况的核心步骤是需要找到一个被积函数![](https://www.zhihu.com/equation?tex=f%28x%29)在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负，多数情况下，我们只涉及到一次函数![](https://www.zhihu.com/equation?tex=f%28x%29%3Da%2Bbx)（2个待定系数）和二次函数![](https://www.zhihu.com/equation?tex=f%28x%29%3Da%2Bbx%2Bcx%5E2)（3个待定系数）的判断。

对于一次函数的判断方法非常简单，由于![](https://www.zhihu.com/equation?tex=a%2Bbx)是线性的，我们只需要保证两端的值![](https://www.zhihu.com/equation?tex=f%280%29)和![](https://www.zhihu.com/equation?tex=f%281%29)是非负的，即

![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0.)

对于二次函数会相对复杂，取决于函数的开口方向。当![](https://www.zhihu.com/equation?tex=c%5Cle+0)时，和一次函数一样我们只需要保证两端的值![](https://www.zhihu.com/equation?tex=f%280%29)和![](https://www.zhihu.com/equation?tex=f%281%29)是非负的（即![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%2Bc%5Cge+0)）。当![](https://www.zhihu.com/equation?tex=c%3E0)时, 如果对称轴![](https://www.zhihu.com/equation?tex=x%3D-%5Cdfrac%7Bb%7D%7B2c%7D)在![](https://www.zhihu.com/equation?tex=%280%2C1%29)之间，我们只需要保证![](https://www.zhihu.com/equation?tex=f%5Cleft%28-%5Cdfrac%7Bb%7D%7B2c%7D%5Cright%29)是非负的（即当![](https://www.zhihu.com/equation?tex=c%3E0%2C+%5C+b%3C0%2C%5C+b%2B2c%3E0)时满足![](https://www.zhihu.com/equation?tex=4ac-b%5E2%5Cge+0)）；如果对称轴![](https://www.zhihu.com/equation?tex=x%3D-%5Cdfrac%7Bb%7D%7B2c%7D)在![](https://www.zhihu.com/equation?tex=%280%2C1%29)之外，我们只需要保证两端的值![](https://www.zhihu.com/equation?tex=f%280%29)和![](https://www.zhihu.com/equation?tex=f%281%29)是非负的（即![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C+%5C+a%2Bb%2Bc%5Cge+0)）。Python代码如下：

![](https://pic2.zhimg.com/v2-b8358a6e2d54d5b25eaadafca6ea74cd_1440w.jpg)




根据优雅度原则，我们应尽量让非负性看起来一目了然。

对于一次函数![](https://www.zhihu.com/equation?tex=f%28x%29%3Da%2Bbx)，当![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+b%3C0%2C%5C+a%2Bb%5Cge+0)时，有时非负性看起来不那么显然。此时建议改写为![](https://www.zhihu.com/equation?tex=f%28x%29%3D%28a%2Bb%29%2B%28-b%29%281-x%29)，此时![](https://www.zhihu.com/equation?tex=a%2Bb)是一个合写的数字，非负性一目了然。




对于二次函数，如果![](https://www.zhihu.com/equation?tex=b)或者![](https://www.zhihu.com/equation?tex=c)某一个是负的，且绝对值![](https://www.zhihu.com/equation?tex=%5Cle+a)时。此时建议改写为![](https://www.zhihu.com/equation?tex=f%28x%29%3D%28a%2Bb%29%2B%28-b%29%281-x%29%2Bcx%5E2)或![](https://www.zhihu.com/equation?tex=f%28x%29%3D%28a%2Bc%29%2Bbx%2B%28-c%29%281-x%5E2%29.)

而对于![](https://www.zhihu.com/equation?tex=a%2Cc%3E0)且![](https://www.zhihu.com/equation?tex=b%3C0)但![](https://www.zhihu.com/equation?tex=a%2Bb%3C0)时建议写成配方形式，例如：

![](https://www.zhihu.com/equation?tex=10-16x%2B10x%5E2+%3D+10%5Cleft%28x-%5Cdfrac%7B4%7D%7B5%7D%5Cright%29%5E2%2B%5Cdfrac%7B18%7D%7B5%7D.)




## 5. 软件辅助计算

很多积分用到的系数是天文数字，通过手算是不现实的。我们可以通过软件辅助计算（Maple或者Mathematica）。例如这个问题的中间步骤需要证明![](https://www.zhihu.com/equation?tex=%5Cpi%3E%5Cdfrac%7B47%7D%7B15%7D%2C)

[如何优雅地证明π^e>22？](https://www.zhihu.com/question/662487227/answer/3577410330)

我们写这三句Maple语句：

![](https://pic2.zhimg.com/v2-cb0dda745629de6ccfcda242352cd46b_r.jpg)

其中第一句在设置参数![](https://www.zhihu.com/equation?tex=m%2Cn)的初始值，第二句在构造0到1上的积分，这里包含两个待定的系数![](https://www.zhihu.com/equation?tex=a%2Cb%2C)第三句要求![](https://www.zhihu.com/equation?tex=%5Cpi)的系数为1，常数项为![](https://www.zhihu.com/equation?tex=-%5Cdfrac%7B47%7D%7B15%7D)(即积分结果为![](https://www.zhihu.com/equation?tex=%5Cpi-%5Cdfrac%7B47%7D%7B15%7D+)）。只需运行这三句话得到![](https://www.zhihu.com/equation?tex=a%3D-1%2F2%2C%5C+b%3D3%2F2), 但是并不满足![](https://www.zhihu.com/equation?tex=a%2Bbx%5E2)在![](https://www.zhihu.com/equation?tex=%5B0%2C1%5D)上恒非负（即![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0)）。我们需要进一步提高![](https://www.zhihu.com/equation?tex=m%2Cn)的值，当![](https://www.zhihu.com/equation?tex=m%3Dn%3D2)时

![](https://pic1.zhimg.com/v2-56df207d071af1a74f399c082ce50628_r.jpg)

得到![](https://www.zhihu.com/equation?tex=a%3D5%2F8%2C%5C+b%3D-3%2F8), 满足![](https://www.zhihu.com/equation?tex=a%5Cge+0%2C%5C+a%2Bb%5Cge+0)，于是

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cpi-%5Cdfrac%7B47%7D%7B15%7D%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E4%281-x%5E2%29%5E2%285-3x%5E2%29%7D%7B8%281%2Bx%5E2%29%7D+dx+%3E+0.%5Cend%7Balign%2A%7D)

这里对不同的![](https://www.zhihu.com/equation?tex=m%2Cn)的值的试验可写一个迭代语句，最终结果![](https://www.zhihu.com/equation?tex=a%2Cb)值是否符合要求可以另写一个判断语句。




## 6. 分母升幂扩大收敛半径

[@ForeverHaibara](https://www.zhihu.com/people/01422a972af02654f0fecd02e6e20d6c)讨论了一些积分的收敛半径，非常值得阅读

[构造积分数值比较的收敛性](https://zhuanlan.zhihu.com/p/670472865)

例如：使用形如![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5En%281-x%29%5En%28a%2Bbx%29%7D%7B1%2B%28q-1%29x%7D+dx%5Cend%7Balign%2A%7D)的定积分来估计![](https://www.zhihu.com/equation?tex=%5Cln+q)，根据上面的文章中的讨论，只有当![](https://www.zhihu.com/equation?tex=3-2%5Csqrt2%3Cq%3C3%2B2%5Csqrt2)时，通过增加![](https://www.zhihu.com/equation?tex=n)的值才可以不断逼近![](https://www.zhihu.com/equation?tex=%5Cln+q), 但是这个范围里面的整数只有![](https://www.zhihu.com/equation?tex=2%2C3%2C4%2C5), 适用范围有限; 而![](https://www.zhihu.com/equation?tex=q%3E3%2B2%5Csqrt2)时，越增加![](https://www.zhihu.com/equation?tex=n)的值会远离![](https://www.zhihu.com/equation?tex=%5Cln+q)。在实际中运用中很多都是关于![](https://www.zhihu.com/equation?tex=%5Cln+11%2C+%5Cln+257)这种数的不等式，技巧是可以通过将分母变成高次幂![](https://www.zhihu.com/equation?tex=%281%2B%28q-1%29x%29%5Es)(![](https://www.zhihu.com/equation?tex=s)是大于1的正整数）来增加收敛半径。即使是在![](https://www.zhihu.com/equation?tex=3-2%5Csqrt2%3Cq%3C3%2B2%5Csqrt2)范围里面的有理数![](https://www.zhihu.com/equation?tex=q),也可以通过将分母变成高次![](https://www.zhihu.com/equation?tex=%281%2B%28q-1%29x%29%5Es)(![](https://www.zhihu.com/equation?tex=s)是大于1的正整数）来增加收敛速度从而降低![](https://www.zhihu.com/equation?tex=n)的值。




例如：这个题目的中间步骤需要证明![](https://www.zhihu.com/equation?tex=%5Cln5%3C%5Cdfrac%7B375%7D%7B233%7D%2C)

[如何优雅地证明5^π<157？](https://www.zhihu.com/question/662557454/answer/3575999251)

如果使用![](https://www.zhihu.com/equation?tex=%281%2B4x%29)为分母，![](https://www.zhihu.com/equation?tex=n)需要提高到45，而系数也大的惊人：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B375%7D%7B233%7D-%5Cln+5%3D%5Cint_0%5E1%5Cfrac%7Bx%5E%7B45%7D%281-x%29%5E%7B45%7D%28a-bx%29%7D%7Bc%281%2B4x%29%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

这里 a=555647803349053429051717816010528145501824041443050850097532036048, b=1850184817200771610327588209615201440704955041000557122639335551168, c=13993879721425628304132260382175445556640625.

如果将分母设置为![](https://www.zhihu.com/equation?tex=%281%2B4x%29%5E7)，![](https://www.zhihu.com/equation?tex=n)只需不超过7即可，系数也小得多：

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B375%7D%7B233%7D-%5Cln+5%3D%5Cint_0%5E1%5Cfrac%7B8x%5E6%281-x%29%5E7%282751%2B186448x%29%7D%7B8155%281%2B4x%29%5E7%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

优雅度得到了极大的提高。




类似地，当我们使用![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cint_0%5E1+%5Cfrac%7Bx%5Em%281-x%5E2%29%5En%28a%2Bbx%29%7D%7B1%2Bx%5E2%7D+dx%5Cend%7Balign%2A%7D)的定积分来构造关于![](https://www.zhihu.com/equation?tex=%5Cpi)的不等式，可以通过将分母变成高次![](https://www.zhihu.com/equation?tex=%281%2Bx%5E2%29%5Es)(![](https://www.zhihu.com/equation?tex=s)是大于1的正整数）来增加收敛半径，加快收敛速度。







## 7. 拆分

当![](https://www.zhihu.com/equation?tex=q)特别大的时候（如超过20），即使是升高分母的幂次，也会收敛得非常缓慢，最终的结果的系数将是天文数字。这个时候就要将![](https://www.zhihu.com/equation?tex=%5Cln+q)拆开为多个小的![](https://www.zhihu.com/equation?tex=%5Cln+q%27)（尽量控制每个![](https://www.zhihu.com/equation?tex=q%27%5Cle+3)）然后针对每个![](https://www.zhihu.com/equation?tex=%5Cln+q%27)构造不等式再相加。例如在这个题目的中间步骤需要证明![](https://www.zhihu.com/equation?tex=%5Cln22%3C%5Cdfrac%7B1083%7D%7B350%7D%2C)

[如何优雅地证明π^e>22？](https://www.zhihu.com/question/662487227/answer/3577410330)

我们将![](https://www.zhihu.com/equation?tex=%5Cln22)拆成![](https://www.zhihu.com/equation?tex=4%5Cln2%2B%5Cln%5Cdfrac%7B11%7D%7B8%7D%2C)分别通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B61%7D%7B22%7D-4%5Cln+2%3D%5Cint_0%5E1+%5Cdfrac%7Bx%5E4%281-x%29%5E3%7D%7B11%281%2Bx%29%5E2%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

和![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B619%7D%7B1925%7D-%5Cln%5Cdfrac%7B11%7D%7B8%7D%3D%5Cint_0%5E1+%5Cdfrac%7B3x%281-x%29%281007-213x%29%7D%7B15400%288%2B3x%29%7Ddx%3E0%2C%5Cend%7Balign%2A%7D+%254%E5%80%8D%28ln2%3C61%2F88%29)

二者相加提取公因式得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B1083%7D%7B350%7D-%5Cln+22%3D%5Cint_0%5E1+%5Cdfrac%7Bx%281-x%29%7D%7B11%7D%5Cleft%5B%5Cdfrac%7Bx%5E3%281-x%29%5E2%7D%7B%281%2Bx%29%5E2%7D%2B%5Cdfrac%7B3%281007-213x%29%7D%7B1400%288%2B3x%29%7D%5Cright%5Ddx%3E0.%5Cend%7Balign%2A%7D+%254%E5%80%8D%28ln2%3C61%2F88%29)




## 8. 利用"Pade近似插值"技巧处理  和

除了直接拆分![](https://www.zhihu.com/equation?tex=%5Cln+q)以外，有一种更高效的方法来处理它："Pade近似插值"，篇幅所限见我的另一篇文章专门介绍此方法如下：

[【注意力进阶教程】利用“Pade近似的插值”构造积分优雅地证明对数函数和反正切函数的有理上下界](https://zhuanlan.zhihu.com/p/736937260)

这个方法也可以用于处理![](https://www.zhihu.com/equation?tex=%5Carctan+q)。




## 9. 积分组合

为了让积分更加优雅，可以将多个积分合写在一起。我们用![](https://www.zhihu.com/equation?tex=f_1%2Cf_2)代表要注意到的式子，用![](https://www.zhihu.com/equation?tex=p_1%2Cp_2)代表相应的有理上下界

## （1）线性组合：

这个比较简单，使用积分的线性组合即可（注意不等号的方向一致才可以相加）。例如：

例如这个问题需要证明![](https://www.zhihu.com/equation?tex=79%5Cpi%3E91e)

[如何证明e/π＜79/91？](https://www.zhihu.com/question/631663287/answer/3304420554)

我们已经找到了![](https://www.zhihu.com/equation?tex=79%5Cpi+%3E+248)和![](https://www.zhihu.com/equation?tex=248%3E91e)分别通过

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%2679%5Cpi+-+248+%3D+%5Cint_0%5E1+%5Cfrac%7Bx%5E3%281-x%29%5E3%2840-79x%2B119x%5E2%29%7D%7B1%2Bx%5E2%7D+dx+%3E+0%5Cend%7Balign%2A%7D)

和

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%26248-91e+%3D%5Cfrac%7B1%7D%7B6%7D+%5Cint_0%5E1+x%281-x%29%282-4x%2B7x%5E2%29e%5Ex+dx+%3E+0.%5Cend%7Balign%2A%7D)

把二者合写成一个式子更加优雅

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%2679%5Cpi+-91e+%3D%5Cint_0%5E1+x%281-x%29%5Cleft%5B%5Cdfrac%7B%282-4x%2B7x%5E2%29e%5Ex%7D%7B6%7D%2B+%5Cfrac%7Bx%5E2%281-x%29%5E2%2840-79x%2B119x%5E2%29%7D%7B1%2Bx%5E2%7D%5Cright%5D+dx+%3E+0.%5Cend%7Balign%2A%7D)




## （2）乘积：

将乘积变形为

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7Df_1f_2-p_1p_2%3Df_2%28f_1-p_1%29%2Bp_1%28f_2-p_2%29%2C%5Cend%7Balign%2A%7D)

这样将![](https://www.zhihu.com/equation?tex=f_1-p_1)和![](https://www.zhihu.com/equation?tex=f_2-p_2)对应的积分线性组合即可。例如：在下面这个问题中

[πcos(1)<e-1怎么证明？](https://www.zhihu.com/question/665996323/answer/39584485197)

我们注意到三个式子

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7De-%5Cdfrac%7B19%7D%7B7%7D%3D+%5Cint_0%5E1+%5Cdfrac%7Bx%5E2%281-x%29%5E2e%5Ex%7D%7B14%7Ddx+%3E+0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cfrac%7B22%7D%7B7%7D-%5Cpi%3D%5Cint_%7B0%7D%5E%7B1%7D%5Cdfrac%7Bx%5E4%281-x%29%5E4%7D%7B1%2Bx%5E%7B2%7D%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B6%7D%7B11%7D-%5Ccos+1%3D%5Cint_0%5E1+%5Cdfrac%7B%281-x%29%5E2%282%281-x%29%2Bx%5E2%29%5Csin+x%7D%7B22%7Ddx%3E0%2C%5Cend%7Balign%2A%7D)

因此

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7De-1%3E%5Cdfrac%7B12%7D%7B7%7D%3D%5Cdfrac%7B22%7D%7B7%7D%5Ctimes+%5Cdfrac%7B6%7D%7B11%7D%3E%5Cpi%5Ccos+1.+%5Cend%7Balign%2A%7D)

但是其实三个积分可以合成一个积分，使用“线性组合”和“乘积”两种手段，将目标变形成

![](https://www.zhihu.com/equation?tex=e-1-%5Cpi+%5Ccos+1+%3D+%5Cleft%28e-%5Cdfrac%7B19%7D%7B7%7D%5Cright%29+%2B+%5Cdfrac%7B6%7D%7B11%7D+%5Cleft%28%5Cdfrac%7B22%7D%7B7%7D-%5Cpi%5Cright%29+%2B++%5Cpi%5Cleft%28%5Cdfrac%7B6%7D%7B11%7D-%5Ccos+1%5Cright%29.)

于是将三个积分合成一个积分并提取公因子得到

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7De-1-%5Cpi%5Ccos+1+%3D+%5Cint_0%5E1+%5Cdfrac%7B%281-x%29%5E2%7D%7B154%7D%5Cleft%5B11x%5E2e%5Ex%2B7%5Cpi%282%281-x%29%2Bx%5E2%29%5Csin+x%2B%5Cdfrac%7B84x%5E4%281-x%29%5E2%7D%7B1%2Bx%5E%7B2%7D%7D%5Cright%5Ddx%3E0.%5Cend%7Balign%2A%7D)

优雅度得到了提高。




## （3）除法：

和乘法类似，将除法变形为

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7Bf_1%7D%7Bf_2%7D-%5Cdfrac%7Bp_1%7D%7Bp_2%7D%3D%5Cdfrac%7B1%7D%7Bf_2%7D%28f_1-p_1%29-%5Cdfrac%7Bp_1%7D%7Bp_2f_2%7D%28f_2-p_2%29%5Cend%7Balign%2A%7D)

或

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7Bf_1%7D%7Bf_2%7D-%5Cdfrac%7Bp_1%7D%7Bp_2%7D%3D%5Cdfrac%7B1%7D%7Bp_2%7D%28f_1-p_1%29-%5Cdfrac%7Bf_1%7D%7Bp_2f_2%7D%28f_2-p_2%29%2C%5Cend%7Balign%2A%7D)

这样将![](https://www.zhihu.com/equation?tex=f_1-p_1)和![](https://www.zhihu.com/equation?tex=f_2-p_2)对应的积分线性组合即可。




## （4）指数：

没有直接操作指数的方法，我们加入一个对数，将问题转化为求解![](https://www.zhihu.com/equation?tex=f_1%5Cln+f_2), 然后将变形为

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7Df_1%5Cln+f_2-p_1%5Cln+p_2%3D%28f_1-p_1%29%5Cln+f_2%2B+p_1%28%5Cln+f_2-%5Cln+p_2%29%3D%28f_1-p_1%29%5Cln+f_2%2B+p_1%5Cln+%5Cleft%281%2B%5Cdfrac%7B1%7D%7Bp_2%7D%28f_2-p_2%29%5Cright%29.%5Cend%7Balign%2A%7D)

接下来有两种方法：将![](https://www.zhihu.com/equation?tex=f_1-p_1)和![](https://www.zhihu.com/equation?tex=f_2-p_2)对应的积分式带入，或者改为寻找![](https://www.zhihu.com/equation?tex=f_1-p_1)和![](https://www.zhihu.com/equation?tex=%5Cln+f_2-%5Cln+p_2)(或![](https://www.zhihu.com/equation?tex=%5Cln+f_2-q_2%27))对应的积分式。

此方法也可以单独将![](https://www.zhihu.com/equation?tex=f%3Ep)变成![](https://www.zhihu.com/equation?tex=%5Cln+f%3E%5Cln+p), 即

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cln+f-%5Cln+p%3D%5Cln+%5Cleft%281%2B%5Cdfrac%7B1%7D%7Bp%7D%28f-p%29%5Cright%29.%5Cend%7Balign%2A%7D)




## （5）对数：

将对数变形为

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Clog_%7Bf_2%7D%7Bf_1%7D-%5Clog_%7Bp_2%7D%7Bp_1%7D%3D%5Cdfrac%7B%5Cln+f_1%7D%7B%5Cln+f_2%7D-%5Cdfrac%7B%5Cln+p_1%7D%7B%5Cln+p_2%7D%3D%5Cdfrac%7B1%7D%7B%5Cln+p_2%7D%28%5Cln+f_1-%5Cln+p_1%29-%5Cdfrac%7B%5Cln+f_1%7D%7B%5Cln+p_2+%5Cln+f_2%7D%28%5Cln+f_2-%5Cln+p_2%29%5Cend%7Balign%2A%7D)

或

![](https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D%5Cdfrac%7B1%7D%7B%5Cln+f_2%7D%28%5Cln+f_1-%5Cln+p_1%29-%5Cdfrac%7B%5Cln+p_1%7D%7B%5Cln+p_2+%5Cln+f_2%7D%28%5Cln+f_2-%5Cln+p_2%29%2C%5Cend%7Balign%2A%7D)

改为寻找![](https://www.zhihu.com/equation?tex=%5Cln+f_1-%5Cln+p_1)( 或![](https://www.zhihu.com/equation?tex=%5Cln+f_1-q_1%27)) 和![](https://www.zhihu.com/equation?tex=%5Cln+f_2-%5Cln+p_2)( 或![](https://www.zhihu.com/equation?tex=%5Cln+f_2-q_2%27)) 对应的积分式。




## 最后附上优雅度三原则：

- 系数越小越优雅；
- 不等式数量越少越优雅；
- 积分非负越显然越优雅。

![](https://pic2.zhimg.com/v2-aa8f6fe8efefc550d0ac4b9daf76e719_r.jpg)

# 游戏开发：独立游戏与个人开发者
[](https://zhuanlan.zhihu.com/p/697191835)

看到今年CUSGA（中国大学生游戏开发大赛）有一个解谜游戏画面很不错，谜题设计也很优秀，之后发现是一个人做的。




![](https://pic3.zhimg.com/v2-0cfd097d0d61da1b41c7599eee014c12_r.jpg)

![](https://pica.zhimg.com/v2-78cee38073e3853ffd95a012b02c3cbe_r.jpg)




比起其他人的游戏，他的游戏更有种统一的美术风格。而且，对于小众类型逻辑解谜而言，并不好找到同好一起来制作。

游戏需要分裂自身，去构建一个刚好能构成两个物体达成结果检测。开始的关卡有一定的引导属性，之后开始出现一些比较线性代数的概念如旋转与缩放，再者出现从一侧进去从反方向出来的机制之后，格子的奇偶性也成了Puzzle Solving的关键。

由于是个Grid-Based加上Turn-Based，对于空间的逻辑能力会非常敏感，需要恰好构建一个刚好的结构去适应结果。游戏整体难度并不轻度，因为卡关了所以没全打完。

同为学生的独立游戏开发者鸵鸟居士对他的评价：

> 这种级别的自洽和一体性，不是solo，不是左脑跟右脑配合，是做不出来的。机制谜题关卡，配色场景构图，浑然一体。如果不是一个人做的，一定会有撕裂感。

如果你对这种Grid-Based Turn-Based的逻辑解谜感兴趣可以尝试一下，Parallel的游戏链接：[https://xexlax.itch.io/parallel](https://link.zhihu.com/?target=https%3A//xexlax.itch.io/parallel)

这种统一的风格除了xexlax的Parallel，还有不少游戏在这个范畴内。




![](https://pic2.zhimg.com/v2-875b5d35c8e206ded9c1d8c5514455ef_r.jpg)







![](https://pic3.zhimg.com/v2-a8d3b9fedba0028aea4ac2c4f0fc7334_r.jpg)




这是独立游戏开发者流贾君的新游戏，超级滑刃战士，目前游戏还没开始发售，不过已经有了Steam界面。

流贾君是一位成熟的独立游戏开发者，而且也是一位个人开发者，它的美术比起很多个人开发者要好，而且它的**游戏画面也做到了统一性**。

超级滑刃战士Steam链接：[https://store.steampowered.com/app/2847740/Super_Drift_Blade/](https://link.zhihu.com/?target=https%3A//store.steampowered.com/app/2847740/Super_Drift_Blade/)

当然不止超级滑刃战士，他过去的很多游戏都保持了一贯的风格：

《窗户之外》




![](https://pic4.zhimg.com/v2-ce246bf371e355373283be6801a540ff_r.jpg)







![](https://pica.zhimg.com/v2-97102d5ee52f66e042cc963ac8d082fc_r.jpg)




《平衡100》




![](https://pic3.zhimg.com/v2-817e5bfceb9f874f4c5fcdc435953f96_r.jpg)







![](https://pica.zhimg.com/v2-c3eb918818d046d42ee0b22e3d7f18dc_r.jpg)




对于美术好的游戏看过了，不妨现在再看一些美术“差”的游戏

《A=B》




![](https://pic2.zhimg.com/v2-0b70db1d5a1cea002c8cd7431c2f1be5_r.jpg)




《Understand顿悟》




![](https://pica.zhimg.com/v2-06cf5fdb9d251faf6952a194e5533e2c_r.jpg)




《蜡笔物理学》




![](https://picx.zhimg.com/v2-789cb7f35d7f54315f36cc1eb4a0f683_r.jpg)




这些游戏也都是一个人开发的，比起美术更重视玩法的逻辑解谜领域开发者，Artless Games。

它的游戏或许没有精致的美术，但是它的游戏能引来无数解谜游戏玩家的称赞，因为它是切实去做好逻辑解谜这个类型的。

或许这无法被常人所理解，但是这个世界上永远有一些小众的文化群体，小众的社群，而Artless的用户群体就是它们。不一定要做热，不一定要趋于大众，但一定要在小范围内做好。这是**游戏风格的统一性**。

拿《A=B》举例，虽然界面比起Zachtronics的《SHENZHEN I/O》甚至《TIS-100》简陋，但是你可以在上面的窗口去测试用例，代码编辑器有基本的撤销功能，一个问题有三个档案供选择和调试，调节字体大小，步进和快速运行。这些在玩法上做到了尽可能的人性化。

A=B Steam链接：[https://store.steampowered.com/app/1720850/AB/](https://link.zhihu.com/?target=https%3A//store.steampowered.com/app/1720850/AB/)

国内的开发者聊完了，接下来聊点国外的开发者。

《SpelunkyRL》




![](https://pic2.zhimg.com/v2-dd6cc4f37c4822b95828b22c0ca7e001_r.jpg)




《Monster Trainer RL》




![](https://pica.zhimg.com/v2-6c65bbb1b7d06482f6a0fa11012b70a0_r.jpg)




《CvRL2: The Lady of Berkeley》




![](https://picx.zhimg.com/v2-3cb20ddc87d6df1b0aa92ffa7cb39df7_r.jpg)




《Emerald Woods》




![](https://picx.zhimg.com/v2-39c8f6d6315b87e86f9a5f1ea284474d_r.jpg)




这是Roguebasin的站长，忠于传统Roguelike游戏开发者，Slashie，他的游戏代码部分都是自己写的，也是自己策划的，但音乐还有美术会寻求外部力量。

他的游戏绝大部分都是Roguelike，对于现在的很多只玩Hades，Slay the Spire，Binding of Isaac等Roguelite还无法区分like和lite的年轻人来说，Roguelike是个很难接受的类型。

作为一个有20余年的游戏开发者和Roguelike玩家，Slashie的游戏阅历丰富至极。因此他的游戏也深受Roguelike玩家的喜爱。

Slashie的个人网站链接：[https://slashie.net/](https://link.zhihu.com/?target=https%3A//slashie.net/)

Platformer也是个很有趣的类型

《Love》




![](https://pic2.zhimg.com/v2-0f43af92fdf7628b23bdea6623b0f973_r.jpg)




《Nymph's Tower》




![](https://pic4.zhimg.com/v2-c1b91801b9de989e956742ce503b4f93_r.jpg)




Brlka是一个专注于平台跳跃游戏类型的开发者，虽然笔者喜欢精确平台，但他的游戏也非常对胃口。

Platformer也算是个比较小众的类型，特别是精确平台，玩家需要一遍又一遍的尝试，一般难度上会对玩家素质有一定要求。这种负面反馈大于正面反馈的游戏体验放到2024年自然是不会吃香的，当然Thinky Puzzle即逻辑解谜和传统Roguelike也是一样的。

Love就是这样的一个精确平台游戏，没有华丽的画面，只有朴素的一次又一次的尝试。当你成功攻克目前的关卡到达下一个存档点的这种喜悦，是难以描述的。这也让我想起很多I wanna fangame，特别是Gimmick跳刺和综合。

Brlka的itch链接：[https://brlka.itch.io/](https://link.zhihu.com/?target=https%3A//brlka.itch.io/)

在文章的最后，我认为不仅仅是作为一个独立游戏开发者，更是应该作为一个玩家。游戏开发者来源于玩家，应该更多的去融入自己喜欢的社区，去找到自己游戏的受众。

写到最后，发现自己不但写了美术风格上的统一，还写了游戏内容的统一。

作为个人独立游戏开发者，我们有自己的情感，我们有自己想去表达的内容，我们能够分辨出一个完整的物体。这是团队开发难以做到的，特别是小众类型。

玩的游戏不一样，难免会有分歧。就算同是平台跳跃，玩蔚蓝的和玩马里奥的也会有很多分歧。

如果你有一个能和你一起共享喜怒哀乐的团队，大家能够组合成一个整体完成各自的分工，请珍惜他们，这是难能可贵的。

# 想搭建自己的博客，主要用于分享知识以及写教程书（类似于gitbook）最好能部署到公网，有什么建议吗？
[](https://www.zhihu.com/question/619420012/answer/3433796975)

起因是这样的：我三年前想要搭建一个私人博客，但是发现现成的框架定制化程度太低了，而且审美水平停留在上个世纪，遂自己通宵三天基于 vue3 和 go/gin 写了一个 SPA 网站用于展示我的文章和各种计算机技术。

服务器用的腾讯的，SSL 证书白嫖的，域名买的，折合下来一年大概100块钱的样子。

先来展示一波我创建了三年的个人网站，附带博客，在线PPT，云U盘，私人大模型等诸多功能：

[汇尘轩 - 锦恢的博客](https://link.zhihu.com/?target=https%3A//kirigaya.cn/)

首页展示服务器，客户端的天气，客户端的网络情况。最新博客，等等。

![](https://pic1.zhimg.com/v2-835d6b00cb807c3cddcfbfbf32aa96bd_r.jpg?source=2c26e567)




私人大模型

![](https://pic1.zhimg.com/v2-8a853f6deb39d672024f5b849d037ebc_r.jpg?source=2c26e567)




个人博客

![](https://pic1.zhimg.com/v2-6c62218b859bc80f51731e3ed896a70b_r.jpg?source=2c26e567)

根据文章自动生成可供跳转的目录锚点：

![](https://picx.zhimg.com/v2-42dee0fb55f3450d86afd0f319018789_r.jpg?source=2c26e567)

基于图数据库多跳查询的推荐系统 & 支持 markdown 的评论

![](https://pica.zhimg.com/v2-53a70f2601c0172ed0665425af3cced4_r.jpg?source=2c26e567)

在线修改文章和 markdown 渲染：

![](https://pic1.zhimg.com/v2-2f2a382f229a629094ef8bb5be9638e5_r.jpg?source=2c26e567)

个人开发的简单的 markdown 编辑与渲染器

![](https://pic1.zhimg.com/v2-7e5a38144c4bb42e5aac25a518d938c3_r.jpg?source=2c26e567)




我需要一个地方展示我的音乐品味

![](https://pic1.zhimg.com/v2-842898ac9629fd4dce16d8adbadb6431_r.jpg?source=2c26e567)




alphatab，自动模块装载外带自动播放曲谱，游戏打腻，paper看无聊了就应该拿起手边的吉他或者大提琴。

![](https://pic1.zhimg.com/v2-32460fd3a97890bd612080293058cb7e_r.jpg?source=2c26e567)




博客可以基于标签进行检索

![](https://picx.zhimg.com/v2-2aecb97f973d173db6d607b45f27ed15_r.jpg?source=2c26e567)




博客也可以基于关键词进行检索

![](https://picx.zhimg.com/v2-69a845029a9fbfb0ae23e42fab7a2a75_r.jpg?source=2c26e567)




在线展示 PPT，组会上最靓的仔

![](https://pic1.zhimg.com/v2-284a94db8e83ad8c49813482f937d3d9_r.jpg?source=2c26e567)




一些实用的视觉工具，前一阵子我朋友身体有点差，就帮他看看片子：

![](https://pica.zhimg.com/v2-5f509c6c79e6dc646b42c1a5ab460389_r.jpg?source=2c26e567)




私人云盘，为啥要开网盘会员？自己写个不就行了？

![](https://picx.zhimg.com/v2-25a223073556d0f0295020f01adf361c_r.jpg?source=2c26e567)




记录我参加的开源项目，欢迎点个 star：

![](https://picx.zhimg.com/v2-005d805a788b0d6662806156dd722030_r.jpg?source=2c26e567)




看一看我的关注的新番是不是更新了

![](https://pic1.zhimg.com/v2-ca792df2c7d711207f194921e5d2b09d_r.jpg?source=2c26e567)




记录我的学习进度（已经两年没更新了，这是我两年前的进度）

![](https://picx.zhimg.com/v2-6eedf1db57ca89491e0e2f4c3c08a6f6_r.jpg?source=2c26e567)




最后肯定要搞个友链啦（证明搞博客的人其实不少）

![](https://pica.zhimg.com/v2-3692212f1965a93120a778402dc10e4e_r.jpg?source=2c26e567)

我之前也用框架（vuepress）搭建了一个书籍平台，并且用无监督深度学习技术做了 OCR + PDF 提取器，把一部分教材做成了网页版本，比如咨询心理学，人工智能系统。我发现这些教材级别的文本不太适合用博客框架承载内容，显得不太合适。

[锦恢的书籍&文档](https://link.zhihu.com/?target=https%3A//document.kirigaya.cn/)

![](https://picx.zhimg.com/v2-b4ec1969b8c1c2c163698abadc28b2d1_r.jpg?source=2c26e567)

![](https://picx.zhimg.com/v2-2643c5519563e8f43cf5a0bcc910c091_r.jpg?source=2c26e567)

最近读研啦，趁着之前的闲暇时光，自学了人类营养学，皮肤护理，健美，药理学，占卜，心理学等知识。写博客也是一种督促自己学习的好的平台。就和打 RPG 游戏一样，你培养名为 “自我” 的角色，每天给 TA 喂素材，一天天变强。

我觉得自己写得不错的文章会放到知乎上。如果我觉得某篇文章只是笔记性质的，那么我不会把它放到知乎上，因为我认为这种垃圾文章会污染互联网知识的纯度。

之前也用 hexo 帮我朋友搭建过博客，这个框架真的有点年久失修了，特别是对于新版本的nodejs和浏览器各种不兼容，估计再过10年就要报销了，不过好在主题足够多。

这个博客是挂载在 github page 上的，虽然不要钱，但是上传和修改文章需要 rebuild & git add & commit & push，非常麻烦。

![](https://pic1.zhimg.com/v2-38c4ae777a596d2bbd82593942e7594f_r.jpg?source=2c26e567)

如果你有任何关于博客方面的困惑，欢迎找我咨询。

# 我应该设置多少kb才能让他不能玩游戏？
[](https://www.zhihu.com/question/629492783/answer/3317933965)

最有效的办法其实是禁用udp

禁用udp可以干掉绝大多数游戏，以及让部分游戏能登录但不能进入对局

但是你的孩子可能会意外觉醒udp over tcp的技能

别问我怎么知道的，我之前就读的布村郊区不知名大学校园网就是屏蔽全部udp，游戏全都连不上，少部分能登录不能进入对局，基于wireguard的代理也不能用（wireguard也是udp），于是我直接在住的地方拿旧手机跑了一个trojan中转，在学校里连接trojan中转打游戏，丝滑流畅，因为trojan是原生fullcone的，甚至可以直接解决学校nat的问题使用家宽原生公网ip




PS：市面上常见的游戏加速器普遍使用udp over tcp类的协议，因为udp不可靠的特性，在跨地区和跨国传输的过程中容易丢包，游戏加速器通过在这些不可靠路径上使用可靠的tcp协议，最后在靠近机房的地方转回udp，从而减少丢包率

# Vue 和 React 的优点分别是什么？
[](https://www.zhihu.com/question/301860721/answer/545031906)

这个问题下面的很多回答太偏激了，其实我淡出知乎就是因为这类破事... 但是作为作者还是认真地说一说吧，希望能以后别再有这种问题了。

这里我可以大方地承认，如果多年以后要论历史地位，React 肯定是高于 Vue 的。事实上，我作为一个开发者，也是由衷地佩服 Jordan Walke, Sebastian Markbage 这样的，能从开发模式层面上提出突破性的新方向的人。

React 从一开始的定位就是提出 UI 开发的新思路。当年 Pete Hunt 最开始推广 React 的时候的一句口号就叫 "Rethinking Best Practices"，这样的定位使得 React 打开了一些全新的思路，吸引了一群喜欢折腾的早期核心用户，并在这个基础上通过社区迭代孵化出了许多今天被 React 开发者当作常识的 pattern。这是 React 伟大的地方，Vue 里面也有很多地方是直接受到了 React 的启发。React 敢做这样的尝试，是因为它是 Facebook。这样的体量的公司，在 infrastructure 层面获得质的提升，收益是巨大的，而且 Facebook 的工程师们足够聪明又要靠工资吃饭，改变他/她们的习惯并不是什么问题。而对外推广，则是一种大公司才有的 “改变业界” 的底气。

Vue 从一开始的定位就是尽可能的降低前端开发的门槛，让更多的人能够更快地上手开发。我以前也说过，开发 Vue 的初衷不是为了搞个大新闻，只是做了个我自己用得舒服的框架。我虽然也在 Google 这样的大公司呆过，但骨子里是一个喜欢自由的人，也一直觉得独立开发者很酷（这也是为什么最终自己也成了一个独立开发者）。很多时候我更希望自己做的东西能帮到那些中小型企业和个人开发者。举个例子来说，美国传统行业里有很多 small business，它们不像大公司那样有专门的 IT 团队来信息化整个流程，很多只能雇一个普通的 contractor 程序员，有些甚至是老板自己兼职研究代码。我收到过好几封这样的感谢信，说因为 Vue 让它们多快好省地做了个内部应用，解决了实际问题，这样的故事是让我觉得特别爽的。

做 React 这样的不迎合用户，而是试图改变用户的设计需要有足够的本钱：你得有足够的资源和背景去强行越过初始推广的那个陡坡。事实上，如果没有 Facebook 作为 React 的推广者，React 很可能最终是一个有着忠实用户群体的小众框架（比如 Elm）。作为一个个人项目的 Vue 没有这样的宣传资源，也并不是为了改变用户。所以从设计的角度上来说，Vue 首先考虑的是假设用户只掌握了 web 基础知识 (HTML, CSS, JS) 的情况下，如何能够最快理解和上手，实现一个看得见摸得着的应用。

一个 API 看得顺不顺眼，用得舒不舒服，很大程度上取决于你跟一个技术的核心用户群体的重合程度。编程语言之间喷来喷去还少么？大家都是图灵完备，然而此之蜜糖，彼之砒霜。Vue 的 API 设计固然有可以商榷的地方，但 React 也不是完美无瑕，不然也不会从 mixins 到 HOC 到 render props 一次次地折腾，更没有 hooks 什么事了。直到 Suspense 出现前，也不存在什么只有 React 才能做到的事情（顺带一提，有意思的是 hooks 基本上废掉了过去大部分基于组件的逻辑抽象模式，抹掉了 JSX vs. 模版的一个优势，也完全可以用在其他框架里，连 Angular 都已经有对应的原型实现...）然而 “不完美” 并没有妨碍在过去的几年内大量的用户用各自选择的技术做出实际的产品 —— 从[State of JS 近两年的数据](https://link.zhihu.com/?target=https%3A//2018.stateofjs.com/front-end-frameworks/overview/)来看，两者的满意率是差不多的，都在 90% 出头，说明两者在 “满足目标用户的需求” 这个衡量标准下，表现是差不多的。可维护性、可读性、优雅程度、生态这些东西嘴上怎么辩都可以，还是数据比较实在。

再说说具体技术层面：从加载速度、运行时性能来说，两者目前综合各种场景应该说是没有什么质的差别。硬要说的话，Vue 在 update 性能优化方面需要的心智负担可能少那么一点 —— React 如果不注意，容易导致过多的组件无用 diff，但是实际上真正会遇到性能瓶颈的应用也是少数... Vue 3 会比 Vue 2 快不少，加上模版编译还有一些可进一步发掘的优化空间，所以性能上会比现在的 React 有一定优势，但 React 那边也在研究基于 prepack 的编译时优化，这个也是挺值得期待的。Vue 3 对于 TS 的支持会有很大改善（包括 TSX），我们也在计划对模版做更好的 IDE 支持（比如补全、类型检查），现在没有不代表以后不能有，有批评我们改进就是了。其实过去大半年 Vue 本身没有什么大更新是因为精力都放在工具链上了，接下来又要回到核心上了。React 那边 time slicing / Concurrent mode 要明年 Q2 才稳定，那个时候应该 Vue 3 的 time slicing 应该也稳定了（原型已实现）。Suspense 在 data-fetching 稳定之前并没什么大用（要 2019 年中），这期间我们也会研究解决同类问题的方案。所以从纯技术层面来说，React 现在比 Vue 牛逼么？不好说。以后一定比 Vue 牛逼么？也不好说。

使用数量方面，有很多文章拿各种数据来比较，有的是 GitHub stars，有的是 npm 下载量，有的是 Google trends，有的是 StackOverflow 的问题数量... 其实这些数据都有很明显的问题，那就是它们跟实际使用者的数量并不一定是正比，会受到其它因素的影响，比如 GitHub stars 跟实际使用没有直接关联；使用者中使用 CI 的比例会影响 npm 的下载量；Google trends 很难完美过滤掉 React 这样的常见词汇的 false positive；文档和本身的上手难易程度会影响 StackOverflow 的问题数量，等等... 所以我自己一直是以 Chrome 开发者插件的使用者数量作为一个比较可靠的数据，因为它的关联度是最直接的，潜在的干扰因素也是最少的。目前 Vue 的开发者插件用户数量约为 70.4 万，而 React 是 136.3 万，大致可以作为参考。React 的使用量还是有明显优势，不过这个数字比起两年前已经很不一样了 —— 那时候大约是 1:7 的比例。从增速来看，Vue 是要快一些的。

说了这么多，无非是希望大家能停下来想想所谓的 ”A 技术比 B 技术牛逼“ 背后到底是在争些什么，我们使用这些技术的初衷又是什么。很多时候你说这方面，他说那方面，鸡同鸭讲，即使说到一起去，也往往缺乏对等的信息量或者基础共识，只是各自表达主观看法，最后变成两个阵营各自抱团取暖... 说到底，就算你证明了 A 比 B 牛逼，也不意味着你或者你的项目就牛逼了... 比起争这个，不如多想想怎么让自己变得更牛逼吧。

# 如何评价 Naïve UI?
[](https://www.zhihu.com/question/463736268/answer/1928879382)

本以为这又是哪个 KPI 轮子，但一想不对，大厂项目绝不会起这种游走在边缘的名字。再仔细一看文档才感受到，这个项目展示了作者丰富的内心世界。

首先看这名字就知道，这文档里总要有点虎狼之词吧（[in English](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/gradient-text)）：

![](https://picx.zhimg.com/v2-efe70a42d59c07aed07bd419cec5015d_r.jpg?source=2c26e567)

但就好像过度动画容易引发不适一样，真正好的文案也应该是润物细无声的，像这个[Back Top](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/back-top)：

![](https://pic1.zhimg.com/v2-b8a1e53b6efc6b9e143eb7691d784463_r.jpg?source=2c26e567)

这种兼备诙谐与哲理色彩的一句话简介，一般常见于国外的项目中。作者不仅驾驭得不错，还能坚持在中英文版之间一致地同步，这就更难能可贵了。你看这还能在[Button Group](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/button)里整一首小诗：

![](https://pic1.zhimg.com/v2-a98f612bbbf281a9199289c7f65a9209_r.jpg?source=2c26e567)

「活着 / 不多 / 不少，活着 / 其实 / 很好，再吃 / 一颗 / 苹果」……不知道作者想再吃一颗的到底是不是苹果。

感觉作者的文案质量已经超越了很多产品经理，像这个放 404 和 403 的[Result](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/result)组件（打开链接往后翻更精彩）：

![](https://picx.zhimg.com/v2-bd5318a2659426134e626c49cb677e3b_r.jpg?source=2c26e567)

不过你要是觉得文档里都是大白话，那你还是 naive 了。稍微翻一下还能找到很多致敬细节，比如这个[Popconfirm](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/popconfirm)：

![](https://pic1.zhimg.com/v2-0375c1ae17fce3b93a8b83221ed7a8f4_r.jpg?source=2c26e567)

「一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。」
——村上春树《且听风吟》

并且作者显然不只喜欢读小说，还喜欢听歌。比如这个[Ellipsis](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/ellipsis)的示例，就来自万青的《大石碎胸口》：

![](https://picx.zhimg.com/v2-7ca4559e2febf9ec7d390fbb59be11c0_r.jpg?source=2c26e567)

除了中文歌以外，还有致敬英文歌的文案。像这个[Message](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/message)里的消息，就来自披头士的《No reply》和脍炙人口的《Blowin’ in the Wind》：

![](https://pic1.zhimg.com/v2-4a197a72b12c970c48052ffededd0718_r.jpg?source=2c26e567)

这个致敬的层次啊，显然比我这种只懂在测试用例里写 114514 的水平不知道高到哪里去了。另外文档里还有很多能体现作者个人气质的细节。比如这个[Alert](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/alert)就表明作者日常回家，喜欢躺平，最怕老婆挂电话和穿越到 USSR：

![](https://picx.zhimg.com/v2-8cf647896de4616ecb35b0f612da9687_r.jpg?source=2c26e567)

另外感觉作者和天津平山道很有渊源，甚至借助[Notification](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/notification)组件的功能编冷笑话来宣传。这是在借开源的机会推广自己的故乡吗？感觉这很值得知乎上一些知名天津用户学习：

![](https://picx.zhimg.com/v2-d80762600777b99f0b20e44ffd89d1c9_r.jpg?source=2c26e567)

![](https://picx.zhimg.com/v2-d1bea2ebf350d55bc4e2e44eccd33b67_r.jpg?source=2c26e567)

另外看这个[Dropdown](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/dropdown)，感觉作者的微信朋友圈应该也很精彩：

![](https://pic1.zhimg.com/v2-caf69b911f7c195b89747c86bb243368_r.jpg?source=2c26e567)

最后这个[Thing](https://link.zhihu.com/?target=https%3A//www.naiveui.com/zh-CN/os-theme/components/thing)里面还黑了一下那些包容万象的业务组件：

![](https://pic1.zhimg.com/v2-2315d1a435195d874c719a0b4c1e15ab_r.jpg?source=2c26e567)

翻完一圈文档，诸如此类的细节还有很多，感觉 naive 的竟是我自己。这显然是把项目当作自己的作品在认真做的，没有不少公司内部晋升驱动的 XXX-UI 组件库东拼西凑粗制滥造的感觉。以这样的走心程度看来，相信代码质量应该也是值得信赖的（[技术细节可以直接看原作者的回答](https://www.zhihu.com/question/463736268/answer/1928240435)）。

最后，我建议大家不妨以一定的频率体验下[TuSimple](https://link.zhihu.com/?target=https%3A//github.com/TuSimple)公司的这个项目，因为俗话说得好嘛，sometimes naive。

[@这里是安全的](https://www.zhihu.com/people/0998ae5b39813c699f90dc37113368e7)

# 有没有一段代码，让你为人类的智慧击节叫好？
[](https://www.zhihu.com/question/30262900/answer/253192946)

分享几个第一次看到就被它的优美深深震撼到的代码：

1、线性求逆元：

仅仅两行代码，就实现了在$O(n)$的时间内求出1到n对模m的逆元有木有！？




2、求最大公因数：

第一次接触到这样的代码时，我的内心是这样的：

wtf???黑人问号.jpg




3、树状数组

对于单点修改区间求和，树状数组可谓达到了时空复杂度的极限，甚至不多用额外一字节存储空间。来看看它的实现：

修改：

查询：

表示记性不好的我看完一遍也记住了呢。




4、zkw线段树

对于单点修改区间查询的线段树，zkw大神实力教你如何1分钟内码出代码：

修改：

查询：




以上都是一些十分基础但真的让你赞不绝口的算法和数据结构。还有一些稍微复杂一些的栗子，由于手机码代码太不方便了，就以后再更吧。（如果有笔误打错的地方欢迎指正哈）

5、后缀数组的DC3算法，反正学完它的一瞬间我是明白了，天才和普通人的智商差距简直比人和狗还大啊。。。

6、快速傅里叶变换的数论版本（即NTT）：学完后有种想去数学系的冲动（还好后来冷静下来了）。费马素数群的性质居然和复数完美吻合，不得不说是一种奇迹啊。

7、主席树：这是fotile巨佬考场上发明这种数据结构，用于在$O(log n)$的时间复杂度内解决序列区间第k大问题，以及区间内元素的排名。个人感觉他比划分树的设计巧妙多了，有一种自然的美感。

8、Pollard因数分解算法：如果你真的把关于时间复杂度的证明一步步看完后，相信你会有一种豁然开朗的感觉。这个算法真正高的地方在于把生日悖论和递推式循环节巧妙的结合在一起，最后运用递推方程主定理的理论，使得时间复杂度达到了看似不可能的期望$n^0.25$的数量级。




其实现在感觉一切和数据结构或数学有关的算法都是非常优美的，前者在于设计的精巧性，后者在于证明的环环相扣，达到引人入胜的效果。

# Chrome 是怎么判断地址栏输入的东西是不是网址?
[](https://www.zhihu.com/question/560616439/answer/2722866208)

Chrome 的地址栏代号是 Omnibox，omni 是万能、全能的词根，Omnibox 就是全能盒子的意思。在 2008 年 Chrome 发布的时候，其它浏览器都是在一个长的地址栏右侧有个短的搜索框，Omnibox 把搜索和网址输入合二为一是当时一个大的创新。

Omnibox 是个很复杂的东西，远比我们用户想的要复杂，Chrome 就自带一个给他们的开发者调试用的页面，chrome://omnibox：

![](https://picx.zhimg.com/v2-ba1a9d1c59e5e2103fdbfac92aab4999_r.jpg?source=2c26e567)

最核心的功能就是要判断你输入的东西是什么，是个 query 还是个 url，也就是调试页面里展示出的那个 type = 的值。比如当你输入[http://www.baidu.com](https://link.zhihu.com/?target=http%3A//www.baidu.com)：

![](https://picx.zhimg.com/v2-7201e221a07a9b85b684c8803b0b4a60_r.jpg?source=2c26e567)

Ominibox 判断出了这个字符串是个 url，所以排在第一位的结果，也就是我们立刻回车执行的那个操作，就是 url-what-you-typed，也就是以网址形式打开你输入的内容，当然，我们的输入其实是缺了 https:// 协议头的，所以实际上它会给补上，也就是倒数第二列展示的那个。

而第二位的结果类型叫 search-other-engine，是因为它判断出了刚好是浏览器内置的谷歌以外的一个搜索引擎，所以它会提示你，按下 TAB 键，就可以输入关键词，从而打开百度搜索。

第三位叫 search-what-you-typed，就是用默认的搜索引擎搜索输入的字符串，拼接好的谷歌网址也展示了出来。

前三个结果在 Omnibox 里展示出来是这样的：

![](https://picx.zhimg.com/v2-9ce7721b5be9a2347dd7cb0c266b96ef_r.jpg?source=2c26e567)

实际上判断是不是 url 是个非常复杂的逻辑，更何况这里的输入不能期望它是个完整的 url，比如没有协议头的话，JS API 里是可以直接报错说它不是个 url，但这里不行。而且这里还得考虑自己的业务属性，比如不允许的协议类型，xxx:www.baidu.com：

![](https://picx.zhimg.com/v2-aac694c9c85bd2ce33b664a30939fc59_r.jpg?source=2c26e567)

它没有识别成 url 类型，也不是 query 类型，而是 unknown，unknown 类型类似 query，排第一的结果也是默认搜索，但是它和 query 不一样的是，也可以作为网址打开，箭头向下移动到最底部再回车就可以。比如我在之前回答中提到的谷歌公司内部短网址域名 go 的网址，就会被判断成 unknown：

![](https://picx.zhimg.com/v2-d4bc6ea659a9e33242bd9a327c5e198a_r.jpg?source=2c26e567)

而 localhost 就被特殊处理成了 url 类型：

![](https://pic1.zhimg.com/v2-cae88d98ce293b86cf016225b3fca0e3_r.jpg?source=2c26e567)

还有这里还得考虑本地路径格式，比如斜杠 / 表示根目录和波浪线 ~ 表示 Home 目录。

还有个有趣的 javascript: 协议，这是从网景时代 Brendan Eich 手里传下来的调试功能，BE 不在 Mozilla 以后，Firefox 已经完全禁掉了它。在 Omnibox 里，javascript:1+1 默认会是搜索，因为被判定成了 unknown：

![](https://picx.zhimg.com/v2-df4f9d17c98835370cf1f4b74513daf1_r.jpg?source=2c26e567)

而 javascript:alert(1+1) 就会被识别成 url，会弹出 2。这是因为很多年前，有人说搜素 JavaScript 犀牛书的名字 JavaScript: The Definitive Guide，结果没有打开谷歌，而是给当成代码执行了：

![](https://picx.zhimg.com/v2-a6d214eb5f3c43b764a4ed55cdddedde_r.jpg?source=2c26e567)

所以他们加了个简单的正则：

![](https://picx.zhimg.com/v2-9c7cd314142520aaf5a7234b4ad80da8_r.jpg?source=2c26e567)

只有 javascript: 协议后的文本包含一些括号、点、分号等才认为是代码，通常来说，也够了。

我这里只是说一些简单的有趣的 case，其实很多你想都想不到的场景有很多，比如输入 ip，而且还有 ipv4 和 ipv6 的情况，等等。识别这个字符串是不是 url 涉及到的 C++ 代码怎么都有几千行，这不是一个正则能实现的。

现在据说流行一个面试题：

![](https://picx.zhimg.com/v2-712587ac5324d1ba5269905e044887f6_r.jpg?source=2c26e567)

我这里说的就是这道题的答案的第一步的梗概。

# 羊了个羊是不是骗局？
[](https://www.zhihu.com/question/553632083/answer/2681836013)

不是，这种游戏能火起来，我就觉得很匪夷所思。

做一个这种游戏，比做一个俄罗斯方块还简单，我花了晚上两个钟，自己写了一个“咖波了个咖波”（咖波作者原谅我，咖波太可爱了，侵删）

![](https://picx.zhimg.com/v2-4b89a6ae87639dcbdddcb9882cbe6fe2_r.jpg?source=2c26e567)

这种游戏逻辑写起来不要太简单好么

![](https://picx.zhimg.com/v2-21aef02771a36008bfcf583f92b379f3_r.jpg?source=2c26e567)

而且官方还否认了，羊了个羊不是抄袭（不能说很像，只能说完全一致）

![](https://pic1.zhimg.com/50/v2-4569050e85963291f2b4b94c7b3360a0_720w.jpg?source=2c26e567)

嘿嘿，既然如此我也不客气了，我这就把“咖波了个咖波”开个源，大家可以在assets中自己替换成自己喜欢的贴图哈

![](https://pic1.zhimg.com/v2-1811bb58cbd4c25016a1359a160d9a91_r.jpg?source=2c26e567)

比如可以“狗了个狗”

![](https://pica.zhimg.com/v2-efa3c8a65db13c1fd1e693398076496a_r.jpg?source=2c26e567)

“奥特曼了个奥特曼”

![](https://picx.zhimg.com/v2-bc632230573f6bdb7d9fd48b7367779c_r.jpg?source=2c26e567)

“蛇了个蛇”

![](https://picx.zhimg.com/v2-a67fa0d44bdaebb1e691cecbe2895fbb_r.jpg?source=2c26e567)

## 另外敲黑板，划重点了哈，游戏特色：

**1.我没有做游戏胜利界面哈，因为大概率不需要过不了关哈，**只有0.001%的人能通关哈

**2.游戏失败界面当然是做了的**

**3.我摊牌哈，牌子全是随机生成的，不保证能全消哈**

**害，居然忘记做了游戏最重要的功能，看广告，死罪死罪**

![](https://pic1.zhimg.com/v2-4df6b1e7e2f089b73d360295d9140996_r.jpg?source=2c26e567)

PS：另外说一句广告要看99999秒哈，毕竟看广告才是这个游戏的玩法

![](https://pic1.zhimg.com/v2-057b2b21bf4038d753748443c220b78e_r.jpg?source=2c26e567)

我编译成了webassembly，激情游戏，在线试玩

[https://www.painterengine.com/main/instances/instance2022092001/index.html](https://link.zhihu.com/?target=https%3A//www.painterengine.com/main/instances/instance2022092001/index.html)

备用链接

[https://www.painterengine.cn/main/instances/instance2022092001/index.html](https://link.zhihu.com/?target=https%3A//www.painterengine.cn/main/instances/instance2022092001/index.html)

源码下载：

[https://www.painterengine.com/example.html](https://link.zhihu.com/?target=https%3A//www.painterengine.com/example.html)

备用链接:

[https://www.painterengine.cn/example.html](https://link.zhihu.com/?target=https%3A//www.painterengine.cn/example.html)

依赖引擎库

[PainterEngine 一个由C语言编写的完整开源的跨平台图形应用框架](https://link.zhihu.com/?target=https%3A//www.painterengine.com/index.html)

备用链接:

[PainterEngine 一个由C语言编写的完整开源的跨平台图形应用框架](https://link.zhihu.com/?target=https%3A//www.painterengine.cn/index.html)

PPS:有人问我广告打开了，不想看完消格子了，要怎么退出啊，这个问题问的好!!来都来了你还想跑？

PPPS：我怕真有人把99999s的广告看完了，提前预告一下，广告时间有负数的哈

![](https://picx.zhimg.com/v2-4d10feede71519a3a3fb05126f9d3990_r.jpg?source=2c26e567)

























## 下面的内容是写给DIY玩家看的

==============================================

本来只是随便写的用来嘲讽一下羊了个羊这个韭菜游戏的回答,没想到大家那么热情,居然想真的上手还要通关.

我坦白,我连胜利过关界面都没做,前面的意思呢,是0.001%的人能(用非正常手段)通关,但事情沦落到这个地部,不得不开放一下教程,把通关庆祝做了,顺便让有些真正想玩这游戏的上手DIY一下.

关于换皮肤这一点,仍然是打开assets文件夹,替换对应png文件哈

![](https://pic1.zhimg.com/v2-e50638b57bfdccab6f954db01142ebad_r.jpg?source=2c26e567)

注意一下,png图片的大小一定是48*48的png彩色图片,尺寸不一样不能成功,另外png decoder也是我自己搓的轮子,所以一些灰度之类的非常见png也无法加载,大部分时候应该是没有问题的,那个广告ad2.png也可以换,不过图片大小没有额外要求.

之后是生成布局,因为大多数人不会编译,所以捏,我使用了PainterEngine内部集成的编译型脚本引擎PainterScript,不要慌,很简单的,请用记事本或者Visual studio code之类的文本编辑器打开script.c,就是下面这个

![](https://picx.zhimg.com/50/v2-d7917240994cdb428c4c1571eda4968d_720w.jpg?source=2c26e567)

里面的默认的无法通关的搞笑代码如下:

在main函数里呢,生成的就是对应的布局,上面呢我把注释都打好了,默认布局代码如上,你可能会说,好复杂我不会编程看不懂啊,咋办,小问题:

我们重点关注

这个函数是创建标签用的,x,y表示要创建标签左上角坐标,每个标签必定是48x48大小的,z表示深度,越大则放置的越底下,在标签被上层遮盖时将不能被点击,id就是你png文件对应的数字,最大支持31个标签,id的范围是1-31,如果没有对应png图片,会创建失败,png图片格式必定是(1.png,2.png,3.png.....),当然你放的png越多,这个游戏就越难.

我举个例子,首先窗口左上角为原点坐标,y轴向下,x轴向右,我现在创建3个标签

那么,运行结果就是这样的

![](https://pic1.zhimg.com/v2-634d99877392ce0d0f1b85b5b982cd14_r.jpg?source=2c26e567)

或者代码如果是这样的:

那运行结果就是这样

![](https://pic1.zhimg.com/v2-afd872414b8b1acff2c2eadcae989fd8_r.jpg?source=2c26e567)

当然,你也可以学习默认的代码,用代码手段去生成布局,PainterScript是我自己做自己用的一门语言,但用法和C基本很像,大家自行揣摩哈.
